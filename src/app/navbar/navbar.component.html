<nav class="navbar navbar-dark bg-primary">
  <div class="container-fluid">
    <!-- Navbar Brand -->
    <a class="navbar-brand" href="#">ECOM</a>

    <!-- Navigation Links -->
    <ul class="navbar-nav d-flex flex-row me-auto">
      <li class="nav-item">
        <a class="nav-link active" routerLink="/">Accueil</a>
      </li>
      <li class="nav-item ms-3">
        <a class="nav-link" href="#">Page 1</a>
      </li>
      <li class="nav-item ms-3">
        <a routerLink="/panier" class="nav-link">
          Panier
          <i class="fa fa-shopping-cart ms-1" aria-hidden="true"></i>

        </a>
      </li>
      <li class="nav-item ms-3">
        <a routerLink="/profile" class="nav-link">
          Profile
          <i class="fa fa-user ms-1" aria-hidden="true"></i>
        </a>
      </li>
    </ul>
    @if(!loggedIn){
    <button class="btn btn-outline-light" type="button" (click)="signIn()">
      Sign in
    </button>} @else {
      <button class="btn btn-outline-light" type="button" (click)="signOut()">
        Sign Out
      </button>
    }

    <!-- Form with Search and Category Dropdown -->
    <form class="d-flex align-items-center">
      <!-- Search Input -->
      <div class="search-container position-relative me-2">
        <input
          type="text"
          class="form-control"
          [(ngModel)]="searchKey"
          (ngModelChange)="onSearchByKey()"
          list="productSuggestions"
          placeholder="Rechercher des produits"
          aria-label="Search"
          name="searchKey"
        />
        <i class="fa fa-magnifying-glass position-absolute end-0 top-50 translate-middle-y text-light me-2"></i>

        <!-- Datalist for product suggestions -->
        <datalist id="productSuggestions">
          <option *ngFor="let product of filteredProducts" [value]="product.name"></option>
        </datalist>
      </div>

      <!-- Category Dropdown -->
      <select
        class="form-control me-2"
        [(ngModel)]="selectedCategory"

        name="selectedCategory"
      >
        <option *ngFor="let category of categories" [value]="category">
          {{ category }}
        </option>
      </select>

      <!-- Search Button -->
      <button class="btn btn-outline-light" type="button" (click)="search()">
        Rechercher
      </button>
    </form>
  </div>
</nav>

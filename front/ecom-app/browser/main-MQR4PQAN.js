import{A as Ft,B as tn,a as B,b as pe,c as tE,d as L,e as nE,f as Rc,g as rE,h as iE,i as oE,j as sE,k as Tp,l as aE,m as uE,n as cE,o as Sp,p as lE,q as dE,r as xn,s as Ea,t as Ir,u as Nc,v as Da,w as Ap,x as hE,y as Ca,z as Pc}from"./chunk-A7ONN6GX.js";function fE(t,e){return Object.is(t,e)}var st=null,Oc=!1,kc=1,Er=Symbol("SIGNAL");function me(t){let e=st;return st=t,e}function pE(){return st}var Ta={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Rp(t){if(Oc)throw new Error("");if(st===null)return;st.consumerOnSignalRead(t);let e=st.nextProducerIndex++;if(jc(st),e<st.producerNode.length&&st.producerNode[e]!==t&&ba(st)){let n=st.producerNode[e];Lc(n,st.producerIndexOfThis[e])}st.producerNode[e]!==t&&(st.producerNode[e]=t,st.producerIndexOfThis[e]=ba(st)?vE(t,st,e):0),st.producerLastReadVersion[e]=t.version}function nR(){kc++}function mE(t){if(!(ba(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===kc)){if(!t.producerMustRecompute(t)&&!Pp(t)){t.dirty=!1,t.lastCleanEpoch=kc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=kc}}function gE(t){if(t.liveConsumerNode===void 0)return;let e=Oc;Oc=!0;try{for(let n of t.liveConsumerNode)n.dirty||rR(n)}finally{Oc=e}}function yE(){return st?.consumerAllowSignalWrites!==!1}function rR(t){t.dirty=!0,gE(t),t.consumerMarkedDirty?.(t)}function Vc(t){return t&&(t.nextProducerIndex=0),me(t)}function Np(t,e){if(me(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ba(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Lc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Pp(t){jc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(mE(n),r!==n.version))return!0}return!1}function Op(t){if(jc(t),ba(t))for(let e=0;e<t.producerNode.length;e++)Lc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function vE(t,e,n){if(_E(t),t.liveConsumerNode.length===0&&wE(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=vE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Lc(t,e){if(_E(t),t.liveConsumerNode.length===1&&wE(t))for(let r=0;r<t.producerNode.length;r++)Lc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];jc(i),i.producerIndexOfThis[r]=e}}function ba(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function jc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function _E(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function wE(t){return t.producerNode!==void 0}function IE(t){let e=Object.create(iR);e.computation=t;let n=()=>{if(mE(e),Rp(e),e.value===Fc)throw e.error;return e.value};return n[Er]=e,n}var Mp=Symbol("UNSET"),xp=Symbol("COMPUTING"),Fc=Symbol("ERRORED"),iR=pe(B({},Ta),{value:Mp,dirty:!0,error:null,equal:fE,producerMustRecompute(t){return t.value===Mp||t.value===xp},producerRecomputeValue(t){if(t.value===xp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=xp;let n=Vc(t),r;try{r=t.computation()}catch(i){r=Fc,t.error=i}finally{Np(t,n)}if(e!==Mp&&e!==Fc&&r!==Fc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function oR(){throw new Error}var EE=oR;function DE(){EE()}function CE(t){EE=t}var sR=null;function bE(t){let e=Object.create(SE);e.value=t;let n=()=>(Rp(e),e.value);return n[Er]=e,n}function kp(t,e){yE()||DE(),t.equal(t.value,e)||(t.value=e,aR(t))}function TE(t,e){yE()||DE(),kp(t,e(t.value))}var SE=pe(B({},Ta),{equal:fE,value:void 0});function aR(t){t.version++,nR(),gE(t),sR?.()}function ne(t){return typeof t=="function"}function Ao(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Uc=Ao(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ni(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof Uc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{AE(o)}catch(s){e=e??[],s instanceof Uc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Uc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)AE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ni(n,e)}remove(e){let{_finalizers:n}=this;n&&Ni(n,e),e instanceof t&&e._removeParent(this)}};Ke.EMPTY=(()=>{let t=new Ke;return t.closed=!0,t})();var Fp=Ke.EMPTY;function Bc(t){return t instanceof Ke||t&&"closed"in t&&ne(t.remove)&&ne(t.add)&&ne(t.unsubscribe)}function AE(t){ne(t)?t():t.unsubscribe()}var Rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Mo={setTimeout(t,e,...n){let{delegate:r}=Mo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Mo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function $c(t){Mo.setTimeout(()=>{let{onUnhandledError:e}=Rn;if(e)e(t);else throw t})}function Sa(){}var ME=Vp("C",void 0,void 0);function xE(t){return Vp("E",void 0,t)}function RE(t){return Vp("N",t,void 0)}function Vp(t,e,n){return{kind:t,value:e,error:n}}var Pi=null;function xo(t){if(Rn.useDeprecatedSynchronousErrorHandling){let e=!Pi;if(e&&(Pi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Pi;if(Pi=null,n)throw r}}else t()}function NE(t){Rn.useDeprecatedSynchronousErrorHandling&&Pi&&(Pi.errorThrown=!0,Pi.error=t)}var Oi=class extends Ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Bc(e)&&e.add(this)):this.destination=lR}static create(e,n,r){return new Dr(e,n,r)}next(e){this.isStopped?jp(RE(e),this):this._next(e)}error(e){this.isStopped?jp(xE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jp(ME,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},uR=Function.prototype.bind;function Lp(t,e){return uR.call(t,e)}var Up=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){qc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){qc(r)}else qc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){qc(n)}}},Dr=class extends Oi{constructor(e,n,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Rn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Lp(e.next,o),error:e.error&&Lp(e.error,o),complete:e.complete&&Lp(e.complete,o)}):i=e}this.destination=new Up(i)}};function qc(t){Rn.useDeprecatedSynchronousErrorHandling?NE(t):$c(t)}function cR(t){throw t}function jp(t,e){let{onStoppedNotification:n}=Rn;n&&Mo.setTimeout(()=>n(t,e))}var lR={closed:!0,next:Sa,error:cR,complete:Sa};var Ro=typeof Symbol=="function"&&Symbol.observable||"@@observable";function nn(t){return t}function zc(...t){return Bp(t)}function Bp(t){return t.length===0?nn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=hR(n)?n:new Dr(n,r,i);return xo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=PE(r),new r((i,o)=>{let s=new Dr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ro](){return this}pipe(...n){return Bp(n)(this)}toPromise(n){return n=PE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function PE(t){var e;return(e=t??Rn.Promise)!==null&&e!==void 0?e:Promise}function dR(t){return t&&ne(t.next)&&ne(t.error)&&ne(t.complete)}function hR(t){return t&&t instanceof Oi||dR(t)&&Bc(t)}function $p(t){return ne(t?.lift)}function ge(t){return e=>{if($p(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,i){return new qp(t,e,n,r,i)}var qp=class extends Oi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function No(){return ge((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Po=class extends ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$p(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ke;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ke.EMPTY)}return e}refCount(){return No()(this)}};var OE=Ao(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Hc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new OE}next(n){xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Fp:(this.currentObservers=null,o.push(n),new Ke(()=>{this.currentObservers=null,Ni(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ae;return n.source=this,n}}return t.create=(e,n)=>new Hc(e,n),t})(),Hc=class extends qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Fp}};var Re=class extends qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Aa={now(){return(Aa.delegate||Date).now()},delegate:void 0};var Gc=class extends qe{constructor(e=1/0,n=1/0,r=Aa){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Wc=class extends Ke{constructor(e,n){super()}schedule(e,n=0){return this}};var Ma={setInterval(t,e,...n){let{delegate:r}=Ma;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ma;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Oo=class extends Wc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ma.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ma.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ni(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ko=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ko.now=Aa.now;var Fo=class extends ko{constructor(e,n=ko.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var zp=new Fo(Oo);var Kc=class extends Oo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Qc=class extends Fo{};var Hp=new Qc(Kc);var Vt=new ae(t=>t.complete());function kE(t){return t&&ne(t.schedule)}function Gp(t){return t[t.length-1]}function Yc(t){return ne(Gp(t))?t.pop():void 0}function Qn(t){return kE(Gp(t))?t.pop():void 0}function FE(t,e){return typeof Gp(t)=="number"?t.pop():e}var Zc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Jc(t){return ne(t?.then)}function Xc(t){return ne(t[Ro])}function el(t){return Symbol.asyncIterator&&ne(t?.[Symbol.asyncIterator])}function tl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nl=fR();function rl(t){return ne(t?.[nl])}function il(t){return rE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Rc(n.read());if(i)return yield Rc(void 0);yield yield Rc(r)}}finally{n.releaseLock()}})}function ol(t){return ne(t?.getReader)}function Be(t){if(t instanceof ae)return t;if(t!=null){if(Xc(t))return pR(t);if(Zc(t))return mR(t);if(Jc(t))return gR(t);if(el(t))return VE(t);if(rl(t))return yR(t);if(ol(t))return vR(t)}throw tl(t)}function pR(t){return new ae(e=>{let n=t[Ro]();if(ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function mR(t){return new ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function gR(t){return new ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,$c)})}function yR(t){return new ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function VE(t){return new ae(e=>{_R(t,e).catch(n=>e.error(n))})}function vR(t){return VE(il(t))}function _R(t,e){var n,r,i,o;return nE(this,void 0,void 0,function*(){try{for(n=iE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function $t(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function rn(t,e=0){return ge((n,r)=>{n.subscribe(ye(r,i=>$t(r,t,()=>r.next(i),e),()=>$t(r,t,()=>r.complete(),e),i=>$t(r,t,()=>r.error(i),e)))})}function gn(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function LE(t,e){return Be(t).pipe(gn(e),rn(e))}function jE(t,e){return Be(t).pipe(gn(e),rn(e))}function UE(t,e){return new ae(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function BE(t,e){return new ae(n=>{let r;return $t(n,e,()=>{r=t[nl](),$t(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function sl(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(n=>{$t(n,e,()=>{let r=t[Symbol.asyncIterator]();$t(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $E(t,e){return sl(il(t),e)}function qE(t,e){if(t!=null){if(Xc(t))return LE(t,e);if(Zc(t))return UE(t,e);if(Jc(t))return jE(t,e);if(el(t))return sl(t,e);if(rl(t))return BE(t,e);if(ol(t))return $E(t,e)}throw tl(t)}function Se(t,e){return e?qE(t,e):Be(t)}function J(...t){let e=Qn(t);return Se(t,e)}function Vo(t,e){let n=ne(t)?t:()=>t,r=i=>i.error(n());return new ae(e?i=>e.schedule(r,0,i):r)}function Wp(t){return!!t&&(t instanceof ae||ne(t.lift)&&ne(t.subscribe))}var Cr=Ao(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(t,e){return ge((n,r)=>{let i=0;n.subscribe(ye(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:wR}=Array;function IR(t,e){return wR(e)?t(...e):t(e)}function al(t){return Z(e=>IR(t,e))}var{isArray:ER}=Array,{getPrototypeOf:DR,prototype:CR,keys:bR}=Object;function ul(t){if(t.length===1){let e=t[0];if(ER(e))return{args:e,keys:null};if(TR(e)){let n=bR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function TR(t){return t&&typeof t=="object"&&DR(t)===CR}function cl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ll(...t){let e=Qn(t),n=Yc(t),{args:r,keys:i}=ul(t);if(r.length===0)return Se([],e);let o=new ae(SR(r,e,i?s=>cl(i,s):nn));return n?o.pipe(al(n)):o}function SR(t,e,n=nn){return r=>{zE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)zE(e,()=>{let l=Se(t[c],e),h=!1;l.subscribe(ye(r,p=>{o[c]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function zE(t,e,n){t?$t(n,t,e):e()}function HE(t,e,n,r,i,o,s,a){let c=[],l=0,h=0,p=!1,g=()=>{p&&!c.length&&!l&&e.complete()},y=A=>l<r?I(A):c.push(A),I=A=>{o&&e.next(A),l++;let T=!1;Be(n(A,h++)).subscribe(ye(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;c.length&&l<r;){let O=c.shift();s?$t(e,s,()=>I(O)):I(O)}g()}catch(O){e.error(O)}}))};return t.subscribe(ye(e,y,()=>{p=!0,g()})),()=>{a?.()}}function at(t,e,n=1/0){return ne(e)?at((r,i)=>Z((o,s)=>e(r,o,i,s))(Be(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>HE(r,i,t,n)))}function xa(t=1/0){return at(nn,t)}function GE(){return xa(1)}function Lo(...t){return GE()(Se(t,Qn(t)))}function dl(t){return new ae(e=>{Be(t()).subscribe(e)})}function Kp(...t){let e=Yc(t),{args:n,keys:r}=ul(t),i=new ae(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let h=0;h<s;h++){let p=!1;Be(n[h]).subscribe(ye(o,g=>{p||(p=!0,l--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(r?cl(r,a):a),o.complete())}))}});return e?i.pipe(al(e)):i}function Qp(...t){let e=Qn(t),n=FE(t,1/0),r=t;return r.length?r.length===1?Be(r[0]):xa(n)(Se(r,e)):Vt}function Ct(t,e){return ge((n,r)=>{let i=0;n.subscribe(ye(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Yr(t){return ge((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ye(n,void 0,void 0,s=>{o=Be(t(s,Yr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function WE(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(ye(s,h=>{let p=l++;c=a?t(c,h,p):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Zr(t,e){return ne(e)?at(t,e,1):at(t,1)}function Jr(t){return ge((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function br(t){return t<=0?()=>Vt:ge((e,n)=>{let r=0;e.subscribe(ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Yp(t){return Z(()=>t)}function hl(t=AR){return ge((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function AR(){return new Cr}function ki(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function on(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,o)=>t(i,o,r)):nn,br(1),n?Jr(e):hl(()=>new Cr))}function jo(t){return t<=0?()=>Vt:ge((e,n)=>{let r=[];e.subscribe(ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Zp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,o)=>t(i,o,r)):nn,jo(1),n?Jr(e):hl(()=>new Cr))}function fl(t,e){return ge(WE(t,e,arguments.length>=2,!0))}function KE(t={}){let{connector:e=()=>new qe,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,h=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),s=c=void 0,h=p=!1},I=()=>{let A=s;y(),A?.unsubscribe()};return ge((A,T)=>{l++,!p&&!h&&g();let O=c=c??e();T.add(()=>{l--,l===0&&!p&&!h&&(a=Jp(I,i))}),O.subscribe(T),!s&&l>0&&(s=new Dr({next:$=>O.next($),error:$=>{p=!0,g(),a=Jp(y,n,$),O.error($)},complete:()=>{h=!0,g(),a=Jp(y,r),O.complete()}}),Be(A).subscribe(s))})(o)}}function Jp(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Dr({next:()=>{r.unsubscribe(),t()}});return Be(e(...n)).subscribe(r)}function pl(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,KE({connector:()=>new Gc(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ml(...t){let e=Qn(t);return ge((n,r)=>{(e?Lo(t,n,e):Lo(t,n)).subscribe(r)})}function He(t,e){return ge((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ye(r,c=>{i?.unsubscribe();let l=0,h=o++;Be(t(c,h)).subscribe(i=ye(r,p=>r.next(e?e(c,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function gl(t,e){return ne(e)?He(()=>t,e):He(()=>t)}function Xp(t){return ge((e,n)=>{Be(t).subscribe(ye(n,()=>n.complete(),Sa)),!n.closed&&e.subscribe(n)})}function tt(t,e,n){let r=ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):nn}var V0="https://g.co/ng/security#xss",W=class extends Error{constructor(e,n){super(od(e,n)),this.code=e}};function od(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ha(t){return{toString:t}.toString()}var yl="__parameters__";function MR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function L0(t,e,n){return Ha(()=>{let r=MR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,h){let p=c.hasOwnProperty(yl)?c[yl]:Object.defineProperty(c,yl,{value:[]})[yl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Vi=globalThis;function Oe(t){for(let e in t)if(t[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function xR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function jt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(jt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function QE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var RR=Oe({__forward_ref__:Oe});function Gt(t){return t.__forward_ref__=Gt,t.toString=function(){return jt(this())},t}function Lt(t){return j0(t)?t():t}function j0(t){return typeof t=="function"&&t.hasOwnProperty(RR)&&t.__forward_ref__===Gt}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vn(t){return{providers:t.providers||[],imports:t.imports||[]}}function sd(t){return YE(t,B0)||YE(t,$0)}function U0(t){return sd(t)!==null}function YE(t,e){return t.hasOwnProperty(e)?t[e]:null}function NR(t){let e=t&&(t[B0]||t[$0]);return e||null}function ZE(t){return t&&(t.hasOwnProperty(JE)||t.hasOwnProperty(PR))?t[JE]:null}var B0=Oe({\u0275prov:Oe}),JE=Oe({\u0275inj:Oe}),$0=Oe({ngInjectableDef:Oe}),PR=Oe({ngInjectorDef:Oe}),q=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function q0(t){return t&&!!t.\u0275providers}var OR=Oe({\u0275cmp:Oe}),kR=Oe({\u0275dir:Oe}),FR=Oe({\u0275pipe:Oe}),VR=Oe({\u0275mod:Oe}),xl=Oe({\u0275fac:Oe}),Pa=Oe({__NG_ELEMENT_ID__:Oe}),XE=Oe({__NG_ENV_ID__:Oe});function Li(t){return typeof t=="string"?t:t==null?"":String(t)}function LR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Li(t)}function jR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new W(-200,t)}function mg(t,e){throw new W(-201,!1)}var he=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(he||{}),ym;function z0(){return ym}function qt(t){let e=ym;return ym=t,e}function H0(t,e,n){let r=sd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&he.Optional)return null;if(e!==void 0)return e;mg(t,"Injector")}var UR={},Oa=UR,vm="__NG_DI_FLAG__",Rl="ngTempTokenPath",BR="ngTokenPath",$R=/\n/gm,qR="\u0275",e0="__source",qo;function zR(){return qo}function Xr(t){let e=qo;return qo=t,e}function HR(t,e=he.Default){if(qo===void 0)throw new W(-203,!1);return qo===null?H0(t,void 0,e):qo.get(t,e&he.Optional?null:void 0,e)}function G(t,e=he.Default){return(z0()||HR)(Lt(t),e)}function P(t,e=he.Default){return G(t,ad(e))}function ad(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function _m(t){let e=[];for(let n=0;n<t.length;n++){let r=Lt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new W(900,!1);let i,o=he.Default;for(let s=0;s<r.length;s++){let a=r[s],c=GR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(G(i,o))}else e.push(G(r))}return e}function G0(t,e){return t[vm]=e,t.prototype[vm]=e,t}function GR(t){return t[vm]}function WR(t,e,n,r){let i=t[Rl];throw e[e0]&&i.unshift(e[e0]),t.message=KR(`
`+t.message,i,n,r),t[BR]=i,t[Rl]=null,t}function KR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==qR?t.slice(2):t;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):jt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace($R,`
  `)}`}var Wt=G0(L0("Optional"),8);var gg=G0(L0("SkipSelf"),4);function Ui(t,e){let n=t.hasOwnProperty(xl);return n?t[xl]:null}function yg(t,e){t.forEach(n=>Array.isArray(n)?yg(n,e):e(n))}function W0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Nl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function QR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function YR(t,e,n){let r=Ga(t,e);return r>=0?t[r|1]=n:(r=~r,QR(t,r,e,n)),r}function em(t,e){let n=Ga(t,e);if(n>=0)return t[n|1]}function Ga(t,e){return ZR(t,e,1)}function ZR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ho={},sn=[],Bi=new q(""),K0=new q("",-1),Q0=new q(""),Pl=class{get(e,n=Oa){if(n===Oa){let r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return n}},Y0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Y0||{}),Jn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jn||{}),ti=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ti||{});function JR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function wm(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];XR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Z0(t){return t===3||t===4||t===6}function XR(t){return t.charCodeAt(0)===64}function ka(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?t0(t,n,i,null,e[++r]):t0(t,n,i,null,null))}}return t}function t0(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var J0="ng-template";function eN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&JR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(vg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function vg(t){return t.type===4&&t.value!==J0}function tN(t,e,n){let r=t.type===4&&!n?J0:t.value;return e===r}function nN(t,e,n){let r=4,i=t.attrs,o=i!==null?oN(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Nn(r)&&!Nn(c))return!1;if(s&&Nn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!tN(t,c,n)||c===""&&e.length===1){if(Nn(r))return!1;s=!0}}else if(r&8){if(i===null||!eN(t,i,c,n)){if(Nn(r))return!1;s=!0}}else{let l=e[++a],h=rN(c,i,vg(t),n);if(h===-1){if(Nn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Nn(r))return!1;s=!0}}}}return Nn(r)||s}function Nn(t){return(t&1)===0}function rN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return sN(e,t)}function iN(t,e,n=!1){for(let r=0;r<e.length;r++)if(nN(t,e[r],n))return!0;return!1}function oN(t){for(let e=0;e<t.length;e++){let n=t[e];if(Z0(n))return e}return t.length}function sN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function n0(t,e){return t?":not("+e.trim()+")":e}function aN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Nn(s)&&(e+=n0(o,i),i=""),r=s,o=o||!Nn(r);n++}return i!==""&&(e+=n0(o,i)),e}function uN(t){return t.map(aN).join(",")}function cN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Nn(i))break;i=o}r++}return{attrs:e,classes:n}}function Ye(t){return Ha(()=>{let e=rD(t),n=pe(B({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Y0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jn.Emulated,styles:t.styles||sn,_:null,schemas:t.schemas||null,tView:null,id:""});iD(n);let r=t.dependencies;return n.directiveDefs=i0(r,!1),n.pipeDefs=i0(r,!0),n.id=hN(n),n})}function lN(t){return $i(t)||X0(t)}function dN(t){return t!==null}function _n(t){return Ha(()=>({type:t.type,bootstrap:t.bootstrap||sn,declarations:t.declarations||sn,imports:t.imports||sn,exports:t.exports||sn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function r0(t,e){if(t==null)return Ho;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ti.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ti.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ne(t){return Ha(()=>{let e=rD(t);return iD(e),e})}function ud(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function $i(t){return t[OR]||null}function X0(t){return t[kR]||null}function eD(t){return t[FR]||null}function tD(t){let e=$i(t)||X0(t)||eD(t);return e!==null?e.standalone:!1}function nD(t,e){let n=t[VR]||null;if(!n&&e===!0)throw new Error(`Type ${jt(t)} does not have '\u0275mod' property.`);return n}function rD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ho,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||sn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:r0(t.inputs,e),outputs:r0(t.outputs),debugInfo:null}}function iD(t){t.features?.forEach(e=>e(t))}function i0(t,e){if(!t)return null;let n=e?eD:lN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(dN)}function hN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function wn(t){return{\u0275providers:t}}function Wa(...t){return{\u0275providers:oD(!0,t),\u0275fromNgModule:!0}}function oD(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return yg(e,s=>{let a=s;Im(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&sD(i,o),n}function sD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];_g(i,o=>{e(o,r)})}}function Im(t,e,n,r){if(t=Lt(t),!t)return!1;let i=null,o=ZE(t),s=!o&&$i(t);if(!o&&!s){let c=t.ngModule;if(o=ZE(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Im(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{yg(o.imports,h=>{Im(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&sD(l,e)}if(!a){let l=Ui(i)||(()=>new i);e({provide:i,useFactory:l,deps:sn},i),e({provide:Q0,useValue:i,multi:!0},i),e({provide:Bi,useValue:()=>G(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;_g(c,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function _g(t,e){for(let n of t)q0(n)&&(n=n.\u0275providers),Array.isArray(n)?_g(n,e):e(n)}var fN=Oe({provide:String,useValue:Oe});function aD(t){return t!==null&&typeof t=="object"&&fN in t}function pN(t){return!!(t&&t.useExisting)}function mN(t){return!!(t&&t.useFactory)}function Go(t){return typeof t=="function"}function gN(t){return!!t.useClass}var cd=new q(""),bl={},yN={},tm;function wg(){return tm===void 0&&(tm=new Pl),tm}var zt=class{},Fa=class extends zt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dm(e,s=>this.processProvider(s)),this.records.set(K0,Uo(void 0,this)),i.has("environment")&&this.records.set(zt,Uo(void 0,this));let o=this.records.get(cd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Q0,sn,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Xr(this),r=qt(void 0),i;try{return e()}finally{Xr(n),qt(r)}}get(e,n=Oa,r=he.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(XE))return e[XE](this);r=ad(r);let i,o=Xr(this),s=qt(void 0);try{if(!(r&he.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=EN(e)&&sd(e);l&&this.injectableDefInScope(l)?c=Uo(Em(e),bl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&he.Self?wg():this.parent;return n=r&he.Optional&&n===Oa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Rl]=a[Rl]||[]).unshift(jt(e)),o)throw a;return WR(a,e,"R3InjectorError",this.source)}else throw a}finally{qt(s),Xr(o)}}resolveInjectorInitializers(){let e=me(null),n=Xr(this),r=qt(void 0),i;try{let o=this.get(Bi,sn,he.Self);for(let s of o)s()}finally{Xr(n),qt(r),me(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(e){e=Lt(e);let n=Go(e)?e:Lt(e&&e.provide),r=_N(e);if(!Go(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Uo(void 0,bl,!0),i.factory=()=>_m(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=me(null);try{return n.value===bl&&(n.value=yN,n.value=n.factory()),typeof n.value=="object"&&n.value&&IN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Em(t){let e=sd(t),n=e!==null?e.factory:Ui(t);if(n!==null)return n;if(t instanceof q)throw new W(204,!1);if(t instanceof Function)return vN(t);throw new W(204,!1)}function vN(t){if(t.length>0)throw new W(204,!1);let n=NR(t);return n!==null?()=>n.factory(t):()=>new t}function _N(t){if(aD(t))return Uo(void 0,t.useValue);{let e=uD(t);return Uo(e,bl)}}function uD(t,e,n){let r;if(Go(t)){let i=Lt(t);return Ui(i)||Em(i)}else if(aD(t))r=()=>Lt(t.useValue);else if(mN(t))r=()=>t.useFactory(..._m(t.deps||[]));else if(pN(t))r=()=>G(Lt(t.useExisting));else{let i=Lt(t&&(t.useClass||t.provide));if(wN(t))r=()=>new i(..._m(t.deps));else return Ui(i)||Em(i)}return r}function Uo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function wN(t){return!!t.deps}function IN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function EN(t){return typeof t=="function"||typeof t=="object"&&t instanceof q}function Dm(t,e){for(let n of t)Array.isArray(n)?Dm(n,e):n&&q0(n)?Dm(n.\u0275providers,e):e(n)}function Ln(t,e){t instanceof Fa&&t.assertNotDestroyed();let n,r=Xr(t),i=qt(void 0);try{return e()}finally{Xr(r),qt(i)}}function DN(){return z0()!==void 0||zR()!=null}function CN(t){return typeof t=="function"}var an=0,se=1,re=2,St=3,Pn=4,jn=5,kn=6,Ol=7,bt=8,Wo=9,Xn=10,$e=11,Va=12,o0=13,ns=14,un=15,Ko=16,Bo=17,Qo=18,ld=19,cD=20,ei=21,nm=22,yn=23,nt=25,lD=1,La=6,Tr=7,kl=8,Fl=9,Tt=10,Vl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Vl||{});function On(t){return Array.isArray(t)&&typeof t[lD]=="object"}function tr(t){return Array.isArray(t)&&t[lD]===!0}function dD(t){return(t.flags&4)!==0}function Ka(t){return t.componentOffset>-1}function Ig(t){return(t.flags&1)===1}function ni(t){return!!t.template}function Ll(t){return(t[re]&512)!==0}var Cm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function hD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function nr(){return fD}function fD(t){return t.type.prototype.ngOnChanges&&(t.setInput=TN),bN}nr.ngInherit=!0;function bN(){let t=mD(this),e=t?.current;if(e){let n=t.previous;if(n===Ho)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function TN(t,e,n,r,i){let o=this.declaredInputs[r],s=mD(t)||SN(t,{previous:Ho,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Cm(l&&l.currentValue,n,c===Ho),hD(t,e,i,n)}var pD="__ngSimpleChanges__";function mD(t){return t[pD]||null}function SN(t,e){return t[pD]=e}var s0=null;var Yn=function(t,e,n){s0?.(t,e,n)},AN="svg",MN="math";function Fn(t){for(;Array.isArray(t);)t=t[an];return t}function gD(t,e){return Fn(e[t])}function cn(t,e){return Fn(e[t.index])}function Eg(t,e){return t.data[e]}function Dg(t,e){return t[e]}function ii(t,e){let n=e[t];return On(n)?n:n[an]}function Cg(t){return(t[re]&128)===128}function xN(t){return tr(t[St])}function Yo(t,e){return e==null?null:t[e]}function yD(t){t[Bo]=0}function vD(t){t[re]&1024||(t[re]|=1024,Cg(t)&&hd(t))}function RN(t,e){for(;t>0;)e=e[ns],t--;return e}function dd(t){return!!(t[re]&9216||t[yn]?.dirty)}function bm(t){t[Xn].changeDetectionScheduler?.notify(8),t[re]&64&&(t[re]|=1024),dd(t)&&hd(t)}function hd(t){t[Xn].changeDetectionScheduler?.notify(0);let e=qi(t);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!Cg(e)));)e=qi(e)}function _D(t,e){if((t[re]&256)===256)throw new W(911,!1);t[ei]===null&&(t[ei]=[]),t[ei].push(e)}function NN(t,e){if(t[ei]===null)return;let n=t[ei].indexOf(e);n!==-1&&t[ei].splice(n,1)}function qi(t){let e=t[St];return tr(e)?e[St]:e}var de={lFrame:MD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var wD=!1;function PN(){return de.lFrame.elementDepthCount}function ON(){de.lFrame.elementDepthCount++}function kN(){de.lFrame.elementDepthCount--}function ID(){return de.bindingsEnabled}function Qa(){return de.skipHydrationRootTNode!==null}function FN(t){return de.skipHydrationRootTNode===t}function VN(t){de.skipHydrationRootTNode=t}function LN(){de.skipHydrationRootTNode=null}function ve(){return de.lFrame.lView}function At(){return de.lFrame.tView}function Fe(t){return de.lFrame.contextLView=t,t[bt]}function Ve(t){return de.lFrame.contextLView=null,t}function Ut(){let t=ED();for(;t!==null&&t.type===64;)t=t.parent;return t}function ED(){return de.lFrame.currentTNode}function jN(){let t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ya(t,e){let n=de.lFrame;n.currentTNode=t,n.isParent=e}function DD(){return de.lFrame.isParent}function UN(){de.lFrame.isParent=!1}function BN(){return de.lFrame.contextLView}function CD(){return wD}function a0(t){wD=t}function fd(){let t=de.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function $N(){return de.lFrame.bindingIndex}function qN(t){return de.lFrame.bindingIndex=t}function rs(){return de.lFrame.bindingIndex++}function bD(t){let e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function zN(){return de.lFrame.inI18n}function HN(t,e){let n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,Tm(e)}function GN(){return de.lFrame.currentDirectiveIndex}function Tm(t){de.lFrame.currentDirectiveIndex=t}function WN(t){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function TD(t){de.lFrame.currentQueryIndex=t}function KN(t){let e=t[se];return e.type===2?e.declTNode:e.type===1?t[jn]:null}function SD(t,e,n){if(n&he.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&he.Host);)if(i=KN(o),i===null||(o=o[ns],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=de.lFrame=AD();return r.currentTNode=e,r.lView=t,!0}function bg(t){let e=AD(),n=t[se];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function AD(){let t=de.lFrame,e=t===null?null:t.child;return e===null?MD(t):e}function MD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function xD(){let t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var RD=xD;function Tg(){let t=xD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function QN(t){return(de.lFrame.contextLView=RN(t,de.lFrame.contextLView))[bt]}function oi(){return de.lFrame.selectedIndex}function zi(t){de.lFrame.selectedIndex=t}function pd(){let t=de.lFrame;return Eg(t.tView,t.selectedIndex)}function ND(){return de.lFrame.currentNamespace}var PD=!0;function Sg(){return PD}function si(t){PD=t}function YN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=fD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Ag(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Tl(t,e,n){OD(t,e,3,n)}function Sl(t,e,n,r){(t[re]&3)===n&&OD(t,e,n,r)}function rm(t,e){let n=t[re];(n&3)===e&&(n&=16383,n+=1,t[re]=n)}function OD(t,e,n,r){let i=r!==void 0?t[Bo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Bo]+=65536),(a<o||o==-1)&&(ZN(t,n,e,c),t[Bo]=(t[Bo]&4294901760)+c+2),c++}function u0(t,e){Yn(4,t,e);let n=me(null);try{e.call(t)}finally{me(n),Yn(5,t,e)}}function ZN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[re]>>14<t[Bo]>>16&&(t[re]&3)===e&&(t[re]+=16384,u0(a,o)):u0(a,o)}var zo=-1,Hi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function JN(t){return t instanceof Hi}function XN(t){return(t.flags&8)!==0}function eP(t){return(t.flags&16)!==0}var im={},Sm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ad(r);let i=this.injector.get(e,im,r);return i!==im||n===im?i:this.parentInjector.get(e,n,r)}};function kD(t){return t!==zo}function jl(t){return t&32767}function tP(t){return t>>16}function Ul(t,e){let n=tP(t),r=e;for(;n>0;)r=r[ns],n--;return r}var Am=!0;function Bl(t){let e=Am;return Am=t,e}var nP=256,FD=nP-1,VD=5,rP=0,Zn={};function iP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pa)&&(r=n[Pa]),r==null&&(r=n[Pa]=rP++);let i=r&FD,o=1<<i;e.data[t+(i>>VD)]|=o}function $l(t,e){let n=LD(t,e);if(n!==-1)return n;let r=e[se];r.firstCreatePass&&(t.injectorIndex=e.length,om(r.data,t),om(e,null),om(r.blueprint,null));let i=Mg(t,e),o=t.injectorIndex;if(kD(i)){let s=jl(i),a=Ul(i,e),c=a[se].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function om(t,e){t.push(0,0,0,0,0,0,0,0,e)}function LD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Mg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=qD(i),r===null)return zo;if(n++,i=i[ns],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return zo}function Mm(t,e,n){iP(t,e,n)}function oP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Z0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function jD(t,e,n){if(n&he.Optional||t!==void 0)return t;mg(e,"NodeInjector")}function UD(t,e,n,r){if(n&he.Optional&&r===void 0&&(r=null),!(n&(he.Self|he.Host))){let i=t[Wo],o=qt(void 0);try{return i?i.get(e,r,n&he.Optional):H0(e,r,n&he.Optional)}finally{qt(o)}}return jD(r,e,n)}function BD(t,e,n,r=he.Default,i){if(t!==null){if(e[re]&2048&&!(r&he.Self)){let s=lP(t,e,n,r,Zn);if(s!==Zn)return s}let o=$D(t,e,n,r,Zn);if(o!==Zn)return o}return UD(e,n,r,i)}function $D(t,e,n,r,i){let o=uP(n);if(typeof o=="function"){if(!SD(e,t,r))return r&he.Host?jD(i,n,r):UD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&he.Optional))mg(n);else return s}finally{RD()}}else if(typeof o=="number"){let s=null,a=LD(t,e),c=zo,l=r&he.Host?e[un][jn]:null;for((a===-1||r&he.SkipSelf)&&(c=a===-1?Mg(t,e):e[a+8],c===zo||!l0(r,!1)?a=-1:(s=e[se],a=jl(c),e=Ul(c,e)));a!==-1;){let h=e[se];if(c0(o,a,h.data)){let p=sP(a,e,n,s,r,l);if(p!==Zn)return p}c=e[a+8],c!==zo&&l0(r,e[se].data[a+8]===l)&&c0(o,a,e)?(s=h,a=jl(c),e=Ul(c,e)):a=-1}}return i}function sP(t,e,n,r,i,o){let s=e[se],a=s.data[t+8],c=r==null?Ka(a)&&Am:r!=s&&(a.type&3)!==0,l=i&he.Host&&o===a,h=aP(a,s,n,c,l);return h!==null?Zo(e,s,h,a):Zn}function aP(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let I=s[y];if(y<c&&n===I||y>=c&&I.type===n)return y}if(i){let y=s[c];if(y&&ni(y)&&y.type===n)return c}return null}function Zo(t,e,n,r){let i=t[n],o=e.data;if(JN(i)){let s=i;s.resolving&&jR(LR(o[n]));let a=Bl(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?qt(s.injectImpl):null,h=SD(t,r,he.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&YN(n,o[n],e)}finally{l!==null&&qt(l),Bl(a),s.resolving=!1,RD()}}return i}function uP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Pa)?t[Pa]:void 0;return typeof e=="number"?e>=0?e&FD:cP:e}function c0(t,e,n){let r=1<<t;return!!(n[e+(t>>VD)]&r)}function l0(t,e){return!(t&he.Self)&&!(t&he.Host&&e)}var ji=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return BD(this._tNode,this._lView,e,ad(r),n)}};function cP(){return new ji(Ut(),ve())}function Un(t){return Ha(()=>{let e=t.prototype.constructor,n=e[xl]||xm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[xl]||xm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function xm(t){return j0(t)?()=>{let e=xm(Lt(t));return e&&e()}:Ui(t)}function lP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!(s[re]&512);){let a=$D(o,s,n,r|he.Self,Zn);if(a!==Zn)return a;let c=o.parent;if(!c){let l=s[cD];if(l){let h=l.get(n,Zn,r);if(h!==Zn)return h}c=qD(s),s=s[ns]}o=c}return i}function qD(t){let e=t[se],n=e.type;return n===2?e.declTNode:n===1?t[jn]:null}function xg(t){return oP(Ut(),t)}function d0(t,e=null,n=null,r){let i=zD(t,e,n,r);return i.resolveInjectorInitializers(),i}function zD(t,e=null,n=null,r,i=new Set){let o=[n||sn,Wa(t)];return r=r||(typeof t=="object"?void 0:jt(t)),new Fa(o,e||wg(),r||null,i)}var Ht=class t{static{this.THROW_IF_NOT_FOUND=Oa}static{this.NULL=new Pl}static create(e,n){if(Array.isArray(e))return d0({name:""},n,e,"");{let r=e.name??"";return d0({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=z({token:t,providedIn:"any",factory:()=>G(K0)})}static{this.__NG_ELEMENT_ID__=-1}};var dP=new q("");dP.__NG_ELEMENT_ID__=t=>{let e=Ut();if(e===null)throw new W(204,!1);if(e.type&2)return e.value;if(t&he.Optional)return null;throw new W(204,!1)};var hP="ngOriginalError";function sm(t){return t[hP]}var HD=!0,GD=(()=>{class t{static{this.__NG_ELEMENT_ID__=fP}static{this.__NG_ENV_ID__=n=>n}}return t})(),Rm=class extends GD{constructor(e){super(),this._lView=e}onDestroy(e){return _D(this._lView,e),()=>NN(this._lView,e)}};function fP(){return new Rm(ve())}var ai=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Re(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Nm=class extends qe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,DN()&&(this.destroyRef=P(GD,{optional:!0})??void 0,this.pendingTasks=P(ai,{optional:!0})??void 0)}emit(e){let n=me(null);try{super.next(e)}finally{me(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ke&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Qe=Nm;function ql(...t){}function WD(t){let e,n;function r(){t=ql;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function h0(t){return queueMicrotask(()=>t()),()=>{t=ql}}var Rg="isAngularZone",zl=Rg+"_ID",pP=0,Ee=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=HD}=e;if(typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,yP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Rg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new W(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,mP,ql,ql);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},mP={};function Ng(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){WD(()=>{t.callbackScheduled=!1,Pm(t),t.isCheckStableRunning=!0,Ng(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Pm(t)}function yP(t){let e=()=>{gP(t)},n=pP++;t._inner=t._inner.fork({name:"angular",properties:{[Rg]:!0,[zl]:n,[zl+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(vP(c))return r.invokeTask(o,s,a,c);try{return f0(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),p0(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return f0(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!_P(c)&&e(),p0(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Pm(t),Ng(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Pm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function f0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function p0(t){t._nesting--,Ng(t)}var Om=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function vP(t){return KD(t,"__ignore_ng_zone__")}function _P(t){return KD(t,"__scheduler_tick__")}function KD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Sr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&sm(e);for(;n&&sm(n);)n=sm(n);return n||null}},wP=new q("",{providedIn:"root",factory:()=>{let t=P(Ee),e=P(Sr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function IP(){return md(Ut(),ve())}function md(t,e){return new In(cn(t,e))}var In=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=IP}}return t})();var EP="ngSkipHydration",DP="ngskiphydration";function QD(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===DP)return!0}return!1}function YD(t){return t.hasAttribute(EP)}function Hl(t){return(t.flags&128)===128}function CP(t){if(Hl(t))return!0;let e=t.parent;for(;e;){if(Hl(t)||QD(e))return!0;e=e.parent}return!1}var ZD=new Map,bP=0;function TP(){return bP++}function SP(t){ZD.set(t[ld],t)}function km(t){ZD.delete(t[ld])}var m0="__ngContext__";function Gi(t,e){On(e)?(t[m0]=e[ld],SP(e)):t[m0]=e}function JD(t){return eC(t[Va])}function XD(t){return eC(t[Pn])}function eC(t){for(;t!==null&&!tr(t);)t=t[Pn];return t}var Fm;function tC(t){Fm=t}function gd(){if(Fm!==void 0)return Fm;if(typeof document<"u")return document;throw new W(210,!1)}var yd=new q("",{providedIn:"root",factory:()=>AP}),AP="ng",Pg=new q(""),pt=new q("",{providedIn:"platform",factory:()=>"unknown"});var Og=new q("",{providedIn:"root",factory:()=>gd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function MP(){let t=new is;return P(pt)==="browser"&&(t.store=xP(gd(),P(yd))),t}var is=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=z({token:t,providedIn:"root",factory:MP})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function xP(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var nC="h",rC="b",Vm=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Vm||{}),RP="e",NP="t",kg="c",iC="x",Gl="r",PP="i",OP="n",oC="d";var kP="__nghData__",sC=kP,am="ngh",FP="nghm",aC=()=>null;function VP(t,e,n=!1){let r=t.getAttribute(am);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let h=e.get(is,null,{optional:!0});h!==null&&(c=h.get(sC,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,vd(l,0,t.nextSibling)),a?t.setAttribute(am,a):t.removeAttribute(am),l}function LP(){aC=VP}function Fg(t,e,n=!1){return aC(t,e,n)}function jP(t){let e=t._lView;return e[se].type===2?null:(Ll(e)&&(e=e[nt]),e)}function UP(t){return t.textContent?.replace(/\s/gm,"")}function BP(t){let e=gd(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=UP(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function vd(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Lm(t,e){return t.segmentHeads?.[e]??null}function $P(t,e){let n=t.data,r=n[RP]?.[e]??null;return r===null&&n[kg]?.[e]&&(r=Vg(t,e)),r}function uC(t,e){return t.data[kg]?.[e]??null}function Vg(t,e){let n=uC(t,e)??[],r=0;for(let i of n)r+=i[Gl]*(i[iC]??1);return r}function qP(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[oC];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Za(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[oC];t.disconnectedNodes=n?new Set(n):null}return!!qP(t)?.has(e)}var vl=new q(""),cC=!1,lC=new q("",{providedIn:"root",factory:()=>cC});var _l;function zP(){if(_l===void 0&&(_l=null,Vi.trustedTypes))try{_l=Vi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _l}function g0(t){return zP()?.createScriptURL(t)||t}var Wl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${V0})`}};function Ja(t){return t instanceof Wl?t.changingThisBreaksApplicationSecurity:t}function Lg(t,e){let n=HP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${V0})`)}return n===e}function HP(t){return t instanceof Wl&&t.getTypeName()||null}var GP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function dC(t){return t=String(t),t.match(GP)?t:"unsafe:"+t}var _d=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(_d||{});function Mr(t){let e=fC();return e?e.sanitize(_d.URL,t)||"":Lg(t,"URL")?Ja(t):dC(Li(t))}function WP(t){let e=fC();if(e)return g0(e.sanitize(_d.RESOURCE_URL,t)||"");if(Lg(t,"ResourceURL"))return g0(Ja(t));throw new W(904,!1)}function KP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?WP:Mr}function hC(t,e,n){return KP(e,n)(t)}function fC(){let t=ve();return t&&t[Xn].sanitizer}var QP=/^>|^->|<!--|-->|--!>|<!-$/g,YP=/(<|>)/g,ZP="\u200B$1\u200B";function JP(t){return t.replace(QP,e=>e.replace(YP,ZP))}function XP(t){return t.ownerDocument.body}function pC(t){return t instanceof Function?t():t}function wl(t){return(t??P(Ht)).get(pt)==="browser"}var er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(er||{}),e1;function jg(t,e){return e1(t,e)}function $o(t,e,n,r,i){if(r!=null){let o,s=!1;tr(r)?o=r:On(r)&&(s=!0,r=r[an]);let a=Fn(r);t===0&&n!==null?i==null?_C(e,n,a):Kl(e,n,a,i||null,!0):t===1&&n!==null?Kl(e,n,a,i||null,!0):t===2?qg(e,a,s):t===3&&e.destroyNode(a),o!=null&&m1(e,t,o,n,i)}}function mC(t,e){return t.createText(e)}function t1(t,e,n){t.setValue(e,n)}function gC(t,e){return t.createComment(JP(e))}function Ug(t,e,n){return t.createElement(e,n)}function n1(t,e){yC(t,e),e[an]=null,e[jn]=null}function r1(t,e,n,r,i,o){r[an]=i,r[jn]=e,Id(t,r,n,1,i,o)}function yC(t,e){e[Xn].changeDetectionScheduler?.notify(9),Id(t,e,e[$e],2,null,null)}function i1(t){let e=t[Va];if(!e)return um(t[se],t);for(;e;){let n=null;if(On(e))n=e[Va];else{let r=e[Tt];r&&(n=r)}if(!n){for(;e&&!e[Pn]&&e!==t;)On(e)&&um(e[se],e),e=e[St];e===null&&(e=t),On(e)&&um(e[se],e),n=e&&e[Pn]}e=n}}function o1(t,e,n,r){let i=Tt+r,o=n.length;r>0&&(n[i-1][Pn]=e),r<o-Tt?(e[Pn]=n[i],W0(n,Tt+r,e)):(n.push(e),e[Pn]=null),e[St]=n;let s=e[Ko];s!==null&&n!==s&&vC(s,e);let a=e[Qo];a!==null&&a.insertView(t),bm(e),e[re]|=128}function vC(t,e){let n=t[Fl],r=e[St];if(On(r))t[re]|=Vl.HasTransplantedViews;else{let i=r[St][un];e[un]!==i&&(t[re]|=Vl.HasTransplantedViews)}n===null?t[Fl]=[e]:n.push(e)}function Bg(t,e){let n=t[Fl],r=n.indexOf(e);n.splice(r,1)}function ja(t,e){if(t.length<=Tt)return;let n=Tt+e,r=t[n];if(r){let i=r[Ko];i!==null&&i!==t&&Bg(i,r),e>0&&(t[n-1][Pn]=r[Pn]);let o=Nl(t,Tt+e);n1(r[se],r);let s=o[Qo];s!==null&&s.detachView(o[se]),r[St]=null,r[Pn]=null,r[re]&=-129}return r}function wd(t,e){if(!(e[re]&256)){let n=e[$e];n.destroyNode&&Id(t,e,n,3,null,null),i1(e)}}function um(t,e){if(e[re]&256)return;let n=me(null);try{e[re]&=-129,e[re]|=256,e[yn]&&Op(e[yn]),a1(t,e),s1(t,e),e[se].type===1&&e[$e].destroy();let r=e[Ko];if(r!==null&&tr(e[St])){r!==e[St]&&Bg(r,e);let i=e[Qo];i!==null&&i.detachView(t)}km(e)}finally{me(n)}}function s1(t,e){let n=t.cleanup,r=e[Ol];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Ol]=null);let i=e[ei];if(i!==null){e[ei]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function a1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Hi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Yn(4,a,c);try{c.call(a)}finally{Yn(5,a,c)}}else{Yn(4,i,o);try{o.call(i)}finally{Yn(5,i,o)}}}}}function u1(t,e,n){return c1(t,e.parent,n)}function c1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[an];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Jn.None||o===Jn.Emulated)return null}return cn(r,n)}}function Kl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function _C(t,e,n){t.appendChild(e,n)}function y0(t,e,n,r,i){r!==null?Kl(t,e,n,r,i):_C(t,e,n)}function wC(t,e){return t.parentNode(e)}function l1(t,e){return t.nextSibling(e)}function d1(t,e,n){return f1(t,e,n)}function h1(t,e,n){return t.type&40?cn(t,n):null}var f1=h1,v0;function $g(t,e,n,r){let i=u1(t,r,e),o=e[$e],s=r.parent||e[jn],a=d1(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)y0(o,i,n[c],a,!1);else y0(o,i,n,a,!1);v0!==void 0&&v0(o,r,e,n,i)}function Ra(t,e){if(e!==null){let n=e.type;if(n&3)return cn(e,t);if(n&4)return jm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ra(t,r);{let i=t[e.index];return tr(i)?jm(-1,i):Fn(i)}}else{if(n&128)return Ra(t,e.next);if(n&32)return jg(e,t)()||Fn(t[e.index]);{let r=IC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qi(t[un]);return Ra(i,r)}else return Ra(t,e.next)}}}return null}function IC(t,e){if(e!==null){let r=t[un][jn],i=e.projection;return r.projection[i]}return null}function jm(t,e){let n=Tt+t+1;if(n<e.length){let r=e[n],i=r[se].firstChild;if(i!==null)return Ra(r,i)}return e[Tr]}function qg(t,e,n){t.removeChild(null,e,n)}function EC(t){t.textContent=""}function zg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Gi(Fn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)zg(t,e,n.child,r,i,o,!1),$o(e,t,i,a,o);else if(c&32){let l=jg(n,r),h;for(;h=l();)$o(e,t,i,h,o);$o(e,t,i,a,o)}else c&16?p1(t,e,r,n,i,o):$o(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Id(t,e,n,r,i,o){zg(n,r,t.firstChild,e,i,o,!1)}function p1(t,e,n,r,i,o){let s=n[un],c=s[jn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];$o(e,t,i,h,o)}else{let l=c,h=s[St];Hl(r)&&(l.flags|=128),zg(t,e,l,h,i,o,!0)}}function m1(t,e,n,r,i){let o=n[Tr],s=Fn(n);o!==s&&$o(e,t,r,o,i);for(let a=Tt;a<n.length;a++){let c=n[a];Id(c[se],c,t,e,r,o)}}function g1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:er.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=er.Important),t.setStyle(n,r,i,o))}}function y1(t,e,n){t.setAttribute(e,"style",n)}function DC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function CC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&wm(t,e,r),i!==null&&DC(t,e,i),o!==null&&y1(t,e,o)}var En={};function H(t=1){bC(At(),ve(),oi()+t,!1)}function bC(t,e,n,r){if(!r)if((e[re]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Tl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Sl(e,o,0,n)}zi(n)}function k(t,e=he.Default){let n=ve();if(n===null)return G(t,e);let r=Ut();return BD(r,n,Lt(t),e)}function TC(t,e,n,r,i,o){let s=me(null);try{let a=null;i&ti.SignalBased&&(a=e[r][Er]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ti.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):hD(e,a,r,o)}finally{me(s)}}function v1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)zi(~i);else{let o=i,s=n[++r],a=n[++r];HN(s,o);let c=e[o];a(2,c)}}}finally{zi(-1)}}function Ed(t,e,n,r,i,o,s,a,c,l,h){let p=e.blueprint.slice();return p[an]=i,p[re]=r|4|128|8|64,(l!==null||t&&t[re]&2048)&&(p[re]|=2048),yD(p),p[St]=p[ns]=t,p[bt]=n,p[Xn]=s||t&&t[Xn],p[$e]=a||t&&t[$e],p[Wo]=c||t&&t[Wo]||null,p[jn]=o,p[ld]=TP(),p[kn]=h,p[cD]=l,p[un]=e.type==2?t[un]:p,p}function Dd(t,e,n,r,i){let o=t.data[e];if(o===null)o=_1(t,e,n,r,i),zN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=jN();o.injectorIndex=s===null?-1:s.injectorIndex}return Ya(o,!0),o}function _1(t,e,n,r,i){let o=ED(),s=DD(),a=s?o:o&&o.parent,c=t.data[e]=b1(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function SC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function AC(t,e,n,r,i){let o=oi(),s=r&2;try{zi(-1),s&&e.length>nt&&bC(t,e,nt,!1),Yn(s?2:0,i),n(r,i)}finally{zi(o),Yn(s?3:1,i)}}function MC(t,e,n){if(dD(e)){let r=me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{me(r)}}}function xC(t,e,n){ID()&&(R1(t,e,n,cn(n,e)),(n.flags&64)===64&&FC(t,e,n))}function RC(t,e,n=cn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function NC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Hg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Hg(t,e,n,r,i,o,s,a,c,l,h){let p=nt+r,g=p+i,y=w1(p,g),I=typeof l=="function"?l():l;return y[se]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:I,incompleteFirstPass:!1,ssrId:h}}function w1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:En);return n}function I1(t,e,n,r){let o=r.get(lC,cC)||n===Jn.ShadowDom,s=t.selectRootElement(e,o);return E1(s),s}function E1(t){PC(t)}var PC=()=>null;function D1(t){YD(t)?EC(t):BP(t)}function C1(){PC=D1}function b1(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Qa()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _0(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=ti.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?w0(r,n,l,a,c):w0(r,n,l,a)}return r}function w0(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function T1(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=n?n.get(p):null,y=g?g.inputs:null,I=g?g.outputs:null;c=_0(0,p.inputs,h,c,y),l=_0(1,p.outputs,h,l,I);let A=c!==null&&s!==null&&!vg(e)?$1(c,h,s):null;a.push(A)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function S1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Gg(t,e,n,r,i,o,s,a){let c=cn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Wg(t,n,h,r,i),Ka(e)&&A1(n,e.index)):e.type&3?(r=S1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function A1(t,e){let n=ii(e,t);n[re]&16||(n[re]|=64)}function OC(t,e,n,r){if(ID()){let i=r===null?null:{"":-1},o=P1(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&kC(t,e,n,s,i,a),i&&O1(n,r,i)}n.mergedAttrs=ka(n.mergedAttrs,n.attrs)}function kC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Mm($l(n,e),t,r[l].type);F1(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=SC(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=ka(n.mergedAttrs,h.hostAttrs),V1(t,n,e,c,h),k1(c,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}T1(t,n,o)}function M1(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;x1(s)!=a&&s.push(a),s.push(n,r,o)}}function x1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function R1(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Ka(n)&&L1(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||$l(n,e),Gi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Zo(e,t,a,n);if(Gi(l,e),s!==null&&B1(e,a-i,l,c,n,s),ni(c)){let h=ii(n.index,e);h[bt]=Zo(e,t,a,n)}}}function FC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=GN();try{zi(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Tm(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&N1(c,l)}}finally{zi(-1),Tm(s)}}function N1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function P1(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(iN(e,s.selectors,!1))if(r||(r=[]),ni(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Um(t,e,c)}else r.unshift(s),Um(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Um(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function O1(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new W(-301,!1);r.push(e[i],o)}}}function k1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ni(e)&&(n[""]=t)}}function F1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function V1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ui(i.type,!0)),s=new Hi(o,ni(i),k);t.blueprint[r]=s,n[r]=s,M1(t,e,r,SC(t,n,i.hostVars,En),i)}function L1(t,e,n){let r=cn(e,t),i=NC(n),o=t[Xn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Cd(t,Ed(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function j1(t,e,n,r,i,o){let s=cn(t,e);U1(e[$e],s,o,t.value,n,r,i)}function U1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Li(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function B1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],h=s[a++],p=s[a++];TC(r,n,c,l,h,p)}}function $1(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function VC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function LC(t,e){let n=t.contentQueries;if(n!==null){let r=me(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];TD(o),a.contentQueries(2,e[s],s)}}}finally{me(r)}}}function Cd(t,e){return t[Va]?t[o0][Pn]=e:t[Va]=e,t[o0]=e,e}function Bm(t,e,n){TD(0);let r=me(null);try{e(t,n)}finally{me(r)}}function q1(t){return t[Ol]??=[]}function z1(t){return t.cleanup??=[]}function jC(t,e){let n=t[Wo],r=n?n.get(Sr,null):null;r&&r.handleError(e)}function Wg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],h=t.data[s];TC(h,l,r,a,c,i)}}function UC(t,e,n){let r=gD(e,t);t1(t[$e],r,n)}function H1(t,e){let n=ii(e,t),r=n[se];G1(r,n);let i=n[an];i!==null&&n[kn]===null&&(n[kn]=Fg(i,n[Wo])),Kg(r,n,n[bt])}function G1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Kg(t,e,n){bg(e);try{let r=t.viewQuery;r!==null&&Bm(1,r,n);let i=t.template;i!==null&&AC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Qo]?.finishViewCreation(t),t.staticContentQueries&&LC(t,e),t.staticViewQueries&&Bm(2,t.viewQuery,n);let o=t.components;o!==null&&W1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,Tg()}}function W1(t,e){for(let n=0;n<e.length;n++)H1(t,e[n])}function bd(t,e,n,r){let i=me(null);try{let o=e.tView,a=t[re]&4096?4096:16,c=Ed(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Ko]=l;let h=t[Qo];return h!==null&&(c[Qo]=h.createEmbeddedView(o)),Kg(o,c,n),c}finally{me(i)}}function BC(t,e){let n=Tt+e;if(n<t.length)return t[n]}function Ua(t,e){return!e||e.firstChild===null||Hl(t)}function Td(t,e,n,r=!0){let i=e[se];if(o1(i,e,t,n),r){let s=jm(n,t),a=e[$e],c=wC(a,t[Tr]);c!==null&&r1(i,t[jn],a,e,c,s)}let o=e[kn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $C(t,e){let n=ja(t,e);return n!==void 0&&wd(n[se],n),n}function Ql(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Fn(o)),tr(o)&&K1(o,r);let s=n.type;if(s&8)Ql(t,e,n.child,r);else if(s&32){let a=jg(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=IC(e,n);if(Array.isArray(a))r.push(...a);else{let c=qi(e[un]);Ql(c[se],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function K1(t,e){for(let n=Tt;n<t.length;n++){let r=t[n],i=r[se].firstChild;i!==null&&Ql(r[se],r,i,e)}t[Tr]!==t[an]&&e.push(t[Tr])}var qC=[];function Q1(t){return t[yn]??Y1(t)}function Y1(t){let e=qC.pop()??Object.create(J1);return e.lView=t,e}function Z1(t){t.lView[yn]!==t&&(t.lView=null,qC.push(t))}var J1=pe(B({},Ta),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{hd(t.lView)},consumerOnSignalRead(){this.lView[yn]=this}});function X1(t){let e=t[yn]??Object.create(eO);return e.lView=t,e}var eO=pe(B({},Ta),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=qi(t.lView);for(;e&&!zC(e[se]);)e=qi(e);e&&vD(e)},consumerOnSignalRead(){this.lView[yn]=this}});function zC(t){return t.type!==2}var tO=100;function HC(t,e=!0,n=0){let r=t[Xn],i=r.rendererFactory,o=!1;o||i.begin?.();try{nO(t,n)}catch(s){throw e&&jC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function nO(t,e){let n=CD();try{a0(!0),$m(t,e);let r=0;for(;dd(t);){if(r===tO)throw new W(103,!1);r++,$m(t,1)}}finally{a0(n)}}function rO(t,e,n,r){let i=e[re];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Xn].inlineEffectRunner?.flush(),bg(e);let a=!0,c=null,l=null;o||(zC(t)?(l=Q1(e),c=Vc(l)):pE()===null?(a=!1,l=X1(e),c=Vc(l)):e[yn]&&(Op(e[yn]),e[yn]=null));try{yD(e),qN(t.bindingStartIndex),n!==null&&AC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Tl(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Sl(e,y,0,null),rm(e,0)}if(s||iO(e),GC(e,0),t.contentQueries!==null&&LC(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Tl(e,y)}else{let y=t.contentHooks;y!==null&&Sl(e,y,1),rm(e,1)}v1(t,e);let p=t.components;p!==null&&KC(e,p,0);let g=t.viewQuery;if(g!==null&&Bm(2,g,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Tl(e,y)}else{let y=t.viewHooks;y!==null&&Sl(e,y,2),rm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[nm]){for(let y of e[nm])y();e[nm]=null}o||(e[re]&=-73)}catch(h){throw o||hd(e),h}finally{l!==null&&(Np(l,c),a&&Z1(l)),Tg()}}function GC(t,e){for(let n=JD(t);n!==null;n=XD(n))for(let r=Tt;r<n.length;r++){let i=n[r];WC(i,e)}}function iO(t){for(let e=JD(t);e!==null;e=XD(e)){if(!(e[re]&Vl.HasTransplantedViews))continue;let n=e[Fl];for(let r=0;r<n.length;r++){let i=n[r];vD(i)}}}function oO(t,e,n){let r=ii(e,t);WC(r,n)}function WC(t,e){Cg(t)&&$m(t,e)}function $m(t,e){let r=t[se],i=t[re],o=t[yn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Pp(o)),s||=!1,o&&(o.dirty=!1),t[re]&=-9217,s)rO(r,t,r.template,t[bt]);else if(i&8192){GC(t,1);let a=r.components;a!==null&&KC(t,a,1)}}function KC(t,e,n){for(let r=0;r<e.length;r++)oO(t,e[r],n)}function Qg(t,e){let n=CD()?64:1088;for(t[Xn].changeDetectionScheduler?.notify(e);t;){t[re]|=n;let r=qi(t);if(Ll(t)&&!r)return t;t=r}return null}var Wi=class{get rootNodes(){let e=this._lView,n=e[se];return Ql(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[bt]}set context(e){this._lView[bt]=e}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[St];if(tr(e)){let n=e[kl],r=n?n.indexOf(this):-1;r>-1&&(ja(e,r),Nl(n,r))}this._attachedToViewContainer=!1}wd(this._lView[se],this._lView)}onDestroy(e){_D(this._lView,e)}markForCheck(){Qg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){bm(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,HC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ll(this._lView),n=this._lView[Ko];n!==null&&!e&&Bg(n,this._lView),yC(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e;let n=Ll(this._lView),r=this._lView[Ko];r!==null&&!n&&vC(r,this._lView),bm(this._lView)}},Sd=(()=>{class t{static{this.__NG_ELEMENT_ID__=uO}}return t})(),sO=Sd,aO=class extends sO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=bd(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Wi(i)}};function uO(){return QC(Ut(),ve())}function QC(t,e){return t.type&4?new aO(e,t,md(t,e)):null}var cO=new RegExp(`^(\\d+)*(${rC}|${nC})*(.*)`);function lO(t){let e=t.match(cO),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[s,...a]}function dO(t){return!t.prev&&t.parent?.type===8}function cm(t){return t.index-nt}function hO(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Ad(t,e,n,r){let i=cm(r),o=hO(t,i);if(o===void 0){let s=t.data[OP];if(s?.[i])o=pO(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(dO(r)){let l=cm(r.parent);o=Lm(t,l)}else{let l=cn(c,n);if(a)o=l.firstChild;else{let h=cm(c),p=Lm(t,h);if(c.type===2&&p){let y=Vg(t,h)+1;o=Md(y,p)}else o=l.nextSibling}}}}return o}function Md(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function fO(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Vm.FirstChild:n=n.firstChild;break;case Vm.NextSibling:n=n.nextSibling;break}}return n}function pO(t,e){let[n,...r]=lO(t),i;if(n===nC)i=e[un][an];else if(n===rC)i=XP(e[un][an]);else{let o=Number(n);i=Fn(e[o+nt])}return fO(i,r)}var mO=!1;function gO(t){mO=t}function yO(t){let e=t[kn];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[$e];for(let o of r.values())vO(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function vO(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-nt);i&&qg(t,i,!1)}}function YC(t){let e=t[La]??[],r=t[St][$e];for(let i of e)_O(i,r);t[La]=sn}function _O(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Gl];for(;n<i;){let o=r.nextSibling;qg(e,r,!1),r=o,n++}}}function ZC(t){YC(t);let e=t[an];On(e)&&Yl(e);for(let n=Tt;n<t.length;n++)Yl(t[n])}function Yl(t){yO(t);let e=t[se];for(let n=nt;n<e.bindingStartIndex;n++)if(tr(t[n])){let r=t[n];ZC(r)}else On(t[n])&&Yl(t[n])}function wO(t){let e=t._views;for(let n of e){let r=jP(n);r!==null&&r[an]!==null&&(On(r)?Yl(r):ZC(r))}}function IO(t,e){let n=[];for(let r of e)for(let i=0;i<(r[iC]??1);i++){let o={data:r,firstChild:null};r[Gl]>0&&(o.firstChild=t,t=Md(r[Gl],t)),n.push(o)}return[t,n]}var JC=()=>null;function EO(t,e){let n=t[La];return!e||n===null||n.length===0?null:n[0].data[PP]===e?n.shift():(YC(t),null)}function DO(){JC=EO}function Ba(t,e){return JC(t,e)}var Jo=class{},xd=new q("",{providedIn:"root",factory:()=>!1});var XC=new q(""),eb=new q(""),qm=class{},Zl=class{};function CO(t){let e=Error(`No component factory found for ${jt(t)}.`);return e[bO]=t,e}var bO="ngComponent";var zm=class{resolveComponentFactory(e){throw CO(e)}},Xo=class{static{this.NULL=new zm}},es=class{},Bn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>TO()}}return t})();function TO(){let t=ve(),e=Ut(),n=ii(e.index,t);return(On(n)?n:t)[$e]}var SO=(()=>{class t{static{this.\u0275prov=z({token:t,providedIn:"root",factory:()=>null})}}return t})();function Hm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=QE(i,a);else if(o==2){let c=a,l=e[++s];r=QE(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Jl=class extends Xo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=$i(e);return new $a(n,this.ngModule)}};function I0(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ti.None;e?n.push({propName:s,templateName:r,isSignal:(a&ti.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function AO(t){let e=t.toLowerCase();return e==="svg"?AN:e==="math"?MN:null}var $a=class extends Zl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=I0(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return I0(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=uN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=me(null);try{i=i||this.ngModule;let s=i instanceof zt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Sm(e,s):e,c=a.get(es,null);if(c===null)throw new W(407,!1);let l=a.get(SO,null),h=a.get(Jo,null),p={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},g=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",I=r?I1(g,r,this.componentDef.encapsulation,a):Ug(g,y,AO(y)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let T=null;I!==null&&(T=Fg(I,a,!0));let O=Hg(0,null,null,1,0,null,null,null,null,null,null),$=Ed(null,O,null,A,null,null,p,g,a,null,T);bg($);let F,Q,le=null;try{let te=this.componentDef,E,v=null;te.findHostDirectiveDefs?(E=[],v=new Map,te.findHostDirectiveDefs(te,E,v),E.push(te)):E=[te];let w=MO($,I);le=xO(w,I,te,E,$,p,g),Q=Eg(O,nt),I&&PO(g,te,I,r),n!==void 0&&OO(Q,this.ngContentSelectors,n),F=NO(le,te,E,v,$,[kO]),Kg(O,$,null)}catch(te){throw le!==null&&km(le),km($),te}finally{Tg()}return new Gm(this.componentType,F,md(Q,$),$,Q)}finally{me(o)}}},Gm=class extends qm{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Wi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Wg(o[se],o,i,e,n),this.previousInputValues.set(e,n);let s=ii(this._tNode.index,o);Qg(s,1)}}get injector(){return new ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function MO(t,e){let n=t[se],r=nt;return t[r]=e,Dd(n,r,2,"#host",null)}function xO(t,e,n,r,i,o,s){let a=i[se];RO(r,t,e,s);let c=null;e!==null&&(c=Fg(e,i[Wo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Ed(i,NC(n),null,h,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Um(a,t,r.length-1),Cd(i,p),i[t.index]=p}function RO(t,e,n,r){for(let i of t)e.mergedAttrs=ka(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Hm(e,e.mergedAttrs,!0),n!==null&&CC(r,n,e))}function NO(t,e,n,r,i,o){let s=Ut(),a=i[se],c=cn(s,i);kC(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,g=Zo(i,a,p,s);Gi(g,i)}FC(a,i,s),c&&Gi(c,i);let l=Zo(i,a,s.directiveStart+s.componentOffset,s);if(t[bt]=i[bt]=l,o!==null)for(let h of o)h(l,e);return MC(a,s,i),l}function PO(t,e,n,r){if(r)wm(t,n,["ng-version","18.2.10"]);else{let{attrs:i,classes:o}=cN(e.selectors[0]);i&&wm(t,n,i),o&&o.length>0&&DC(t,n,o.join(" "))}}function OO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function kO(){let t=Ut();Ag(ve()[se],t)}var os=(()=>{class t{static{this.__NG_ELEMENT_ID__=FO}}return t})();function FO(){let t=Ut();return LO(t,ve())}var VO=os,tb=class extends VO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return md(this._hostTNode,this._hostLView)}get injector(){return new ji(this._hostTNode,this._hostLView)}get parentInjector(){let e=Mg(this._hostTNode,this._hostLView);if(kD(e)){let n=Ul(e,this._hostLView),r=jl(e),i=n[se].data[r+8];return new ji(i,n)}else return new ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=E0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Tt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ba(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ua(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!CN(e),a;if(s)a=n;else{let I=n||{};a=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}let c=s?e:new $a($i(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let A=(s?l:this.parentInjector).get(zt,null);A&&(o=A)}let h=$i(c.componentType??{}),p=Ba(this._lContainer,h?.id??null),g=p?.firstChild??null,y=c.create(l,i,g,o);return this.insertImpl(y.hostView,a,Ua(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(xN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[St],l=new tb(c,c[jn],c[St]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Td(s,i,o,r),e.attachToViewContainerRef(),W0(lm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=E0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ja(this._lContainer,n);r&&(Nl(lm(this._lContainer),n),wd(r[se],r))}detach(e){let n=this._adjustIndex(e,-1),r=ja(this._lContainer,n);return r&&Nl(lm(this._lContainer),n)!=null?new Wi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function E0(t){return t[kl]}function lm(t){return t[kl]||(t[kl]=[])}function LO(t,e){let n,r=e[t.index];return tr(r)?n=r:(n=VC(r,e,null,t),e[t.index]=n,Cd(e,n)),nb(n,e,t,r),new tb(n,t,e)}function jO(t,e){let n=t[$e],r=n.createComment(""),i=cn(e,t),o=wC(n,i);return Kl(n,o,r,l1(n,i),!1),r}var nb=rb,Yg=()=>!1;function UO(t,e,n){return Yg(t,e,n)}function rb(t,e,n,r){if(t[Tr])return;let i;n.type&8?i=Fn(r):i=jO(e,n),t[Tr]=i}function BO(t,e,n){if(t[Tr]&&t[La])return!0;let r=n[kn],i=e.index-nt;if(!r||CP(e)||Za(r,i))return!1;let s=Lm(r,i),a=r.data[kg]?.[i],[c,l]=IO(s,a);return t[Tr]=c,t[La]=l,!0}function $O(t,e,n,r){Yg(t,n,e)||rb(t,e,n,r)}function qO(){nb=$O,Yg=BO}var D0=new Set;function rr(t){D0.has(t)||(D0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function zO(t){return typeof t=="function"&&t[Er]!==void 0}function ss(t,e){rr("NgSignals");let n=bE(t),r=n[Er];return e?.equal&&(r.equal=e.equal),n.set=i=>kp(r,i),n.update=i=>TE(r,i),n.asReadonly=HO.bind(n),n}function HO(){let t=this[Er];if(t.readonlyFn===void 0){let e=()=>this();e[Er]=t,t.readonlyFn=e}return t.readonlyFn}function ib(t){return zO(t)&&typeof t.set=="function"}function GO(t){return Object.getPrototypeOf(t.prototype).constructor}function Mt(t){let e=GO(t.type),n=!0,r=[t];for(;e;){let i;if(ni(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Il(t.inputs),s.inputTransforms=Il(t.inputTransforms),s.declaredInputs=Il(t.declaredInputs),s.outputs=Il(t.outputs);let a=i.hostBindings;a&&ZO(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&QO(t,c),l&&YO(t,l),WO(t,i),xR(t.outputs,i.outputs),ni(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Mt&&(n=!1)}}e=Object.getPrototypeOf(e)}KO(r)}function WO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function KO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ka(i.hostAttrs,n=ka(n,i.hostAttrs))}}function Il(t){return t===Ho?{}:t===sn?[]:t}function QO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function YO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function ZO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Zg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ri=class{},qa=class{};var Wm=class extends ri{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jl(this);let o=nD(e);this._bootstrapComponents=pC(o.bootstrap),this._r3Injector=zD(e,n,[{provide:ri,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Km=class extends qa{constructor(e){super(),this.moduleType=e}create(e){return new Wm(this.moduleType,e,[])}};var Xl=class extends ri{constructor(e){super(),this.componentFactoryResolver=new Jl(this),this.instance=null;let n=new Fa([...e.providers,{provide:ri,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver}],e.parent||wg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Jg(t,e,n=null){return new Xl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function ob(t){return Xg(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function JO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Xg(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ey(t,e,n){return t[e]=n}function XO(t,e){return t[e]}function Vn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function sb(t,e,n,r){let i=Vn(t,e,n);return Vn(t,e+1,r)||i}function ek(t,e,n,r,i){let o=sb(t,e,n,r);return Vn(t,e+2,i)||o}function Xa(t){return(t.flags&32)===32}function tk(t,e,n,r,i,o,s,a,c){let l=e.consts,h=Dd(e,t,4,s||null,a||null);OC(e,n,h,Yo(l,c)),Ag(e,h);let p=h.tView=Hg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Qm(t,e,n,r,i,o,s,a,c,l){let h=n+nt,p=e.firstCreatePass?tk(h,e,t,r,i,o,s,a,c):e.data[h];Ya(p,!1);let g=ab(e,t,p,n);Sg()&&$g(e,t,g,p),Gi(g,t);let y=VC(g,t,g,p);return t[h]=y,Cd(t,y),UO(y,p,t),Ig(p)&&xC(e,t,p),c!=null&&RC(t,p,l),p}function Ze(t,e,n,r,i,o,s,a){let c=ve(),l=At(),h=Yo(l.consts,o);return Qm(c,l,t,e,n,r,i,h,s,a),Ze}var ab=ub;function ub(t,e,n,r){return si(!0),e[$e].createComment("")}function nk(t,e,n,r){let i=e[kn],o=!i||Qa()||Xa(n)||Za(i,r);if(si(o),o)return ub(t,e,n,r);let s=i.data[NP]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Ad(i,t,e,n);vd(i,r,a);let c=Vg(i,r);return Md(c,a)}function rk(){ab=nk}var Na=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Na||{}),ik=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}}return t})(),C0=class t{constructor(){this.ngZone=P(Ee),this.scheduler=P(Jo),this.errorHandler=P(Sr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Na.EarlyRead,Na.Write,Na.MixedReadWrite,Na.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}};function as(t,e,n,r){let i=ve(),o=rs();if(Vn(i,o,e)){let s=At(),a=pd();j1(a,i,t,e,n,r)}return as}function cb(t,e,n,r){return Vn(t,rs(),n)?e+Li(n)+r:En}function ok(t,e,n,r,i,o,s,a){let c=$N(),l=ek(t,c,n,i,s);return bD(3),l?e+Li(n)+r+Li(i)+o+Li(s)+a:En}function El(t,e){return t<<17|e<<2}function Ki(t){return t>>17&32767}function sk(t){return(t&2)==2}function ak(t,e){return t&131071|e<<17}function Ym(t){return t|2}function ts(t){return(t&131068)>>2}function dm(t,e){return t&-131069|e<<2}function uk(t){return(t&1)===1}function Zm(t){return t|1}function ck(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ki(s),c=ts(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ga(p,h)>0)&&(l=!0)}else h=n;if(i)if(c!==0){let g=Ki(t[a+1]);t[r+1]=El(g,a),g!==0&&(t[g+1]=dm(t[g+1],r)),t[a+1]=ak(t[a+1],r)}else t[r+1]=El(a,0),a!==0&&(t[a+1]=dm(t[a+1],r)),a=r;else t[r+1]=El(c,0),a===0?a=r:t[c+1]=dm(t[c+1],r),c=r;l&&(t[r+1]=Ym(t[r+1])),b0(t,h,r,!0),b0(t,h,r,!1),lk(e,h,t,r,o),s=El(a,c),o?e.classBindings=s:e.styleBindings=s}function lk(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ga(o,e)>=0&&(n[r+1]=Zm(n[r+1]))}function b0(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ki(i):ts(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];dk(c,e)&&(a=!0,t[s+1]=r?Zm(l):Ym(l)),s=r?Ki(l):ts(l)}a&&(t[n+1]=r?Ym(i):Zm(i))}function dk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ga(t,e)>=0:!1}function ie(t,e,n){let r=ve(),i=rs();if(Vn(r,i,e)){let o=At(),s=pd();Gg(o,s,r,t,e,r[$e],n,!1)}return ie}function T0(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Wg(t,n,o[s],s,r)}function Rd(t,e){return hk(t,e,null,!0),Rd}function hk(t,e,n,r){let i=ve(),o=At(),s=bD(2);if(o.firstUpdatePass&&pk(o,t,s,r),e!==En&&Vn(i,s,e)){let a=o.data[oi()];_k(o,a,i,i[$e],t,i[s+1]=wk(e,n),r,s)}}function fk(t,e){return e>=t.expandoStartIndex}function pk(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[oi()],s=fk(t,n);Ik(o,r)&&e===null&&!s&&(e=!1),e=mk(i,o,e,r),ck(i,o,e,n,s,r)}}function mk(t,e,n,r){let i=WN(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=hm(null,t,e,n,r),n=za(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=hm(i,t,e,n,r),o===null){let c=gk(t,e,r);c!==void 0&&Array.isArray(c)&&(c=hm(null,t,e,c[1],r),c=za(c,e.attrs,r),yk(t,e,r,c))}else o=vk(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function gk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ts(r)!==0)return t[Ki(r)]}function yk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ki(i)]=r}function vk(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=za(r,s,n)}return za(r,e.attrs,n)}function hm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=za(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function za(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),YR(t,s,n?!0:e[++o]))}return t===void 0?null:t}function _k(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],h=uk(l)?S0(c,e,n,i,ts(l),s):void 0;if(!ed(h)){ed(o)||sk(l)&&(o=S0(c,null,n,i,a,s));let p=gD(oi(),n);g1(r,s,p,i,o)}}function S0(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),h=l?c[1]:c,p=h===null,g=n[i+1];g===En&&(g=p?sn:void 0);let y=p?em(g,r):h===r?g:void 0;if(l&&!ed(y)&&(y=em(c,r)),ed(y)&&(a=y,s))return a;let I=t[i+1];i=s?Ki(I):ts(I)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=em(c,r))}return a}function ed(t){return t!==void 0}function wk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=jt(Ja(t)))),t}function Ik(t,e){return(t.flags&(e?8:16))!==0}var Jm=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function fm(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Ek(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=t.at(o),h=e[o],p=fm(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let g=t.at(s),y=e[c],I=fm(s,g,c,y,n);if(I!==0){I<0&&t.updateValue(s,y),s--,c--;continue}let A=n(o,l),T=n(s,g),O=n(o,h);if(Object.is(O,T)){let $=n(c,y);Object.is($,A)?(t.swap(o,s),t.updateValue(s,y),c--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new td,i??=M0(t,o,s,n),Xm(t,r,o,O))t.updateValue(o,h),o++,s++;else if(i.has(O))r.set(A,t.detach(o)),s--;else{let $=t.create(o,e[o]);t.attach(o,$),o++,s++}}for(;o<=c;)A0(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,g=fm(o,h,o,p,n);if(g!==0)g<0&&t.updateValue(o,p),o++,l=c.next();else{r??=new td,i??=M0(t,o,s,n);let y=n(o,p);if(Xm(t,r,o,y))t.updateValue(o,p),o++,s++,l=c.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=c.next();else{let I=n(o,h);r.set(I,t.detach(o)),s--}}}for(;!l.done;)A0(t,r,n,t.length,l.value),l=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function Xm(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function A0(t,e,n,r,i){if(Xm(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function M0(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var td=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Nd(t,e){rr("NgControlFlow");let n=ve(),r=rs(),i=n[r]!==En?n[r]:-1,o=i!==-1?nd(n,nt+i):void 0,s=0;if(Vn(n,r,t)){let a=me(null);try{if(o!==void 0&&$C(o,s),t!==-1){let c=nt+t,l=nd(n,c),h=rg(n[se],c),p=Ba(l,h.tView.ssrId),g=bd(n,h,e,{dehydratedView:p});Td(l,g,s,Ua(h,p))}}finally{me(a)}}else if(o!==void 0){let a=BC(o,s);a!==void 0&&(a[bt]=e)}}var eg=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Tt}};function Pd(t){return t}var tg=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Od(t,e,n,r,i,o,s,a,c,l,h,p,g){rr("NgControlFlow");let y=ve(),I=At(),A=c!==void 0,T=ve(),O=a?s.bind(T[un][bt]):s,$=new tg(A,O);T[nt+t]=$,Qm(y,I,t+1,e,n,r,i,Yo(I.consts,o)),A&&Qm(y,I,t+2,c,l,h,p,Yo(I.consts,g))}var ng=class extends Jm{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Tt}at(e){return this.getLView(e)[bt].$implicit}attach(e,n){let r=n[kn];this.needsIndexUpdate||=e!==this.length,Td(this.lContainer,n,e,Ua(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Dk(this.lContainer,e)}create(e,n){let r=Ba(this.lContainer,this.templateTNode.tView.ssrId),i=bd(this.hostLView,this.templateTNode,new eg(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){wd(e[se],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[bt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[bt].$index=e}getLView(e){return Ck(this.lContainer,e)}};function kd(t){let e=me(null),n=oi();try{let r=ve(),i=r[se],o=r[n],s=n+1,a=nd(r,s);if(o.liveCollection===void 0){let l=rg(i,s);o.liveCollection=new ng(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(Ek(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=rs(),h=c.length===0;if(Vn(r,l,h)){let p=n+2,g=nd(r,p);if(h){let y=rg(i,p),I=Ba(g,y.tView.ssrId),A=bd(r,y,void 0,{dehydratedView:I});Td(g,A,0,Ua(y,I))}else $C(g,0)}}}finally{me(e)}}function nd(t,e){return t[e]}function Dk(t,e){return ja(t,e)}function Ck(t,e){return BC(t,e)}function rg(t,e){return Eg(t,e)}function bk(t,e,n,r,i,o){let s=e.consts,a=Yo(s,i),c=Dd(e,t,2,r,a);return OC(e,n,c,Yo(s,o)),c.attrs!==null&&Hm(c,c.attrs,!1),c.mergedAttrs!==null&&Hm(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function R(t,e,n,r){let i=ve(),o=At(),s=nt+t,a=i[$e],c=o.firstCreatePass?bk(s,o,i,e,n,r):o.data[s],l=lb(o,i,c,a,e,t);i[s]=l;let h=Ig(c);return Ya(c,!0),CC(a,l,c),!Xa(c)&&Sg()&&$g(o,i,l,c),PN()===0&&Gi(l,i),ON(),h&&(xC(o,i,c),MC(o,c,i)),r!==null&&RC(i,c),R}function x(){let t=Ut();DD()?UN():(t=t.parent,Ya(t,!1));let e=t;FN(e)&&LN(),kN();let n=At();return n.firstCreatePass&&(Ag(n,t),dD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&XN(e)&&T0(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&eP(e)&&T0(n,e,ve(),e.stylesWithoutHost,!1),x}function Ae(t,e,n,r){return R(t,e,n,r),x(),Ae}var lb=(t,e,n,r,i,o)=>(si(!0),Ug(r,i,ND()));function Tk(t,e,n,r,i,o){let s=e[kn],a=!s||Qa()||Xa(n)||Za(s,o);if(si(a),a)return Ug(r,i,ND());let c=Ad(s,t,e,n);return uC(s,o)&&vd(s,o,c.nextSibling),s&&(QD(n)||YD(c))&&Ka(n)&&(VN(n),EC(c)),c}function Sk(){lb=Tk}var Ak=(t,e,n,r)=>(si(!0),gC(e[$e],""));function Mk(t,e,n,r){let i,o=e[kn],s=!o||Qa()||Za(o,r)||Xa(n);if(si(s),s)return gC(e[$e],"");let a=Ad(o,t,e,n),c=$P(o,r);return vd(o,r,a),i=Md(c,a),i}function xk(){Ak=Mk}function ut(){return ve()}var Fi=void 0;function Rk(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Nk=["en",[["a","p"],["AM","PM"],Fi],[["AM","PM"],Fi,Fi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fi,"{1} 'at' {0}",Fi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Rk],pm={};function Kt(t){let e=Pk(t),n=x0(e);if(n)return n;let r=e.split("-")[0];if(n=x0(r),n)return n;if(r==="en")return Nk;throw new W(701,!1)}function x0(t){return t in pm||(pm[t]=Vi.ng&&Vi.ng.common&&Vi.ng.common.locales&&Vi.ng.common.locales[t]),pm[t]}var Ge=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ge||{});function Pk(t){return t.toLowerCase().replace(/_/g,"-")}var rd="en-US",Ok="USD";var kk=rd;function Fk(t){typeof t=="string"&&(kk=t.toLowerCase().replace(/_/g,"-"))}var Vk=(t,e,n)=>{};function fe(t,e,n,r){let i=ve(),o=At(),s=Ut();return db(o,i,i[$e],s,t,e,r),fe}function Lk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ol],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function db(t,e,n,r,i,o,s){let a=Ig(r),l=t.firstCreatePass&&z1(t),h=e[bt],p=q1(e),g=!0;if(r.type&3||s){let A=cn(r,e),T=s?s(A):A,O=p.length,$=s?Q=>s(Fn(Q[r.index])):r.index,F=null;if(!s&&a&&(F=Lk(t,e,i,r.index)),F!==null){let Q=F.__ngLastListenerFn__||F;Q.__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,g=!1}else{o=N0(r,e,h,o),Vk(A,i,o);let Q=n.listen(T,i,o);p.push(o,Q),l&&l.push(i,$,O,O+1)}}else o=N0(r,e,h,o);let y=r.outputs,I;if(g&&y!==null&&(I=y[i])){let A=I.length;if(A)for(let T=0;T<A;T+=2){let O=I[T],$=I[T+1],le=e[O][$].subscribe(o),te=p.length;p.push(o,le),l&&l.push(i,r.index,te,-(te+1))}}}function R0(t,e,n,r){let i=me(null);try{return Yn(6,e,n),n(r)!==!1}catch(o){return jC(t,o),!1}finally{Yn(7,e,n),me(i)}}function N0(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?ii(t.index,e):e;Qg(s,5);let a=R0(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=R0(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Me(t=1){return QN(t)}function eu(t,e,n){return hb(t,"",e,"",n),eu}function hb(t,e,n,r,i){let o=ve(),s=cb(o,e,n,r);if(s!==En){let a=At(),c=pd();Gg(a,c,o,t,s,o[$e],i,!1)}return hb}function jk(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Fd(t){let e=BN();return Dg(e,nt+t)}function j(t,e=""){let n=ve(),r=At(),i=t+nt,o=r.firstCreatePass?Dd(r,i,1,e,null):r.data[i],s=fb(r,n,o,e,t);n[i]=s,Sg()&&$g(r,n,s,o),Ya(o,!1)}var fb=(t,e,n,r,i)=>(si(!0),mC(e[$e],r));function Uk(t,e,n,r,i){let o=e[kn],s=!o||Qa()||Xa(n)||Za(o,i);return si(s),s?mC(e[$e],r):Ad(o,t,e,n)}function Bk(){fb=Uk}function lt(t){return Qt("",t,""),lt}function Qt(t,e,n){let r=ve(),i=cb(r,t,e,n);return i!==En&&UC(r,oi(),i),Qt}function tu(t,e,n,r,i,o,s){let a=ve(),c=ok(a,t,e,n,r,i,o,s);return c!==En&&UC(a,oi(),c),tu}function mt(t,e,n){ib(e)&&(e=e());let r=ve(),i=rs();if(Vn(r,i,e)){let o=At(),s=pd();Gg(o,s,r,t,e,r[$e],n,!1)}return mt}function xt(t,e){let n=ib(t);return n&&t.set(e),n}function gt(t,e){let n=ve(),r=At(),i=Ut();return db(r,n,n[$e],i,t,e),gt}function $k(t,e,n){let r=At();if(r.firstCreatePass){let i=ni(t);ig(n,r.data,r.blueprint,i,!0),ig(e,r.data,r.blueprint,i,!1)}}function ig(t,e,n,r,i){if(t=Lt(t),Array.isArray(t))for(let o=0;o<t.length;o++)ig(t[o],e,n,r,i);else{let o=At(),s=ve(),a=Ut(),c=Go(t)?t:Lt(t.provide),l=uD(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Go(t)||!t.multi){let y=new Hi(l,i,k),I=gm(c,e,i?h:h+g,p);I===-1?(Mm($l(a,s),o,c),mm(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[I]=y,s[I]=y)}else{let y=gm(c,e,h+g,p),I=gm(c,e,h,h+g),A=y>=0&&n[y],T=I>=0&&n[I];if(i&&!T||!i&&!A){Mm($l(a,s),o,c);let O=Hk(i?zk:qk,n.length,i,r,l);!i&&T&&(n[I].providerFactory=O),mm(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=pb(n[i?I:y],l,!i&&r);mm(o,t,y>-1?y:I,O)}!i&&r&&T&&n[I].componentProviders++}}}function mm(t,e,n,r){let i=Go(e),o=gN(e);if(i||o){let c=(o?Lt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,c]):l[h+1].push(r,c)}else l.push(n,c)}}}function pb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function qk(t,e,n,r){return og(this.multi,[])}function zk(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Zo(n,n[se],this.providerFactory.index,r);o=a.slice(0,s),og(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],og(i,o);return o}function og(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Hk(t,e,n,r,i){let o=new Hi(t,n,k);return o.multi=[],o.index=e,o.componentProviders=0,pb(o,i,r&&!n),o}function Dn(t,e=[]){return n=>{n.providersResolver=(r,i)=>$k(r,i?i(t):t,e)}}var Gk=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=oD(!1,n.type),i=r.length>0?Jg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(G(zt))})}}return t})();function Je(t){rr("NgStandalone"),t.getStandaloneInjector=e=>e.get(Gk).getOrCreateStandaloneInjector(t)}function ty(t,e,n){let r=fd()+t,i=ve();return i[r]===En?ey(i,r,n?e.call(n):e()):XO(i,r)}function Qi(t,e,n,r){return gb(ve(),fd(),t,e,n,r)}function mb(t,e){let n=t[e];return n===En?void 0:n}function gb(t,e,n,r,i,o){let s=e+n;return Vn(t,s,i)?ey(t,s+1,o?r.call(o,i):r(i)):mb(t,s+1)}function Wk(t,e,n,r,i,o,s){let a=e+n;return sb(t,a,i,o)?ey(t,a+2,s?r.call(s,i,o):r(i,o)):mb(t,a+2)}function nu(t,e){let n=At(),r,i=t+nt;n.firstCreatePass?(r=Kk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Ui(r.type,!0)),s,a=qt(k);try{let c=Bl(!1),l=o();return Bl(c),jk(n,ve(),i,l),l}finally{qt(a)}}function Kk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Vd(t,e,n){let r=t+nt,i=ve(),o=Dg(i,r);return vb(i,r)?gb(i,fd(),e,o.transform,n,o):o.transform(n)}function yb(t,e,n,r){let i=t+nt,o=ve(),s=Dg(o,i);return vb(o,i)?Wk(o,fd(),e,s.transform,n,r,s):s.transform(n,r)}function vb(t,e){return t[se].data[e].pure}function _b(t,e){return QC(t,e)}var Ar=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Ld=new Ar("18.2.10");var jd=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var wb=new q("");function ui(t){return!!t&&typeof t.then=="function"}function ny(t){return!!t&&typeof t.subscribe=="function"}var Ib=new q(""),Eb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=P(Ib,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(ui(o))n.push(o);else if(ny(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),us=new q("");function Qk(){CE(()=>{throw new W(600,!1)})}function Yk(t){return t.isBoundToModule}var Zk=10;function Jk(t,e,n){try{let r=n();return ui(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ir=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(wP),this.afterRenderManager=P(ik),this.zonelessEnabled=P(xd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new qe,this.afterTick=new qe,this.componentTypes=[],this.components=[],this.isStable=P(ai).hasPendingTasks.pipe(Z(n=>!n)),this._injector=P(zt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Zl;if(!this._injector.get(Eb).done){let g=!i&&tD(n),y=!1;throw new W(405,y)}let s;i?s=n:s=this._injector.get(Xo).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=Yk(s)?void 0:this._injector.get(ri),c=r||s.selector,l=s.create(Ht.NULL,[],c,a),h=l.location.nativeElement,p=l.injector.get(wb,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Al(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new W(101,!1);let n=me(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,me(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(es,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Zk;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)Xk(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>dd(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Al(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(us,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Al(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new W(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Al(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Dl;function Ud(t){Dl??=new WeakMap;let e=Dl.get(t);if(e)return e;let n=t.isStable.pipe(on(r=>r)).toPromise().then(()=>{});return Dl.set(t,n),t.onDestroy(()=>Dl?.delete(t)),n}function Xk(t,e,n,r){if(!n&&!dd(t))return;HC(t,e,n&&!r?0:1)}var sg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ry=(()=>{class t{compileModuleSync(n){return new Km(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=nD(n),o=pC(i.declarations).reduce((s,a)=>{let c=$i(a);return c&&s.push(new $a(c)),s},[]);return new sg(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var eF=(()=>{class t{constructor(){this.zone=P(Ee),this.changeDetectionScheduler=P(Jo),this.applicationRef=P(ir)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),tF=new q("",{factory:()=>!1});function Db({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ee(pe(B({},bb()),{scheduleInRootZone:n})),[{provide:Ee,useFactory:t},{provide:Bi,multi:!0,useFactory:()=>{let r=P(eF,{optional:!0});return()=>r.initialize()}},{provide:Bi,multi:!0,useFactory:()=>{let r=P(nF);return()=>{r.initialize()}}},e===!0?{provide:XC,useValue:!0}:[],{provide:eb,useValue:n??HD}]}function Cb(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Db({ngZoneFactory:()=>{let i=bb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&rr("NgZone_CoalesceEvent"),new Ee(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return wn([{provide:tF,useValue:!0},{provide:xd,useValue:!1},r])}function bb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nF=(()=>{class t{constructor(){this.subscription=new Ke,this.initialized=!1,this.zone=P(Ee),this.pendingTasks=P(ai)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var rF=(()=>{class t{constructor(){this.appRef=P(ir),this.taskService=P(ai),this.ngZone=P(Ee),this.zonelessEnabled=P(xd),this.disableScheduling=P(XC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ke,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(zl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(eb,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Om||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?h0:WD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(zl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,h0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function iF(){return typeof $localize<"u"&&$localize.locale||rd}var ru=new q("",{providedIn:"root",factory:()=>P(ru,he.Optional|he.SkipSelf)||iF()}),Tb=new q("",{providedIn:"root",factory:()=>Ok});var ag=new q("");function Cl(t){return!t.moduleRef}function oF(t){let e=Cl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ee);return n.run(()=>{Cl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Sr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Cl(t)){let o=()=>e.destroy(),s=t.platformInjector.get(ag);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ag);s.add(o),t.moduleRef.onDestroy(()=>{Al(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Jk(r,n,()=>{let o=e.get(Eb);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(ru,rd);if(Fk(s||rd),Cl(t)){let a=e.get(ir);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return sF(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function sF(t,e){let n=t.injector.get(ir);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new W(-403,!1);e.push(t)}var Ml=null;function aF(t=[],e){return Ht.create({name:e,providers:[{provide:cd,useValue:"platform"},{provide:ag,useValue:new Set([()=>Ml=null])},...t]})}function uF(t=[]){if(Ml)return Ml;let e=aF(t);return Ml=e,Qk(),cF(e),e}function cF(t){t.get(Pg,null)?.forEach(n=>n())}function iy(){return!1}var ci=(()=>{class t{static{this.__NG_ELEMENT_ID__=lF}}return t})();function lF(t){return dF(Ut(),ve(),(t&16)===16)}function dF(t,e,n){if(Ka(t)&&!n){let r=ii(t.index,e);return new Wi(r,r)}else if(t.type&175){let r=e[un];return new Wi(r,e)}return null}var ug=class{constructor(){}supports(e){return ob(e)}create(e){return new cg(e)}},hF=(t,e)=>e,cg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||hF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<P0(r,i,o)?n:r,a=P0(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=c-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,I=y+g;h<=I&&I<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ob(e))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,JO(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new lg(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new id),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new id),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},lg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},dg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},id=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new dg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function P0(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var hg=class{constructor(){}supports(e){return e instanceof Map||Xg(e)}create(){return new fg}},fg=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Xg(e)))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new pg(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},pg=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function O0(){return new oy([new ug])}var oy=(()=>{class t{static{this.\u0275prov=z({token:t,providedIn:"root",factory:O0})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||O0()),deps:[[t,new gg,new Wt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new W(901,!1)}}return t})();function k0(){return new sy([new hg])}var sy=(()=>{class t{static{this.\u0275prov=z({token:t,providedIn:"root",factory:k0})}constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||k0()),deps:[[t,new gg,new Wt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new W(901,!1)}}return t})();function Sb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=uF(r),o=[Db({}),{provide:Jo,useExisting:rF},...n||[]],s=new Xl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return oF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var F0=!1;function fF(){F0||(F0=!0,LP(),Sk(),Bk(),xk(),rk(),qO(),DO(),C1())}function pF(t,e){return Ud(t)}function Ab(){return wn([{provide:vl,useFactory:()=>{let t=!0;return wl()&&(t=!!P(is,{optional:!0})?.get(sC,null)),t&&rr("NgHydration"),t}},{provide:Bi,useValue:()=>{gO(!1),wl()&&P(vl)&&(mF(),fF())},multi:!0},{provide:lC,useFactory:()=>wl()&&P(vl)},{provide:us,useFactory:()=>{if(wl()&&P(vl)){let t=P(ir),e=P(Ht);return()=>{pF(t,e).then(()=>{wO(t)})}}return()=>{}},multi:!0}])}function mF(){let t=gd(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===FP){e=n;break}if(!e)throw new W(-507,!1)}function li(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function cs(t,e){rr("NgSignals");let n=IE(t);return e?.equal&&(n[Er].equal=e.equal),n}function Cn(t){let e=me(null);try{return t()}finally{me(e)}}var Vb=null;function Pr(){return Vb}function Lb(t){Vb??=t}var Qd=class{};var Yt=new q(""),jb=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>P(gF),providedIn:"platform"})}}return t})();var gF=(()=>{class t extends jb{constructor(){super(),this._doc=P(Yt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pr().getBaseHref(this._doc)}onPopState(n){let r=Pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Ub(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Mb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Yi(t){return t&&t[0]!=="?"?"?"+t:t}var ds=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>P(Bb),providedIn:"root"})}}return t})(),yF=new q(""),Bb=(()=>{class t extends ds{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ub(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Yi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Yi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Yi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(G(jb),G(yF,8))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ou=(()=>{class t{constructor(n){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=wF(Mb(xb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Yi(r))}normalize(n){return t.stripTrailingSlash(_F(this._basePath,xb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Yi}static{this.joinWithSlash=Ub}static{this.stripTrailingSlash=Mb}static{this.\u0275fac=function(r){return new(r||t)(G(ds))}}static{this.\u0275prov=z({token:t,factory:()=>vF(),providedIn:"root"})}}return t})();function vF(){return new ou(G(ds))}function _F(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function xb(t){return t.replace(/\/index.html$/,"")}function wF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var $b={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},qb=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(qb||{});var Bt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Bt||{}),ke=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ke||{}),ln=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(ln||{}),dn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function IF(t){return Kt(t)[Ge.LocaleId]}function EF(t,e,n){let r=Kt(t),i=[r[Ge.DayPeriodsFormat],r[Ge.DayPeriodsStandalone]],o=bn(i,e);return bn(o,n)}function DF(t,e,n){let r=Kt(t),i=[r[Ge.DaysFormat],r[Ge.DaysStandalone]],o=bn(i,e);return bn(o,n)}function CF(t,e,n){let r=Kt(t),i=[r[Ge.MonthsFormat],r[Ge.MonthsStandalone]],o=bn(i,e);return bn(o,n)}function bF(t,e){let r=Kt(t)[Ge.Eras];return bn(r,e)}function Bd(t,e){let n=Kt(t);return bn(n[Ge.DateFormat],e)}function $d(t,e){let n=Kt(t);return bn(n[Ge.TimeFormat],e)}function qd(t,e){let r=Kt(t)[Ge.DateTimeFormat];return bn(r,e)}function Rr(t,e){let n=Kt(t),r=n[Ge.NumberSymbols][e];if(typeof r>"u"){if(e===dn.CurrencyDecimal)return n[Ge.NumberSymbols][dn.Decimal];if(e===dn.CurrencyGroup)return n[Ge.NumberSymbols][dn.Group]}return r}function TF(t,e){return Kt(t)[Ge.NumberFormats][e]}function SF(t){return Kt(t)[Ge.Currencies]}function zb(t){if(!t[Ge.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ge.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function AF(t){let e=Kt(t);return zb(e),(e[Ge.ExtraData][2]||[]).map(r=>typeof r=="string"?ay(r):[ay(r[0]),ay(r[1])])}function MF(t,e,n){let r=Kt(t);zb(r);let i=[r[Ge.ExtraData][0],r[Ge.ExtraData][1]],o=bn(i,e)||[];return bn(o,n)||[]}function bn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function ay(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function xF(t,e,n="en"){let r=SF(n)[t]||$b[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var RF=2;function NF(t){let e,n=$b[t];return n&&(e=n[2]),typeof e=="number"?e:RF}var PF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,zd={},OF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Nr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Nr||{}),be=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(be||{}),Ce=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ce||{});function kF(t,e,n,r){let i=zF(t);e=xr(n,e)||e;let s=[],a;for(;e;)if(a=OF.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=Gb(r,c),i=qF(i,r,!0));let l="";return s.forEach(h=>{let p=BF(h);l+=p?p(i,n,c):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Yd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function xr(t,e){let n=IF(t);if(zd[n]??={},zd[n][e])return zd[n][e];let r="";switch(e){case"shortDate":r=Bd(t,ln.Short);break;case"mediumDate":r=Bd(t,ln.Medium);break;case"longDate":r=Bd(t,ln.Long);break;case"fullDate":r=Bd(t,ln.Full);break;case"shortTime":r=$d(t,ln.Short);break;case"mediumTime":r=$d(t,ln.Medium);break;case"longTime":r=$d(t,ln.Long);break;case"fullTime":r=$d(t,ln.Full);break;case"short":let i=xr(t,"shortTime"),o=xr(t,"shortDate");r=Hd(qd(t,ln.Short),[i,o]);break;case"medium":let s=xr(t,"mediumTime"),a=xr(t,"mediumDate");r=Hd(qd(t,ln.Medium),[s,a]);break;case"long":let c=xr(t,"longTime"),l=xr(t,"longDate");r=Hd(qd(t,ln.Long),[c,l]);break;case"full":let h=xr(t,"fullTime"),p=xr(t,"fullDate");r=Hd(qd(t,ln.Full),[h,p]);break}return r&&(zd[n][e]=r),r}function Hd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function $n(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function FF(t,e){return $n(t,3).substring(0,e)}function rt(t,e,n=0,r=!1,i=!1){return function(o,s){let a=VF(t,o);if((n>0||a>-n)&&(a+=n),t===be.Hours)a===0&&n===-12&&(a=12);else if(t===be.FractionalSeconds)return FF(a,e);let c=Rr(s,dn.MinusSign);return $n(a,e,c,r,i)}}function VF(t,e){switch(t){case be.FullYear:return e.getFullYear();case be.Month:return e.getMonth();case be.Date:return e.getDate();case be.Hours:return e.getHours();case be.Minutes:return e.getMinutes();case be.Seconds:return e.getSeconds();case be.FractionalSeconds:return e.getMilliseconds();case be.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function je(t,e,n=Bt.Format,r=!1){return function(i,o){return LF(i,o,t,e,n,r)}}function LF(t,e,n,r,i,o){switch(n){case Ce.Months:return CF(e,i,r)[t.getMonth()];case Ce.Days:return DF(e,i,r)[t.getDay()];case Ce.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=AF(e),h=MF(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,I]=g,A=s>=y.hours&&a>=y.minutes,T=s<I.hours||s===I.hours&&a<I.minutes;if(y.hours<I.hours){if(A&&T)return!0}else if(A||T)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return EF(e,i,r)[s<12?0:1];case Ce.Eras:return bF(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function Gd(t){return function(e,n,r){let i=-1*r,o=Rr(n,dn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Nr.Short:return(i>=0?"+":"")+$n(s,2,o)+$n(Math.abs(i%60),2,o);case Nr.ShortGMT:return"GMT"+(i>=0?"+":"")+$n(s,1,o);case Nr.Long:return"GMT"+(i>=0?"+":"")+$n(s,2,o)+":"+$n(Math.abs(i%60),2,o);case Nr.Extended:return r===0?"Z":(i>=0?"+":"")+$n(s,2,o)+":"+$n(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var jF=0,Kd=4;function UF(t){let e=Yd(t,jF,1).getDay();return Yd(t,0,1+(e<=Kd?Kd:Kd+7)-e)}function Hb(t){let e=t.getDay(),n=e===0?-3:Kd-e;return Yd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function uy(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=Hb(n),s=UF(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return $n(i,t,Rr(r,dn.MinusSign))}}function Wd(t,e=!1){return function(n,r){let o=Hb(n).getFullYear();return $n(o,t,Rr(r,dn.MinusSign),e)}}var cy={};function BF(t){if(cy[t])return cy[t];let e;switch(t){case"G":case"GG":case"GGG":e=je(Ce.Eras,ke.Abbreviated);break;case"GGGG":e=je(Ce.Eras,ke.Wide);break;case"GGGGG":e=je(Ce.Eras,ke.Narrow);break;case"y":e=rt(be.FullYear,1,0,!1,!0);break;case"yy":e=rt(be.FullYear,2,0,!0,!0);break;case"yyy":e=rt(be.FullYear,3,0,!1,!0);break;case"yyyy":e=rt(be.FullYear,4,0,!1,!0);break;case"Y":e=Wd(1);break;case"YY":e=Wd(2,!0);break;case"YYY":e=Wd(3);break;case"YYYY":e=Wd(4);break;case"M":case"L":e=rt(be.Month,1,1);break;case"MM":case"LL":e=rt(be.Month,2,1);break;case"MMM":e=je(Ce.Months,ke.Abbreviated);break;case"MMMM":e=je(Ce.Months,ke.Wide);break;case"MMMMM":e=je(Ce.Months,ke.Narrow);break;case"LLL":e=je(Ce.Months,ke.Abbreviated,Bt.Standalone);break;case"LLLL":e=je(Ce.Months,ke.Wide,Bt.Standalone);break;case"LLLLL":e=je(Ce.Months,ke.Narrow,Bt.Standalone);break;case"w":e=uy(1);break;case"ww":e=uy(2);break;case"W":e=uy(1,!0);break;case"d":e=rt(be.Date,1);break;case"dd":e=rt(be.Date,2);break;case"c":case"cc":e=rt(be.Day,1);break;case"ccc":e=je(Ce.Days,ke.Abbreviated,Bt.Standalone);break;case"cccc":e=je(Ce.Days,ke.Wide,Bt.Standalone);break;case"ccccc":e=je(Ce.Days,ke.Narrow,Bt.Standalone);break;case"cccccc":e=je(Ce.Days,ke.Short,Bt.Standalone);break;case"E":case"EE":case"EEE":e=je(Ce.Days,ke.Abbreviated);break;case"EEEE":e=je(Ce.Days,ke.Wide);break;case"EEEEE":e=je(Ce.Days,ke.Narrow);break;case"EEEEEE":e=je(Ce.Days,ke.Short);break;case"a":case"aa":case"aaa":e=je(Ce.DayPeriods,ke.Abbreviated);break;case"aaaa":e=je(Ce.DayPeriods,ke.Wide);break;case"aaaaa":e=je(Ce.DayPeriods,ke.Narrow);break;case"b":case"bb":case"bbb":e=je(Ce.DayPeriods,ke.Abbreviated,Bt.Standalone,!0);break;case"bbbb":e=je(Ce.DayPeriods,ke.Wide,Bt.Standalone,!0);break;case"bbbbb":e=je(Ce.DayPeriods,ke.Narrow,Bt.Standalone,!0);break;case"B":case"BB":case"BBB":e=je(Ce.DayPeriods,ke.Abbreviated,Bt.Format,!0);break;case"BBBB":e=je(Ce.DayPeriods,ke.Wide,Bt.Format,!0);break;case"BBBBB":e=je(Ce.DayPeriods,ke.Narrow,Bt.Format,!0);break;case"h":e=rt(be.Hours,1,-12);break;case"hh":e=rt(be.Hours,2,-12);break;case"H":e=rt(be.Hours,1);break;case"HH":e=rt(be.Hours,2);break;case"m":e=rt(be.Minutes,1);break;case"mm":e=rt(be.Minutes,2);break;case"s":e=rt(be.Seconds,1);break;case"ss":e=rt(be.Seconds,2);break;case"S":e=rt(be.FractionalSeconds,1);break;case"SS":e=rt(be.FractionalSeconds,2);break;case"SSS":e=rt(be.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Gd(Nr.Short);break;case"ZZZZZ":e=Gd(Nr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Gd(Nr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Gd(Nr.Long);break;default:return null}return cy[t]=e,e}function Gb(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function $F(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function qF(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=Gb(e,i);return $F(t,r*(o-i))}function zF(t){if(Rb(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Yd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(PF))return HF(r)}let e=new Date(t);if(!Rb(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function HF(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function Rb(t){return t instanceof Date&&!isNaN(t.valueOf())}var GF=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Nb=22,Zd=".",iu="0",WF=";",KF=",",ly="#",Pb="\xA4";function QF(t,e,n,r,i,o,s=!1){let a="",c=!1;if(!isFinite(t))a=Rr(n,dn.Infinity);else{let l=XF(t);s&&(l=JF(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let $=o.match(GF);if($===null)throw new Error(`${o} is not a valid digit info`);let F=$[1],Q=$[3],le=$[5];F!=null&&(h=dy(F)),Q!=null&&(p=dy(Q)),le!=null?g=dy(le):Q!=null&&p>g&&(g=p)}eV(l,p,g);let y=l.digits,I=l.integerLen,A=l.exponent,T=[];for(c=y.every($=>!$);I<h;I++)y.unshift(0);for(;I<0;I++)y.unshift(0);I>0?T=y.splice(I,y.length):(T=y,y=[0]);let O=[];for(y.length>=e.lgSize&&O.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)O.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&O.unshift(y.join("")),a=O.join(Rr(n,r)),T.length&&(a+=Rr(n,i)+T.join("")),A&&(a+=Rr(n,dn.Exponential)+"+"+A)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function YF(t,e,n,r,i){let o=TF(e,qb.Currency),s=ZF(o,Rr(e,dn.MinusSign));return s.minFrac=NF(r),s.maxFrac=s.minFrac,QF(t,s,e,dn.CurrencyGroup,dn.CurrencyDecimal,i).replace(Pb,n).replace(Pb,"").trim()}function ZF(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(WF),i=r[0],o=r[1],s=i.indexOf(Zd)!==-1?i.split(Zd):[i.substring(0,i.lastIndexOf(iu)+1),i.substring(i.lastIndexOf(iu)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(ly));for(let h=0;h<c.length;h++){let p=c.charAt(h);p===iu?n.minFrac=n.maxFrac=h+1:p===ly?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(KF);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(ly);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function JF(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function XF(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(Zd))>-1&&(e=e.replace(Zd,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===iu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===iu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>Nb&&(r=r.splice(0,Nb-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function eV(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,g,y,I){return g=g+p,I[y]=g<10?g:g-10,c&&(I[y]===0&&y>=l?I.pop():c=!1),g>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function dy(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Jd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var hy=/\s+/,Ob=[],Wb=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Ob,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(hy):Ob}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(hy):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(hy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(k(In),k(Bn))}}static{this.\u0275dir=Ne({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var fy=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hs=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new fy(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),kb(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);kb(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(k(os),k(Sd),k(oy))}}static{this.\u0275dir=Ne({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function kb(t,e){t.context.$implicit=e.item}var fs=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new py,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Fb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Fb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(k(os),k(Sd))}}static{this.\u0275dir=Ne({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),py=class{constructor(){this.$implicit=null,this.ngIf=null}};function Fb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${jt(e)}'.`)}var Xd=(()=>{class t{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:er.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||t)(k(In),k(sy),k(Bn))}}static{this.\u0275dir=Ne({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return t})();function yy(t,e){return new W(2100,!1)}var my=class{createSubscription(e,n){return Cn(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Cn(()=>e.unsubscribe())}},gy=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},tV=new gy,nV=new my,Kb=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(ui(n))return tV;if(ny(n))return nV;throw yy(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(k(ci,16))}}static{this.\u0275pipe=ud({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var rV="mediumDate",iV=new q(""),oV=new q(""),Qb=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??rV,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return kF(n,s,o||this.locale,a)}catch(s){throw yy(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(k(ru,16),k(iV,24),k(oV,24))}}static{this.\u0275pipe=ud({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var Yb=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,s){if(!sV(n))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=xF(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=aV(n);return YF(c,s,a,r,o)}catch(c){throw yy(t,c.message)}}static{this.\u0275fac=function(r){return new(r||t)(k(ru,16),k(Tb,16))}}static{this.\u0275pipe=ud({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function sV(t){return!(t==null||t===""||t!==t)}function aV(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Zb="browser",uV="server";function Zi(t){return t===uV}var ls=class{};var au=class{},uu=class{},or=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var _y=class{encodeKey(e){return Xb(e)}encodeValue(e){return Xb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function cV(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var lV=/%(\d[a-f0-9])/gi,dV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Xb(t){return encodeURIComponent(t).replace(lV,(e,n)=>dV[n]??e)}function eh(t){return`${t}`}var hi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _y,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=cV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(eh):[eh(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(eh(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(eh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var wy=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function hV(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function eT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function tT(t){return typeof Blob<"u"&&t instanceof Blob}function nT(t){return typeof FormData<"u"&&t instanceof FormData}function fV(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var su=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(hV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new or,this.context??=new wy,!this.params)this.params=new hi,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||eT(this.body)||tT(this.body)||nT(this.body)||fV(this.body)?this.body:this.body instanceof hi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nT(this.body)?null:tT(this.body)?this.body.type||null:eT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof hi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},fi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(fi||{}),cu=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new or,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},nh=class t extends cu{constructor(e={}){super(e),this.type=fi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ji=class t extends cu{constructor(e={}){super(e),this.type=fi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},di=class extends cu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},fT=200,pV=204;function vy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var lu=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof su)o=n;else{let c;i.headers instanceof or?c=i.headers:c=new or(i.headers);let l;i.params&&(i.params instanceof hi?l=i.params:l=new hi({fromObject:i.params})),o=new su(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=J(o).pipe(Zr(c=>this.handler.handle(c)));if(n instanceof su||i.observe==="events")return s;let a=s.pipe(Ct(c=>c instanceof Ji));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Z(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Z(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Z(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(Z(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new hi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,vy(i,r))}post(n,r,i={}){return this.request("POST",n,vy(i,r))}put(n,r,i={}){return this.request("PUT",n,vy(i,r))}static{this.\u0275fac=function(r){return new(r||t)(G(au))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),mV=/^\)\]\}',?\n/,gV="X-Request-URL";function rT(t){if(t.url)return t.url;let e=gV.toLocaleLowerCase();return t.headers.get(e)}var Iy=(()=>{class t{constructor(){this.fetchImpl=P(Ey,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=P(Ee)}handle(n){return new ae(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Dy,o=>r.error(new di({error:o}))),()=>i.abort()})}doRequest(n,r,i){return L(this,null,function*(){let o=this.createRequestInit(n),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,B({signal:r},o)));yV(y),i.next({type:fi.Sent}),s=yield y}catch(y){i.error(new di({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let a=new or(s.headers),c=s.statusText,l=rT(s)??n.urlWithParams,h=s.status,p=null;if(n.reportProgress&&i.next(new nh({headers:a,status:h,statusText:c,url:l})),s.body){let y=s.headers.get("content-length"),I=[],A=s.body.getReader(),T=0,O,$,F=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>L(this,null,function*(){for(;;){let{done:le,value:te}=yield A.read();if(le)break;if(I.push(te),T+=te.length,n.reportProgress){$=n.responseType==="text"?($??"")+(O??=new TextDecoder).decode(te,{stream:!0}):void 0;let E=()=>i.next({type:fi.DownloadProgress,total:y?+y:void 0,loaded:T,partialText:$});F?F.run(E):E()}}}));let Q=this.concatChunks(I,T);try{let le=s.headers.get("Content-Type")??"";p=this.parseBody(n,Q,le)}catch(le){i.error(new di({error:le,headers:new or(s.headers),status:s.status,statusText:s.statusText,url:rT(s)??n.urlWithParams}));return}}h===0&&(h=p?fT:0),h>=200&&h<300?(i.next(new Ji({body:p,headers:a,status:h,statusText:c,url:l})),i.complete()):i.error(new di({error:p,headers:a,status:h,statusText:c,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(mV,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),Ey=class{};function Dy(){}function yV(t){t.then(Dy,Dy)}function vV(t,e){return e(t)}function _V(t,e,n){return(r,i)=>Ln(n,()=>e(r,o=>t(o,i)))}var pT=new q(""),mT=new q(""),wV=new q("",{providedIn:"root",factory:()=>!0});var iT=(()=>{class t extends au{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=P(ai),this.contributeToStability=P(wV)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(pT),...this.injector.get(mT,[])]));this.chain=r.reduceRight((i,o)=>_V(i,o,this.injector),vV)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ki(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(G(uu),G(zt))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();var IV=/^\)\]\}',?\n/;function EV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var oT=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new W(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Se(r.\u0275loadImpl()):J(null)).pipe(He(()=>new ae(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((A,T)=>s.setRequestHeader(A,T.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let A=n.detectContentTypeHeader();A!==null&&s.setRequestHeader("Content-Type",A)}if(n.responseType){let A=n.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let A=s.statusText||"OK",T=new or(s.getAllResponseHeaders()),O=EV(s)||n.url;return c=new nh({headers:T,status:s.status,statusText:A,url:O}),c},h=()=>{let{headers:A,status:T,statusText:O,url:$}=l(),F=null;T!==pV&&(F=typeof s.response>"u"?s.responseText:s.response),T===0&&(T=F?fT:0);let Q=T>=200&&T<300;if(n.responseType==="json"&&typeof F=="string"){let le=F;F=F.replace(IV,"");try{F=F!==""?JSON.parse(F):null}catch(te){F=le,Q&&(Q=!1,F={error:te,text:F})}}Q?(o.next(new Ji({body:F,headers:A,status:T,statusText:O,url:$||void 0})),o.complete()):o.error(new di({error:F,headers:A,status:T,statusText:O,url:$||void 0}))},p=A=>{let{url:T}=l(),O=new di({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});o.error(O)},g=!1,y=A=>{g||(o.next(l()),g=!0);let T={type:fi.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(T.total=A.total),n.responseType==="text"&&s.responseText&&(T.partialText=s.responseText),o.next(T)},I=A=>{let T={type:fi.UploadProgress,loaded:A.loaded};A.lengthComputable&&(T.total=A.total),o.next(T)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",I)),s.send(a),o.next({type:fi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",I)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(G(ls))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),gT=new q(""),DV="XSRF-TOKEN",CV=new q("",{providedIn:"root",factory:()=>DV}),bV="X-XSRF-TOKEN",TV=new q("",{providedIn:"root",factory:()=>bV}),rh=class{},SV=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jd(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(G(Yt),G(pt),G(CV))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();function AV(t,e){let n=t.url.toLowerCase();if(!P(gT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=P(rh).getToken(),i=P(TV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var yT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(yT||{});function MV(t,e){return{\u0275kind:t,\u0275providers:e}}function vT(...t){let e=[lu,oT,iT,{provide:au,useExisting:iT},{provide:uu,useFactory:()=>P(Iy,{optional:!0})??P(oT)},{provide:pT,useValue:AV,multi:!0},{provide:gT,useValue:!0},{provide:rh,useClass:SV}];for(let n of t)e.push(...n.\u0275providers);return wn(e)}function _T(){return MV(yT.Fetch,[Iy,{provide:uu,useExisting:Iy}])}var xV=new q(""),sT="b",aT="h",uT="s",cT="st",lT="u",dT="rt",th=new q(""),RV=["GET","HEAD"];function NV(t,e){let y=P(th),{isCacheActive:n}=y,r=tE(y,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!RV.includes(o)||!r.includeRequestsWithAuthHeaders&&PV(t)||r.filter?.(t)===!1)return e(t);let s=P(is),a=P(xV,{optional:!0}),c=Zi(P(pt));if(a&&!c)throw new W(2803,!1);let l=c&&a?VV(t.url,a):t.url,h=kV(t,l),p=s.get(h,null),g=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(g=i.includeHeaders),p){let{[sT]:I,[dT]:A,[aT]:T,[uT]:O,[cT]:$,[lT]:F}=p,Q=I;switch(A){case"arraybuffer":Q=new TextEncoder().encode(I).buffer;break;case"blob":Q=new Blob([I]);break}let le=new or(T);return J(new Ji({body:Q,headers:le,status:O,statusText:$,url:F}))}return e(t).pipe(tt(I=>{I instanceof Ji&&c&&s.set(h,{[sT]:I.body,[aT]:OV(I.headers,g),[uT]:I.status,[cT]:I.statusText,[lT]:l,[dT]:t.responseType})}))}function PV(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function OV(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function hT(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function kV(t,e){let{params:n,method:r,responseType:i}=t,o=hT(n),s=t.serializeBody();s instanceof URLSearchParams?s=hT(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),c=FV(a);return c}function FV(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function wT(t){return[{provide:th,useFactory:()=>(rr("NgHttpTransferCache"),B({isCacheActive:!0},t))},{provide:mT,useValue:NV,multi:!0,deps:[is,th]},{provide:us,multi:!0,useFactory:()=>{let e=P(ir),n=P(th);return()=>{Ud(e).then(()=>{n.isCacheActive=!1})}}}]}function VV(t,e){let n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}var Ty=class extends Qd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sy=class t extends Ty{static makeCurrent(){Lb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=LV();return n==null?null:jV(n)}resetBaseElement(){du=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Jd(document.cookie,e)}},du=null;function LV(){return du=du||document.querySelector("base"),du?du.getAttribute("href"):null}function jV(t){return new URL(t,document.baseURI).pathname}var UV=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),Ay=new q(""),bT=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new W(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(G(Ay),G(Ee))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),ih=class{constructor(e){this._doc=e}},Cy="ng-app-id",TT=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zi(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Cy}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Cy),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Cy,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(G(Yt),G(yd),G(Og,8),G(pt))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),by={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ry=/%COMP%/g,ST="%COMP%",BV=`_nghost-${ST}`,$V=`_ngcontent-${ST}`,qV=!0,zV=new q("",{providedIn:"root",factory:()=>qV});function HV(t){return $V.replace(Ry,t)}function GV(t){return BV.replace(Ry,t)}function AT(t,e){return e.map(n=>n.replace(Ry,t))}var ET=(()=>{class t{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Zi(a),this.defaultRenderer=new hu(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Jn.ShadowDom&&(r=pe(B({},r),{encapsulation:Jn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof oh?i.applyToHost(n):i instanceof fu&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Jn.Emulated:o=new oh(c,l,r,this.appId,h,s,a,p);break;case Jn.ShadowDom:return new My(c,l,n,r,s,a,this.nonce,p);default:o=new fu(c,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(G(bT),G(TT),G(yd),G(zV),G(Yt),G(pt),G(Ee),G(Og))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),hu=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(by[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(DT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(DT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new W(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=by[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=by[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(er.DashCase|er.Important)?e.style.setProperty(n,r,i&er.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&er.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Pr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function DT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var My=class extends hu{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=AT(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fu=class extends hu{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?AT(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},oh=class extends fu{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=HV(l),this.hostAttr=GV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},WV=(()=>{class t extends ih{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(G(Yt))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),CT=["alt","control","meta","shift"],KV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},YV=(()=>{class t extends ih{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),CT.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=KV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),CT.forEach(s=>{if(s!==i){let a=QV[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(G(Yt))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();function MT(t,e){return Sb(B({rootComponent:t},ZV(e)))}function ZV(t){return{appProviders:[...nL,...t?.providers??[]],platformProviders:tL}}function JV(){Sy.makeCurrent()}function XV(){return new Sr}function eL(){return tC(document),document}var tL=[{provide:pt,useValue:Zb},{provide:Pg,useValue:JV,multi:!0},{provide:Yt,useFactory:eL,deps:[]}];var nL=[{provide:cd,useValue:"root"},{provide:Sr,useFactory:XV,deps:[]},{provide:Ay,useClass:WV,multi:!0,deps:[Yt,Ee,pt]},{provide:Ay,useClass:YV,multi:!0,deps:[Yt]},ET,TT,bT,{provide:es,useExisting:ET},{provide:ls,useClass:UV,deps:[]},[]];var xT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(G(Yt))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var xy=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(xy||{});function RT(...t){let e=[],n=new Set,r=n.has(xy.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return wn([[],Ab(),n.has(xy.NoHttpTransferCache)||r?[]:wT({}),e])}var ce="primary",Mu=Symbol("RouteTitle"),Fy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _s(t){return new Fy(t)}function iL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function oL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!sr(t[n],e[n]))return!1;return!0}function sr(t,e){let n=t?Vy(t):void 0,r=e?Vy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!jT(t[i],e[i]))return!1;return!0}function Vy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function jT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function UT(t){return t.length>0?t[t.length-1]:null}function mi(t){return Wp(t)?t:ui(t)?Se(Promise.resolve(t)):J(t)}var sL={exact:$T,subset:qT},BT={exact:aL,subset:uL,ignored:()=>!0};function NT(t,e,n){return sL[n.paths](t.root,e.root,n.matrixParams)&&BT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function aL(t,e){return sr(t,e)}function $T(t,e,n){if(!eo(t.segments,e.segments)||!uh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!$T(t.children[r],e.children[r],n))return!1;return!0}function uL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>jT(t[n],e[n]))}function qT(t,e,n){return zT(t,e,e.segments,n)}function zT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!eo(i,n)||e.hasChildren()||!uh(i,n,r))}else if(t.segments.length===n.length){if(!eo(t.segments,n)||!uh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!qT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!eo(t.segments,i)||!uh(t.segments,i,r)||!t.children[ce]?!1:zT(t.children[ce],e,o,r)}}function uh(t,e,n){return e.every((r,i)=>BT[n](t[i].parameters,r.parameters))}var kr=class{constructor(e=new Te([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){return dL.serialize(this)}},Te=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ch(this)}},Xi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=_s(this.parameters),this._parameterMap}toString(){return GT(this)}};function cL(t,e){return eo(t,e)&&t.every((n,r)=>sr(n.parameters,e[r].parameters))}function eo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function lL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}var cv=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>new wu,providedIn:"root"})}}return t})(),wu=class{parse(e){let n=new jy(e);return new kr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${pu(e.root,!0)}`,r=pL(e.queryParams),i=typeof e.fragment=="string"?`#${hL(e.fragment)}`:"";return`${n}${r}${i}`}},dL=new wu;function ch(t){return t.segments.map(e=>GT(e)).join("/")}function pu(t,e){if(!t.hasChildren())return ch(t);if(e){let n=t.children[ce]?pu(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ce&&r.push(`${i}:${pu(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=lL(t,(r,i)=>i===ce?[pu(t.children[ce],!1)]:[`${i}:${pu(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ce]!=null?`${ch(t)}/${n[0]}`:`${ch(t)}/(${n.join("//")})`}}function HT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sh(t){return HT(t).replace(/%3B/gi,";")}function hL(t){return encodeURI(t)}function Ly(t){return HT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lh(t){return decodeURIComponent(t)}function PT(t){return lh(t.replace(/\+/g,"%20"))}function GT(t){return`${Ly(t.path)}${fL(t.parameters)}`}function fL(t){return Object.entries(t).map(([e,n])=>`;${Ly(e)}=${Ly(n)}`).join("")}function pL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${sh(n)}=${sh(i)}`).join("&"):`${sh(n)}=${sh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var mL=/^[^\/()?;#]+/;function Ny(t){let e=t.match(mL);return e?e[0]:""}var gL=/^[^\/()?;=#]+/;function yL(t){let e=t.match(gL);return e?e[0]:""}var vL=/^[^=?&#]+/;function _L(t){let e=t.match(vL);return e?e[0]:""}var wL=/^[^&#]+/;function IL(t){let e=t.match(wL);return e?e[0]:""}var jy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new Te(e,n)),r}parseSegment(){let e=Ny(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new Xi(lh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=yL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ny(this.remaining);i&&(r=i,this.capture(r))}e[lh(n)]=lh(r)}parseQueryParam(e){let n=_L(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=IL(this.remaining);s&&(r=s,this.capture(r))}let i=PT(n),o=PT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ny(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new W(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ce]:new Te([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}};function WT(t){return t.segments.length>0?new Te([],{[ce]:t}):t}function KT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=KT(i);if(r===ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Te(t.segments,e);return EL(n)}function EL(t){if(t.numberOfChildren===1&&t.children[ce]){let e=t.children[ce];return new Te(t.segments.concat(e.segments),e.children)}return t}function to(t){return t instanceof kr}function DL(t,e,n=null,r=null){let i=QT(t);return YT(i,e,n,r)}function QT(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Te(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=WT(r);return e??i}function YT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Py(i,i,i,n,r);let o=CL(e);if(o.toRoot())return Py(i,i,new Te([],{}),n,r);let s=bL(o,i,t),a=s.processChildren?yu(s.segmentGroup,s.index,o.commands):JT(s.segmentGroup,s.index,o.commands);return Py(i,s.segmentGroup,a,n,r)}function dh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Iu(t){return typeof t=="object"&&t!=null&&t.outlets}function Py(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=ZT(t,e,n);let a=WT(KT(s));return new kr(a,o,i)}function ZT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=ZT(o,e,n)}),new Te(t.segments,r)}var hh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dh(r[0]))throw new W(4003,!1);let i=r.find(Iu);if(i&&i!==UT(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function CL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new hh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new hh(n,e,r)}var gs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function bL(t,e,n){if(t.isAbsolute)return new gs(e,!0,0);if(!n)return new gs(e,!1,NaN);if(n.parent===null)return new gs(n,!0,0);let r=dh(t.commands[0])?0:1,i=n.segments.length-1+r;return TL(n,i,t.numberOfDoubleDots)}function TL(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new gs(r,!1,i-o)}function SL(t){return Iu(t[0])?t[0].outlets:{[ce]:t}}function JT(t,e,n){if(t??=new Te([],{}),t.segments.length===0&&t.hasChildren())return yu(t,e,n);let r=AL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Te(t.segments.slice(0,r.pathIndex),{});return o.children[ce]=new Te(t.segments.slice(r.pathIndex),t.children),yu(o,0,i)}else return r.match&&i.length===0?new Te(t.segments,{}):r.match&&!t.hasChildren()?Uy(t,e,n):r.match?yu(t,0,i):Uy(t,e,n)}function yu(t,e,n){if(n.length===0)return new Te(t.segments,{});{let r=SL(n),i={};if(Object.keys(r).some(o=>o!==ce)&&t.children[ce]&&t.numberOfChildren===1&&t.children[ce].segments.length===0){let o=yu(t.children[ce],e,n);return new Te(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=JT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Te(t.segments,i)}}function AL(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Iu(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!kT(c,l,s))return o;r+=2}else{if(!kT(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Uy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Iu(o)){let c=ML(o.outlets);return new Te(r,c)}if(i===0&&dh(n[0])){let c=t.segments[e];r.push(new Xi(c.path,OT(n[0]))),i++;continue}let s=Iu(o)?o.outlets[ce]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&dh(a)?(r.push(new Xi(s,OT(a))),i+=2):(r.push(new Xi(s,{})),i++)}return new Te(r,{})}function ML(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Uy(new Te([],{}),0,r))}),e}function OT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function kT(t,e,n){return t==n.path&&sr(e,n.parameters)}var vu="imperative",yt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(yt||{}),Tn=class{constructor(e,n){this.id=e,this.url=n}},Eu=class extends Tn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=yt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pi=class extends Tn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=yt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},fn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(fn||{}),By=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(By||{}),Or=class extends Tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=yt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},no=class extends Tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=yt.NavigationSkipped}},Du=class extends Tn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=yt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fh=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$y=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qy=class extends Tn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=yt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zy=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hy=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gy=class{constructor(e){this.route=e,this.type=yt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wy=class{constructor(e){this.route=e,this.type=yt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ky=class{constructor(e){this.snapshot=e,this.type=yt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qy=class{constructor(e){this.snapshot=e,this.type=yt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yy=class{constructor(e){this.snapshot=e,this.type=yt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zy=class{constructor(e){this.snapshot=e,this.type=yt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Cu=class{},ws=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function xL(t,e){return t.providers&&!t._injector&&(t._injector=Jg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qn(t){return t.outlet||ce}function RL(t,e){let n=t.filter(r=>qn(r)===e);return n.push(...t.filter(r=>qn(r)!==e)),n}function xu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Jy=class{get injector(){return xu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new wh(this.rootInjector),this.attachRef=null}},wh=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Jy(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(G(zt))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ph=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Xy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Xy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ev(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ev(e,this._root).map(n=>n.value)}};function Xy(t,e){if(t===e.value)return e;for(let n of e.children){let r=Xy(t,n);if(r)return r}return null}function ev(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ev(t,n);if(r.length)return r.unshift(e),r}return[]}var hn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ms(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var mh=class extends ph{constructor(e,n){super(e),this.snapshot=n,lv(this,e)}toString(){return this.snapshot.toString()}};function XT(t){let e=NL(t),n=new Re([new Xi("",{})]),r=new Re({}),i=new Re({}),o=new Re({}),s=new Re(""),a=new Fr(n,r,o,s,i,ce,t,e.root);return a.snapshot=e.root,new mh(new hn(a,[]),e)}function NL(t){let e={},n={},r={},i="",o=new ys([],e,r,i,n,ce,t,null,{});return new yh("",new hn(o,[]))}var Fr=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Z(l=>l[Mu]))??J(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>_s(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>_s(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),t.params),data:B(B({},e.data),t.data),resolve:B(B(B(B({},t.data),e.data),i?.data),t._resolvedData)}:r={params:B({},t.params),data:B({},t.data),resolve:B(B({},t.data),t._resolvedData??{})},i&&tS(i)&&(r.resolve[Mu]=i.title),r}var ys=class{get title(){return this.data?.[Mu]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_s(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},yh=class extends ph{constructor(e,n){super(n),this.url=e,lv(this,n)}toString(){return eS(this._root)}};function lv(t,e){e.value._routerState=t,e.children.forEach(n=>lv(t,n))}function eS(t){let e=t.children.length>0?` { ${t.children.map(eS).join(", ")} } `:"";return`${t.value}${e}`}function Oy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,sr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),sr(e.params,n.params)||t.paramsSubject.next(n.params),oL(e.url,n.url)||t.urlSubject.next(n.url),sr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function tv(t,e){let n=sr(t.params,e.params)&&cL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||tv(t.parent,e.parent))}function tS(t){return typeof t.title=="string"||t.title===null}var dv=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=P(wh),this.location=P(os),this.changeDetector=P(ci),this.inputBinder=P(hv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new nv(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ne({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[nr]})}}return t})(),nv=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Fr?this.route:e===wh?this.childContexts:this.parent.get(e,n)}},hv=new q("");function PL(t,e,n){let r=bu(t,e._root,n?n._root:void 0);return new mh(r,e)}function bu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=OL(t,e,n);return new hn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>bu(t,a)),s}}let r=kL(e.value),i=e.children.map(o=>bu(t,o));return new hn(r,i)}}function OL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return bu(t,r,i);return bu(t,r)})}function kL(t){return new Fr(new Re(t.url),new Re(t.params),new Re(t.queryParams),new Re(t.fragment),new Re(t.data),t.outlet,t.component,t)}var Tu=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},nS="ngNavigationCancelingError";function vh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=to(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rS(!1,fn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function rS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[nS]=!0,n.cancellationCode=e,n}function FL(t){return iS(t)&&to(t.url)}function iS(t){return!!t&&t[nS]}var VL=(t,e,n,r)=>Z(i=>(new rv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),rv=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Oy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ms(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ms(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Zy(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Qy(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Oy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Oy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},_h=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vs=class{constructor(e,n){this.component=e,this.route=n}};function LL(t,e,n){let r=t._root,i=e?e._root:null;return mu(r,i,n,[r.value])}function jL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Es(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!U0(t)?t:e.get(t):r}function mu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ms(e);return t.children.forEach(s=>{UL(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>_u(a,n.getContext(s),i)),i}function UL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=BL(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new _h(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?mu(t,e,a?a.children:null,r,i):mu(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vs(a.outlet.component,s))}else s&&_u(e,a,i),i.canActivateChecks.push(new _h(r)),o.component?mu(t,null,a?a.children:null,r,i):mu(t,null,n,r,i);return i}function BL(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!eo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!eo(t.url,e.url)||!sr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tv(t,e)||!sr(t.queryParams,e.queryParams);case"paramsChange":default:return!tv(t,e)}}function _u(t,e,n){let r=ms(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?_u(s,e.children.getContext(o),n):_u(s,null,n):_u(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new vs(e.outlet.component,i)):n.canDeactivateChecks.push(new vs(null,i)):n.canDeactivateChecks.push(new vs(null,i))}function Ru(t){return typeof t=="function"}function $L(t){return typeof t=="boolean"}function qL(t){return t&&Ru(t.canLoad)}function zL(t){return t&&Ru(t.canActivate)}function HL(t){return t&&Ru(t.canActivateChild)}function GL(t){return t&&Ru(t.canDeactivate)}function WL(t){return t&&Ru(t.canMatch)}function oS(t){return t instanceof Cr||t?.name==="EmptyError"}var ah=Symbol("INITIAL_VALUE");function Is(){return He(t=>ll(t.map(e=>e.pipe(br(1),ml(ah)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===ah)return ah;if(n===!1||KL(n))return n}return!0}),Ct(e=>e!==ah),br(1)))}function KL(t){return to(t)||t instanceof Tu}function QL(t,e){return at(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?J(pe(B({},n),{guardsResult:!0})):YL(s,r,i,t).pipe(at(a=>a&&$L(a)?ZL(r,o,t,e):J(a)),Z(a=>pe(B({},n),{guardsResult:a})))})}function YL(t,e,n,r){return Se(t).pipe(at(i=>n2(i.component,i.route,n,e,r)),on(i=>i!==!0,!0))}function ZL(t,e,n,r){return Se(e).pipe(Zr(i=>Lo(XL(i.route.parent,r),JL(i.route,r),t2(t,i.path,n),e2(t,i.route,n))),on(i=>i!==!0,!0))}function JL(t,e){return t!==null&&e&&e(new Yy(t)),J(!0)}function XL(t,e){return t!==null&&e&&e(new Ky(t)),J(!0)}function e2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(o=>dl(()=>{let s=xu(e)??n,a=Es(o,s),c=zL(a)?a.canActivate(e,t):Ln(s,()=>a(e,t));return mi(c).pipe(on())}));return J(i).pipe(Is())}function t2(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>jL(s)).filter(s=>s!==null).map(s=>dl(()=>{let a=s.guards.map(c=>{let l=xu(s.node)??n,h=Es(c,l),p=HL(h)?h.canActivateChild(r,t):Ln(l,()=>h(r,t));return mi(p).pipe(on())});return J(a).pipe(Is())}));return J(o).pipe(Is())}function n2(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return J(!0);let s=o.map(a=>{let c=xu(e)??i,l=Es(a,c),h=GL(l)?l.canDeactivate(t,e,n,r):Ln(c,()=>l(t,e,n,r));return mi(h).pipe(on())});return J(s).pipe(Is())}function r2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let o=i.map(s=>{let a=Es(s,t),c=qL(a)?a.canLoad(e,n):Ln(t,()=>a(e,n));return mi(c)});return J(o).pipe(Is(),sS(r))}function sS(t){return zc(tt(e=>{if(typeof e!="boolean")throw vh(t,e)}),Z(e=>e===!0))}function i2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let o=i.map(s=>{let a=Es(s,t),c=WL(a)?a.canMatch(e,n):Ln(t,()=>a(e,n));return mi(c)});return J(o).pipe(Is(),sS(r))}var Su=class{constructor(e){this.segmentGroup=e||null}},Au=class extends Error{constructor(e){super(),this.urlTree=e}};function ps(t){return Vo(new Su(t))}function o2(t){return Vo(new W(4e3,!1))}function s2(t){return Vo(rS(!1,fn.GuardRejected))}var iv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[ce])return o2(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:h,url:p,outlet:g,params:y,data:I,title:A}=i,T=Ln(o,()=>a({params:y,data:I,queryParams:c,fragment:l,routeConfig:h,url:p,outlet:g,title:A}));if(T instanceof kr)throw new Au(T);n=T}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Au(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new kr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Te(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ov={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function a2(t,e,n,r,i){let o=aS(t,e,n);return o.matched?(r=xL(e,r),i2(r,e,n,i).pipe(Z(s=>s===!0?o:B({},ov)))):J(o)}function aS(t,e,n){if(e.path==="**")return u2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?B({},ov):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||iL)(n,t,e);if(!i)return B({},ov);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?B(B({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function u2(t){return{matched:!0,parameters:t.length>0?UT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function FT(t,e,n,r){return n.length>0&&d2(t,n,r)?{segmentGroup:new Te(e,l2(r,new Te(n,t.children))),slicedSegments:[]}:n.length===0&&h2(t,n,r)?{segmentGroup:new Te(t.segments,c2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Te(t.segments,t.children),slicedSegments:n}}function c2(t,e,n,r){let i={};for(let o of n)if(Ih(t,e,o)&&!r[qn(o)]){let s=new Te([],{});i[qn(o)]=s}return B(B({},r),i)}function l2(t,e){let n={};n[ce]=e;for(let r of t)if(r.path===""&&qn(r)!==ce){let i=new Te([],{});n[qn(r)]=i}return n}function d2(t,e,n){return n.some(r=>Ih(t,e,r)&&qn(r)!==ce)}function h2(t,e,n){return n.some(r=>Ih(t,e,r))}function Ih(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function f2(t,e,n){return e.length===0&&!t.children[n]}var sv=class{};function p2(t,e,n,r,i,o,s="emptyOnly"){return new av(t,e,n,r,i,s,o).recognize()}var m2=31,av=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new iv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new W(4002,`'${e.segmentGroup}'`)}recognize(){let e=FT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:n,rootSnapshot:r})=>{let i=new hn(r,n),o=new yh("",i),s=DL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ys([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,n).pipe(Z(r=>({children:r,rootSnapshot:n})),Yr(r=>{if(r instanceof Au)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Su?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Z(s=>s instanceof hn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(Zr(s=>{let a=r.children[s],c=RL(n,s);return this.processSegmentGroup(e,c,a,s,i)}),fl((s,a)=>(s.push(...a),s)),Jr(null),Zp(),at(s=>{if(s===null)return ps(r);let a=uS(s);return g2(a),J(a)}))}processSegment(e,n,r,i,o,s,a){return Se(n).pipe(Zr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(Yr(l=>{if(l instanceof Su)return J(null);throw l}))),on(c=>!!c),Yr(c=>{if(oS(c))return f2(r,i,o)?J(new sv):ps(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return qn(r)!==s&&(s===ce||!Ih(i,o,r))?ps(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):ps(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=aS(n,i,o);if(!c)return ps(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>m2&&(this.allowRedirects=!1));let y=new ys(o,l,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,VT(i),qn(i),i.component??i._loadedComponent??null,i,LT(i)),I=gh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(I.params),y.data=Object.freeze(I.data);let A=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,A).pipe(at(T=>this.processSegment(e,r,n,T.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=a2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(He(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(He(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=c,I=new ys(g,p,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,VT(r),qn(r),r.component??r._loadedComponent??null,r,LT(r)),A=gh(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let{segmentGroup:T,slicedSegments:O}=FT(n,g,y,l);if(O.length===0&&T.hasChildren())return this.processChildren(h,l,T,I).pipe(Z(F=>new hn(I,F)));if(l.length===0&&O.length===0)return J(new hn(I,[]));let $=qn(r)===o;return this.processSegment(h,l,T,O,$?ce:o,!0,I).pipe(Z(F=>new hn(I,F instanceof hn?[F]:[])))}))):ps(n)))}getChildConfig(e,n,r){return n.children?J({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?J({routes:n._loadedRoutes,injector:n._loadedInjector}):r2(e,n,r,this.urlSerializer).pipe(at(i=>i?this.configLoader.loadChildren(e,n).pipe(tt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):s2(n))):J({routes:[],injector:e})}};function g2(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}function y2(t){let e=t.value.routeConfig;return e&&e.path===""}function uS(t){let e=[],n=new Set;for(let r of t){if(!y2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=uS(r.children);e.push(new hn(r.value,i))}return e.filter(r=>!n.has(r))}function VT(t){return t.data||{}}function LT(t){return t.resolve||{}}function v2(t,e,n,r,i,o){return at(s=>p2(t,e,n,r,s.extractedUrl,i,o).pipe(Z(({state:a,tree:c})=>pe(B({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function _2(t,e){return at(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return J(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of cS(c))s.add(l);let a=0;return Se(s).pipe(Zr(c=>o.has(c)?w2(c,r,t,e):(c.data=gh(c,c.parent,t).resolve,J(void 0))),tt(()=>a++),jo(1),at(c=>a===s.size?J(n):Vt))})}function cS(t){let e=t.children.map(n=>cS(n)).flat();return[t,...e]}function w2(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!tS(i)&&(o[Mu]=i.title),I2(o,t,e,r).pipe(Z(s=>(t._resolvedData=s,t.data=gh(t,t.parent,n).resolve,null)))}function I2(t,e,n,r){let i=Vy(t);if(i.length===0)return J({});let o={};return Se(i).pipe(at(s=>E2(t[s],e,n,r).pipe(on(),tt(a=>{if(a instanceof Tu)throw vh(new wu,a);o[s]=a}))),jo(1),Yp(o),Yr(s=>oS(s)?Vt:Vo(s)))}function E2(t,e,n,r){let i=xu(e)??r,o=Es(t,i),s=o.resolve?o.resolve(e,n):Ln(i,()=>o(e,n));return mi(s)}function ky(t){return He(e=>{let n=t(e);return n?Se(n).pipe(Z(()=>e)):J(e)})}var lS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ce);return r}getResolvedTitleForRoute(n){return n.data[Mu]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>P(D2),providedIn:"root"})}}return t})(),D2=(()=>{class t extends lS{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(G(xT))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fv=new q("",{providedIn:"root",factory:()=>({})}),C2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ye({type:t,selectors:[["ng-component"]],standalone:!0,features:[Je],decls:1,vars:0,template:function(r,i){r&1&&Ae(0,"router-outlet")},dependencies:[dv],encapsulation:2})}}return t})();function pv(t){let e=t.children&&t.children.map(pv),n=e?pe(B({},t),{children:e}):B({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=C2),n}var mv=new q(""),b2=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(ry)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return J(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=mi(n.loadComponent()).pipe(Z(dS),tt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ki(()=>{this.componentLoaders.delete(n)})),i=new Po(r,()=>new qe).pipe(No());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return J({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=T2(r,this.compiler,n,this.onLoadEndListener).pipe(ki(()=>{this.childrenLoaders.delete(r)})),s=new Po(o,()=>new qe).pipe(No());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function T2(t,e,n,r){return mi(t.loadChildren()).pipe(Z(dS),at(i=>i instanceof qa||Array.isArray(i)?J(i):Se(e.compileModuleAsync(i))),Z(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(mv,[],{optional:!0,self:!0}).flat()),{routes:s.map(pv),injector:o}}))}function S2(t){return t&&typeof t=="object"&&"default"in t}function dS(t){return S2(t)?t.default:t}var gv=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>P(A2),providedIn:"root"})}}return t})(),A2=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),M2=new q("");var x2=new q(""),R2=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.transitionAbortSubject=new qe,this.configLoader=P(b2),this.environmentInjector=P(zt),this.urlSerializer=P(cv),this.rootContexts=P(wh),this.location=P(ou),this.inputBindingEnabled=P(hv,{optional:!0})!==null,this.titleStrategy=P(lS),this.options=P(fv,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(gv),this.createViewTransition=P(M2,{optional:!0}),this.navigationErrorHandler=P(x2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Gy(i)),r=i=>this.events.next(new Wy(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(pe(B(B({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Re({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:vu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ct(o=>o.id!==0),Z(o=>pe(B({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),He(o=>{let s=!1,a=!1;return J(o).pipe(He(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",fn.SupersededByNewNavigation),Vt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?pe(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new no(c.id,this.urlSerializer.serialize(c.rawUrl),p,By.IgnoredSameUrlNavigation)),c.resolve(!1),Vt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return J(c).pipe(He(p=>{let g=this.transitions?.getValue();return this.events.next(new Eu(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?Vt:Promise.resolve(p)}),v2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=pe(B({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new fh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:I,extras:A}=c,T=new Eu(p,this.urlSerializer.serialize(g),y,I);this.events.next(T);let O=XT(this.rootComponentType).snapshot;return this.currentTransition=o=pe(B({},c),{targetSnapshot:O,urlAfterRedirects:g,extras:pe(B({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,J(o)}else{let p="";return this.events.next(new no(c.id,this.urlSerializer.serialize(c.extractedUrl),p,By.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Vt}}),tt(c=>{let l=new $y(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Z(c=>(this.currentTransition=o=pe(B({},c),{guards:LL(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),QL(this.environmentInjector,c=>this.events.next(c)),tt(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw vh(this.urlSerializer,c.guardsResult);let l=new qy(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ct(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",fn.GuardRejected),!1)),ky(c=>{if(c.guards.canActivateChecks.length)return J(c).pipe(tt(l=>{let h=new zy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),He(l=>{let h=!1;return J(l).pipe(_2(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",fn.NoDataFromResolver)}}))}),tt(l=>{let h=new Hy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),ky(c=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(tt(g=>{h.component=g}),Z(()=>{})));for(let g of h.children)p.push(...l(g));return p};return ll(l(c.targetSnapshot.root)).pipe(Jr(null),br(1))}),ky(()=>this.afterPreactivation()),He(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return h?Se(h).pipe(Z(()=>o)):J(o)}),Z(c=>{let l=PL(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=pe(B({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),tt(()=>{this.events.next(new Cu)}),VL(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),br(1),tt({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Xp(this.transitionAbortSubject.pipe(tt(c=>{throw c}))),ki(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",fn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yr(c=>{if(a=!0,iS(c))this.events.next(new Or(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),FL(c)?this.events.next(new ws(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Du(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let h=Ln(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Tu){let{message:p,cancellationCode:g}=vh(this.urlSerializer,h);this.events.next(new Or(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new ws(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(c);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Vt}))}))}cancelNavigationTransition(n,r,i){let o=new Or(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function N2(t){return t!==vu}var P2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>P(O2),providedIn:"root"})}}return t})(),uv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},O2=(()=>{class t extends uv{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})()}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>P(k2),providedIn:"root"})}}return t})(),k2=(()=>{class t extends hS{constructor(){super(...arguments),this.location=P(ou),this.urlSerializer=P(cv),this.options=P(fv,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(gv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=XT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Eu)this.stateMemento=this.createStateMemento();else if(n instanceof no)this.rawUrlTree=r.initialUrl;else if(n instanceof fh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Cu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Or&&(n.code===fn.GuardRejected||n.code===fn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Du?this.restoreHistory(r,!0):n instanceof pi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof kr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=B(B({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})()}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),gu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(gu||{});function F2(t,e){t.events.pipe(Ct(n=>n instanceof pi||n instanceof Or||n instanceof Du||n instanceof no),Z(n=>n instanceof pi||n instanceof no?gu.COMPLETE:(n instanceof Or?n.code===fn.Redirect||n.code===fn.SupersededByNewNavigation:!1)?gu.REDIRECTING:gu.FAILED),Ct(n=>n!==gu.REDIRECTING),br(1)).subscribe(()=>{e()})}function V2(t){throw t}var L2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},j2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},vt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(jd),this.stateManager=P(hS),this.options=P(fv,{optional:!0})||{},this.pendingTasks=P(ai),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(R2),this.urlSerializer=P(cv),this.location=P(ou),this.urlHandlingStrategy=P(gv),this._events=new qe,this.errorHandler=this.options.errorHandler||V2,this.navigated=!1,this.routeReuseStrategy=P(P2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(mv,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(hv,{optional:!0}),this.eventsSubscription=new Ke,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Or&&r.code!==fn.Redirect&&r.code!==fn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof pi)this.navigated=!0;else if(r instanceof ws){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||N2(i.source)},s);this.scheduleNavigation(a,vu,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}B2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=B({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(pv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=B(B({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=QT(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return YT(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=to(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,vu,null,r)}navigate(n,r={skipLocationChange:!1}){return U2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=B({},L2):r===!1?i=B({},j2):i=r,to(n))return NT(this.currentUrlTree,n,i);let o=this.parseUrl(n);return NT(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,c=g});let h=this.pendingTasks.add();return F2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function U2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new W(4008,!1)}function B2(t){return!(t instanceof Cu)&&!(t instanceof ws)}var Eh=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof pi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(to(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:hC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:to(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(k(vt),k(Fr),xg("tabindex"),k(Bn),k(In),k(ds))}}static{this.\u0275dir=Ne({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&fe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&as("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",li],skipLocationChange:[2,"skipLocationChange","skipLocationChange",li],replaceUrl:[2,"replaceUrl","replaceUrl",li],routerLink:"routerLink"},standalone:!0,features:[Zg,nr]})}}return t})();var $2=new q("");function fS(t,...e){return wn([{provide:mv,multi:!0,useValue:t},[],{provide:Fr,useFactory:q2,deps:[vt]},{provide:us,multi:!0,useFactory:z2},e.map(n=>n.\u0275providers)])}function q2(t){return t.routerState.root}function z2(){let t=P(Ht);return e=>{let n=t.get(ir);if(e!==n.components[0])return;let r=t.get(vt),i=t.get(H2);t.get(G2)===1&&r.initialNavigation(),t.get(W2,null,he.Optional)?.setUpPreloading(),t.get($2,null,he.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var H2=new q("",{factory:()=>new qe}),G2=new q("",{providedIn:"root",factory:()=>1});var W2=new q("");var DS=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(k(Bn),k(In))}}static{this.\u0275dir=Ne({type:t})}}return t})(),Lu=(()=>{class t extends DS{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,features:[Mt]})}}return t})(),oo=new q(""),K2={provide:oo,useExisting:Gt(()=>Ev),multi:!0},Ev=(()=>{class t extends Lu{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&fe("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Dn([K2]),Mt]})}}return t})(),Q2={provide:oo,useExisting:Gt(()=>Zt),multi:!0};function Y2(){let t=Pr()?Pr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Z2=new q(""),Zt=(()=>{class t extends DS{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Y2())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(k(Bn),k(In),k(Z2,8))}}static{this.\u0275dir=Ne({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&fe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Dn([Q2]),Mt]})}}return t})();function gi(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function CS(t){return t!=null&&typeof t.length=="number"}var Ss=new q(""),Nh=new q(""),J2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,yi=class{static min(e){return bS(e)}static max(e){return X2(e)}static required(e){return TS(e)}static requiredTrue(e){return ej(e)}static email(e){return tj(e)}static minLength(e){return nj(e)}static maxLength(e){return rj(e)}static pattern(e){return ij(e)}static nullValidator(e){return Ch(e)}static compose(e){return NS(e)}static composeAsync(e){return PS(e)}};function bS(t){return e=>{if(gi(e.value)||gi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function X2(t){return e=>{if(gi(e.value)||gi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function TS(t){return gi(t.value)?{required:!0}:null}function ej(t){return t.value===!0?null:{required:!0}}function tj(t){return gi(t.value)||J2.test(t.value)?null:{email:!0}}function nj(t){return e=>gi(e.value)||!CS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function rj(t){return e=>CS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function ij(t){if(!t)return Ch;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(gi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Ch(t){return null}function SS(t){return t!=null}function AS(t){return ui(t)?Se(t):t}function MS(t){let e={};return t.forEach(n=>{e=n!=null?B(B({},e),n):e}),Object.keys(e).length===0?null:e}function xS(t,e){return e.map(n=>n(t))}function oj(t){return!t.validate}function RS(t){return t.map(e=>oj(e)?e:n=>e.validate(n))}function NS(t){if(!t)return null;let e=t.filter(SS);return e.length==0?null:function(n){return MS(xS(n,e))}}function Dv(t){return t!=null?NS(RS(t)):null}function PS(t){if(!t)return null;let e=t.filter(SS);return e.length==0?null:function(n){let r=xS(n,e).map(AS);return Kp(r).pipe(Z(MS))}}function Cv(t){return t!=null?PS(RS(t)):null}function pS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function OS(t){return t._rawValidators}function kS(t){return t._rawAsyncValidators}function yv(t){return t?Array.isArray(t)?t:[t]:[]}function bh(t,e){return Array.isArray(t)?t.includes(e):t===e}function mS(t,e){let n=yv(e);return yv(t).forEach(i=>{bh(n,i)||n.push(i)}),n}function gS(t,e){return yv(e).filter(n=>!bh(t,n))}var Th=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Dv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Cv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Vr=class extends Th{get formDirective(){return null}get path(){return null}},io=class extends Th{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Sh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},sj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},F6=pe(B({},sj),{"[class.ng-submitted]":"isSubmitted"}),Sn=(()=>{class t extends Sh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(k(io,2))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Rd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Mt]})}}return t})(),_i=(()=>{class t extends Sh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(k(Vr,10))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Rd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Mt]})}}return t})();var Nu="VALID",Dh="INVALID",Ds="PENDING",Pu="DISABLED",vi=class{},Ah=class extends vi{constructor(e,n){super(),this.value=e,this.source=n}},ku=class extends vi{constructor(e,n){super(),this.pristine=e,this.source=n}},Fu=class extends vi{constructor(e,n){super(),this.touched=e,this.source=n}},Cs=class extends vi{constructor(e,n){super(),this.status=e,this.source=n}},vv=class extends vi{constructor(e){super(),this.source=e}},_v=class extends vi{constructor(e){super(),this.source=e}};function bv(t){return(Ph(t)?t.validators:t)||null}function aj(t){return Array.isArray(t)?Dv(t):t||null}function Tv(t,e){return(Ph(e)?e.asyncValidators:t)||null}function uj(t){return Array.isArray(t)?Cv(t):t||null}function Ph(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function FS(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new W(1e3,"");if(!r[n])throw new W(1001,"")}function VS(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new W(1002,"")})}var bs=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=cs(()=>this.statusReactive()),this.statusReactive=ss(void 0),this._pristine=cs(()=>this.pristineReactive()),this.pristineReactive=ss(!0),this._touched=cs(()=>this.touchedReactive()),this.touchedReactive=ss(!1),this._events=new qe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Cn(this.statusReactive)}set status(e){Cn(()=>this.statusReactive.set(e))}get valid(){return this.status===Nu}get invalid(){return this.status===Dh}get pending(){return this.status==Ds}get disabled(){return this.status===Pu}get enabled(){return this.status!==Pu}get pristine(){return Cn(this.pristineReactive)}set pristine(e){Cn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Cn(this.touchedReactive)}set touched(e){Cn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gS(e,this._rawAsyncValidators))}hasValidator(e){return bh(this._rawValidators,e)}hasAsyncValidator(e){return bh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(B({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Fu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Fu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(B({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ku(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ku(!0,r))}markAsPending(e={}){this.status=Ds;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(B({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Pu,this.errors=null,this._forEachChild(i=>{i.disable(pe(B({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ah(this.value,r)),this._events.next(new Cs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(B({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Nu,this._forEachChild(r=>{r.enable(pe(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(B({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nu||this.status===Ds)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ah(this.value,n)),this._events.next(new Cs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(B({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pu:Nu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ds,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=AS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Cs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?Pu:this.errors?Dh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ds)?Ds:this._anyControlsHaveStatus(Dh)?Dh:Nu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ku(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Fu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ph(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=aj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=uj(this._rawAsyncValidators)}},Ts=class extends bs{constructor(e,n,r){super(bv(n),Tv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){VS(this,!0,e),Object.keys(e).forEach(r=>{FS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var wv=class extends Ts{};var ju=new q("CallSetDisabledState",{providedIn:"root",factory:()=>Oh}),Oh="always";function LS(t,e){return[...e.path,t]}function Mh(t,e,n=Oh){Sv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),lj(t,e),hj(t,e),dj(t,e),cj(t,e)}function yS(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Rh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function xh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function cj(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Sv(t,e){let n=OS(t);e.validator!==null?t.setValidators(pS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=kS(t);e.asyncValidator!==null?t.setAsyncValidators(pS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();xh(e._rawValidators,i),xh(e._rawAsyncValidators,i)}function Rh(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=OS(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=kS(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return xh(e._rawValidators,r),xh(e._rawAsyncValidators,r),n}function lj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&jS(t,e)})}function dj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&jS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function jS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function hj(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function US(t,e){t==null,Sv(t,e)}function fj(t,e){return Rh(t,e)}function BS(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function pj(t){return Object.getPrototypeOf(t.constructor)===Lu}function $S(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function qS(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Zt?n=o:pj(o)?r=o:i=o}),i||r||n||null}function mj(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var gj={provide:Vr,useExisting:Gt(()=>so)},Ou=Promise.resolve(),so=(()=>{class t extends Vr{get submitted(){return Cn(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=cs(()=>this.submittedReactive()),this.submittedReactive=ss(!1),this._directives=new Set,this.ngSubmit=new Qe,this.form=new Ts({},Dv(n),Cv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ou.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Mh(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ou.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ou.then(()=>{let r=this._findContainer(n.path),i=new Ts({});US(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ou.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ou.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),$S(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(k(Ss,10),k(Nh,10),k(ju,8))}}static{this.\u0275dir=Ne({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&fe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Dn([gj]),Mt]})}}return t})();function vS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function _S(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Vu=class extends bs{constructor(e=null,n,r){super(bv(n),Tv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ph(n)&&(n.nonNullable||n.initialValueIsDefault)&&(_S(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){_S(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var yj=t=>t instanceof Vu;var vj={provide:io,useExisting:Gt(()=>zn)},wS=Promise.resolve(),zn=(()=>{class t extends io{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Vu,this._registered=!1,this.name="",this.update=new Qe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=qS(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),BS(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Mh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){wS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&li(r);wS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?LS(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(k(Vr,9),k(Ss,10),k(Nh,10),k(oo,10),k(ci,8),k(ju,8))}}static{this.\u0275dir=Ne({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Dn([vj]),Mt,nr]})}}return t})(),wi=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ne({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),_j={provide:oo,useExisting:Gt(()=>Av),multi:!0},Av=(()=>{class t extends Lu{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&fe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Dn([_j]),Mt]})}}return t})();var zS=new q("");var wj={provide:Vr,useExisting:Gt(()=>Mv)},Mv=(()=>{class t extends Vr{get submitted(){return Cn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=cs(()=>this._submittedReactive()),this._submittedReactive=ss(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qe,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Mh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){yS(n.control||null,n,!1),mj(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),$S(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new vv(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new _v(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(yS(r||null,n),yj(i)&&(Mh(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);US(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&fj(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Sv(this.form,this),this._oldForm&&Rh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(k(Ss,10),k(Nh,10),k(ju,8))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&fe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Dn([wj]),Mt,nr]})}}return t})();var Ij={provide:io,useExisting:Gt(()=>xv)},xv=(()=>{class t extends io{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Qe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=qS(this,o)}ngOnChanges(n){this._added||this._setUpControl(),BS(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return LS(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(k(Vr,13),k(Ss,10),k(Nh,10),k(oo,10),k(zS,8))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Dn([Ij]),Mt,nr]})}}return t})(),Ej={provide:oo,useExisting:Gt(()=>kh),multi:!0};function HS(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Dj(t){return t.split(":")[0]}var kh=(()=>{class t extends Lu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=HS(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=Dj(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&fe("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Dn([Ej]),Mt]})}}return t})(),GS=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(HS(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(k(In),k(Bn),k(kh,9))}}static{this.\u0275dir=Ne({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),Cj={provide:oo,useExisting:Gt(()=>WS),multi:!0};function IS(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function bj(t){return t.split(":")[0]}var WS=(()=>{class t extends Lu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=bj(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&fe("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Dn([Cj]),Mt]})}}return t})(),KS=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(IS(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(IS(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(k(In),k(Bn),k(WS,9))}}static{this.\u0275dir=Ne({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function Tj(t){return typeof t=="number"?t:parseFloat(t)}var QS=(()=>{class t{constructor(){this._validator=Ch}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ch,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ne({type:t,features:[nr]})}}return t})();var Sj={provide:Ss,useExisting:Gt(()=>Rv),multi:!0},Rv=(()=>{class t extends QS{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>Tj(n),this.createValidator=n=>bS(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&as("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Dn([Sj]),Mt]})}}return t})(),Aj={provide:Ss,useExisting:Gt(()=>ao),multi:!0};var ao=(()=>{class t extends QS{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=li,this.createValidator=n=>TS}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&as("required",i._enabled?"":null)},inputs:{required:"required"},features:[Dn([Aj]),Mt]})}}return t})();var YS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_n({type:t})}static{this.\u0275inj=vn({})}}return t})(),Iv=class extends bs{constructor(e,n,r){super(bv(n),Tv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){VS(this,!1,e),e.forEach((r,i)=>{FS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function ES(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var ZS=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return ES(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ts(i,o)}record(n,r=null){let i=this._reduceControls(n);return new wv(i,r)}control(n,r,i){let o={};return this.useNonNullable?(ES(r)?o=r:(o.validators=r,o.asyncValidators=i),new Vu(n,pe(B({},o),{nonNullable:!0}))):new Vu(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Iv(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Vu)return n;if(n instanceof bs)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ar=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ju,useValue:n.callSetDisabledState??Oh}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_n({type:t})}static{this.\u0275inj=vn({imports:[YS]})}}return t})(),JS=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:zS,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ju,useValue:n.callSetDisabledState??Oh}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_n({type:t})}static{this.\u0275inj=vn({imports:[YS]})}}return t})();var Ms=class t{constructor(e){this.http=e}categoryUrl="https://dummyjson.com/products/category-list";productSearchUrl="https://dummyjson.com/products/search?q=";getCategories(){return this.http.get(this.categoryUrl)}getProductsByCategory(e){return this.http.get(`https://dummyjson.com/products/category/${e}`)}static \u0275fac=function(n){return new(n||t)(G(lu))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};var ur=class t{constructor(e){this.http=e}produits=[];searchQuery="https://dummyjson.com/products/";getProduits(){return this.http.get(this.searchQuery)}getCategory(e){return this.http.get(`${this.searchQuery}/category/${e}`)}getProductByKey(e){return this.http.get(`https://dummyjson.com/products/search?q=${e}`)}getProductById(e){let n=this.produits.find(r=>r.id===e);return this.http.get(`${this.searchQuery}/${e}`)}addCommande(e,n,r){}static \u0275fac=function(n){return new(n||t)(G(lu))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};var Jt=class t{cartItemCountSource=new Re(0);cartItemCount$=this.cartItemCountSource.asObservable();searchKeySource=new Re("");searchKey$=this.searchKeySource.asObservable();selectedCategorySource=new Re("");selectedCategory$=this.selectedCategorySource.asObservable();cartItems=new Re(this.loadCartFromLocalStorage());cartItems$=this.cartItems.asObservable();constructor(){this.updateCartItemCount()}addProductToCart(e){let n=this.cartItems.value,r=n.findIndex(i=>i.produit.id===e.produit.id);r>-1?n[r].quantite+=1:n.push(e),this.cartItems.next(n),this.saveCartToLocalStorage(n),this.updateCartItemCount()}getCartItems(){return this.cartItems.value}updateCartItemCount(){let e=this.cartItems.value.reduce((n,r)=>n+r.quantite,0);this.cartItemCountSource.next(e)}saveCartToLocalStorage(e){this.isLocalStorageAvailable()&&localStorage.setItem("cartItems",JSON.stringify(e))}loadCartFromLocalStorage(){if(this.isLocalStorageAvailable()){let e=localStorage.getItem("cartItems");return e?JSON.parse(e):[]}return[]}clearCart(){this.cartItems.next([]),this.isLocalStorageAvailable()&&localStorage.removeItem("cartItems"),this.updateCartItemCount()}isLocalStorageAvailable(){try{let e="__test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}setSearchKey(e){this.searchKeySource.next(e)}setSelectedCategory(e){this.selectedCategorySource.next(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};var xj="firebase",Rj="10.14.1";Ft(xj,Rj,"app");var Hn=new Ar("ANGULARFIRE2_VERSION");function Ov(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Bu=(t,e)=>{let n=e?[e]:Pc(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ii=class{constructor(){return Bu(Nj)}},Nj="app-check";function xs(){}var Fh=class{zone;delegate;constructor(e,n=Hp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Pv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs)),n.pipe(tt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},co=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Fh(Zone.current)),this.insideAngular=n.run(()=>new Fh(Zone.current,zp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(G(Ee))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Vh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Pj(t){return Vh().ngZone.runOutsideAngular(()=>t())}function uo(t){return Vh().ngZone.run(()=>t())}function kv(t){return Oj(Vh())(t)}function Oj(t){return function(n){return n=n.lift(new Pv(t.ngZone)),n.pipe(gn(t.outsideAngular),rn(t.insideAngular))}}var kj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),uo(()=>t.apply(void 0,r))},Gn=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=uo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs))),r[o]=kj(r[o],n));let i=Pj(()=>t.apply(this,r));if(!e)if(i instanceof ae){let o=Vh();return i.pipe(gn(o.outsideAngular),rn(o.insideAngular))}else return uo(()=>i);return i instanceof ae?i.pipe(kv):i instanceof Promise?uo(()=>new Promise((o,s)=>i.then(a=>uo(()=>o(a)),a=>uo(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:uo(()=>i)};var lo=class{constructor(e){return e}},$u=class{constructor(){return Pc()}};function Vj(t){return t&&t.length===1?t[0]:new lo(Ca())}var Fv=new q("angularfire2._apps"),Lj={provide:lo,useFactory:Vj,deps:[[new Wt,Fv]]},jj={provide:$u,deps:[[new Wt,Fv]]};function Uj(t){return(e,n)=>{let r=n.get(pt);Ft("angularfire",Hn.full,"core"),Ft("angularfire",Hn.full,"app"),Ft("angular",Ld.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new lo(i)}}function XS(t,...e){return wn([Lj,jj,{provide:Fv,useFactory:Uj(t),multi:!0,deps:[Ee,Ht,co,...e]}])}var Bj=new Map,$j={activated:!1,tokenObservers:[]},qj={initialized:!1,enabled:!1};function Wn(t){return Bj.get(t)||Object.assign({},$j)}function iA(){return qj}var zj="https://content-firebaseappcheck.googleapis.com/v1";var Hj="exchangeDebugToken",eA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},pW=24*60*60*1e3;var Lv=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return L(this,null,function*(){this.stop();try{this.pending=new Tp,this.pending.promise.catch(n=>{}),yield Gj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Tp,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Gj(t){return new Promise(e=>{setTimeout(e,t)})}var Wj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Ei=new dE("appCheck","AppCheck",Wj);function oA(t){if(!Wn(t).activated)throw Ei.create("use-before-activation",{appName:t.name})}function sA(r,i){return L(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(y){throw Ei.create("fetch-network-error",{originalErrorMessage:y?.message})}if(c.status!==200)throw Ei.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(y){throw Ei.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ei.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function aA(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${zj}/projects/${n}/apps/${r}:${Hj}?key=${i}`,body:{debug_token:e}}}var Kj="firebase-app-check-database",Qj=1,jv="firebase-app-check-store";var Lh=null;function Yj(){return Lh||(Lh=new Promise((t,e)=>{try{let n=indexedDB.open(Kj,Qj);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ei.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(jv,{keyPath:"compositeKey"})}}}catch(n){e(Ei.create("storage-open",{originalErrorMessage:n?.message}))}}),Lh)}function Zj(t,e){return Jj(Xj(t),e)}function Jj(t,e){return L(this,null,function*(){let r=(yield Yj()).transaction(jv,"readwrite"),o=r.objectStore(jv).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Ei.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function Xj(t){return`${t.options.appId}-${t.name}`}var Uv=new Nc("@firebase/app-check");function Vv(t,e){return Sp()?Zj(t,e).catch(n=>{Uv.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function uA(){return iA().enabled}function cA(){return L(this,null,function*(){let t=iA();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var eU={error:"UNKNOWN_ERROR"};function tU(t){return oE.encodeString(JSON.stringify(t),!1)}function Bv(t,e=!1){return L(this,null,function*(){let n=t.app;oA(n);let r=Wn(n),i=r.token,o;if(i&&!qu(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(qu(c)?i=c:yield Vv(n,void 0))}if(!e&&i&&qu(i))return{token:i.token};let s=!1;if(uA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=sA(aA(n,yield cA()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield Vv(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Wn(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Uv.warn(c.message):Uv.error(c),o=c}let a;return i?o?qu(i)?a={token:i.token,internalError:o}:a=nA(o):(a={token:i.token},r.token=i,yield Vv(n,i)):a=nA(o),s&&oU(n,a),a})}function nU(t){return L(this,null,function*(){let e=t.app;oA(e);let{provider:n}=Wn(e);if(uA()){let r=yield cA(),{token:i}=yield sA(aA(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function rU(t,e,n,r){let{app:i}=t,o=Wn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&qu(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),tA(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>tA(t))}function lA(t,e){let n=Wn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function tA(t){let{app:e}=t,n=Wn(e),r=n.tokenRefresher;r||(r=iU(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function iU(t){let{app:e}=t;return new Lv(()=>L(this,null,function*(){let n=Wn(e),r;if(n.token?r=yield Bv(t,!0):r=yield Bv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Wn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},eA.RETRIAL_MIN_WAIT,eA.RETRIAL_MAX_WAIT)}function oU(t,e){let n=Wn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function qu(t){return t.expireTimeMillis-Date.now()>0}function nA(t){return{token:tU(eU),error:t}}var $v=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Wn(this.app);for(let n of e)lA(this.app,n.next);return Promise.resolve()}};function sU(t,e){return new $v(t,e)}function aU(t){return{getToken:e=>Bv(t,e),getLimitedUseToken:()=>nU(t),addTokenListener:e=>rU(t,"INTERNAL",e),removeTokenListener:e=>lA(t.app,e)}}var uU="@firebase/app-check",cU="0.8.8";var lU="app-check",rA="app-check-internal";function dU(){Da(new Ea(lU,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return sU(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(rA).initialize()})),Da(new Ea(rA,t=>{let e=t.getProvider("app-check").getImmediate();return aU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ft(uU,cU)}dU();var hU=["localhost","0.0.0.0","127.0.0.1"],TW=typeof window<"u"&&hU.includes(window.location.hostname);var pU="firebase",mU="10.14.1";tn.registerVersion(pU,mU,"app-compat");var gU=["ngOnDestroy"],hA=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(gU.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(h=>{let p=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,p),p})})})});var jh=class{constructor(e){return e}},Uh=new q("angularfire2.app.options"),Bh=new q("angularfire2.app.name");function qv(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=tn.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>tn.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;yU("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new jh(s)}var yU=(t,...e)=>{iy()&&typeof console<"u"&&console[t](...e)},vU={provide:jh,useFactory:qv,deps:[Uh,Ee,[new Wt,Bh]]},fA=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Uh,useValue:n},{provide:Bh,useValue:r}]}}constructor(n){tn.registerVersion("angularfire",Hn.full,"core"),tn.registerVersion("angularfire",Hn.full,"app-compat"),tn.registerVersion("angular",Ld.full,n.toString())}static \u0275fac=function(r){return new(r||t)(G(pt))};static \u0275mod=_n({type:t});static \u0275inj=vn({providers:[vU]})}return t})();function pA(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return _U(i,s)||(dA("error",`${e} was already initialized on the ${n} Firebase App with different settings.${wU?" You may need to reload as Firebase is not HMR aware.":""}`),dA("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function _U(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var wU=typeof module<"u"&&!!module.hot,dA=(t,...e)=>{iy()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var IU=new q("angularfire2.auth.use-emulator"),EU=new q("angularfire2.auth.settings"),DU=new q("angularfire2.auth.tenant-id"),CU=new q("angularfire2.auth.langugage-code"),bU=new q("angularfire2.auth.use-device-language"),TU=new q("angularfire.auth.persistence"),SU=(t,e,n,r,i,o,s,a)=>pA(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[l,h]of Object.entries(s))c.settings[l]=h;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]),zu=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,c,l,h,p,g,y){let I=new qe,A=J(void 0).pipe(rn(s.outsideAngular),He(()=>o.runOutsideAngular(()=>import("./chunk-TS4VCCVE.js"))),Z(()=>qv(n,o,r)),Z(T=>SU(T,o,a,l,h,p,c,g)),pl({bufferSize:1,refCount:!1}));if(Zi(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=J(null);else{A.pipe(on()).subscribe();let T=A.pipe(He(F=>F.getRedirectResult().then(Q=>Q,()=>null)),kv,pl({bufferSize:1,refCount:!1})),O=A.pipe(He(F=>new ae(Q=>({unsubscribe:o.runOutsideAngular(()=>F.onAuthStateChanged(le=>Q.next(le),le=>Q.error(le),()=>Q.complete()))})))),$=A.pipe(He(F=>new ae(Q=>({unsubscribe:o.runOutsideAngular(()=>F.onIdTokenChanged(le=>Q.next(le),le=>Q.error(le),()=>Q.complete()))}))));this.authState=T.pipe(gl(O),gn(s.outsideAngular),rn(s.insideAngular)),this.user=T.pipe(gl($),gn(s.outsideAngular),rn(s.insideAngular)),this.idToken=this.user.pipe(He(F=>F?Se(F.getIdToken()):J(null))),this.idTokenResult=this.user.pipe(He(F=>F?Se(F.getIdTokenResult()):J(null))),this.credential=Qp(T,I,this.authState.pipe(Ct(F=>!F))).pipe(Z(F=>F?.user?F:null),gn(s.outsideAngular),rn(s.insideAngular))}return hA(this,A,o,{spy:{apply:(T,O,$)=>{(T.startsWith("signIn")||T.startsWith("createUser"))&&$.then(F=>I.next(F))}}})}static \u0275fac=function(r){return new(r||t)(G(Uh),G(Bh,8),G(pt),G(Ee),G(co),G(IU,8),G(EU,8),G(DU,8),G(CU,8),G(bU,8),G(TU,8),G(Ii,8))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),mA=(()=>{class t{constructor(){tn.registerVersion("angularfire",Hn.full,"auth-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=_n({type:t});static \u0275inj=vn({providers:[zu]})}return t})();var dt=class t{constructor(e){this.auth=e;if(this.isBrowser()){let n=localStorage.getItem("user");n&&this.userSubject.next(JSON.parse(n));let r=localStorage.getItem("isAuth");r&&this.isAuth.next(JSON.parse(r))}}isAuth=new Re(!1);isAuth$=this.isAuth.asObservable();defaultUser={name:"EL MEJBAR Otmane",email:"elmejbarotmane@gmail.com",password:"123456",profilePicture:"assets/default-profile.png"};userSubject=new Re(this.defaultUser);user$=this.userSubject.asObservable();login(e,n){return this.isAuth.next(!0),this.auth.signInWithEmailAndPassword(e,n)}signup(e,n){return this.auth.createUserWithEmailAndPassword(e,n)}logout(){return this.isAuth.next(!1),this.auth.signOut()}isLoggedIn(){return this.isAuth.value}getUser(){return this.userSubject.value}updateUser(e){this.userSubject.next(e),this.isBrowser()&&localStorage.setItem("user",JSON.stringify(e))}isBrowser(){return typeof window<"u"&&typeof localStorage<"u"}getUserId(){return L(this,null,function*(){let e=yield this.auth.currentUser;return e?e.uid:null})}static \u0275fac=function(n){return new(n||t)(G(zu))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};function MU(t,e){if(t&1){let n=ut();R(0,"button",21),fe("click",function(){Fe(n);let i=Me();return Ve(i.signIn())}),j(1," Sign in "),x()}}function xU(t,e){if(t&1){let n=ut();R(0,"button",21),fe("click",function(){Fe(n);let i=Me();return Ve(i.signOut())}),j(1," Sign Out "),x()}}function RU(t,e){if(t&1&&Ae(0,"option",22),t&2){let n=e.$implicit;ie("value",n.name)}}function NU(t,e){if(t&1&&(R(0,"option",22),j(1),x()),t&2){let n=e.$implicit;ie("value",n),H(),Qt(" ",n," ")}}var $h=class t{constructor(e,n,r,i,o){this.categoryService=e;this.productService=n;this.sharedService=r;this.router=i;this.auth=o}categories=[];selectedCategory="";products=[];filteredProducts=[];searchKey="";loggedIn=!1;signIn(){this.router.navigate(["/signin"])}signOut(){this.auth.logout(),this.router.navigate(["/"])}ngOnInit(){this.categoryService.getCategories().subscribe(e=>{this.categories=e}),this.productService.getProduits().subscribe(e=>{this.products=e.products}),this.auth.isAuth$.subscribe(e=>{this.loggedIn=e})}onSearchByKey(){this.sharedService.setSearchKey(this.searchKey)}search(){this.sharedService.setSelectedCategory(this.selectedCategory)}static \u0275fac=function(n){return new(n||t)(k(Ms),k(ur),k(Jt),k(vt),k(dt))};static \u0275cmp=Ye({type:t,selectors:[["app-navbar"]],standalone:!0,features:[Je],decls:35,vars:5,consts:[[1,"navbar","navbar-dark","bg-primary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],[1,"navbar-nav","d-flex","flex-row","me-auto"],[1,"nav-item"],["routerLink","/",1,"nav-link","active"],[1,"nav-item","ms-3"],["href","#",1,"nav-link"],["routerLink","/panier",1,"nav-link"],["aria-hidden","true",1,"fa","fa-shopping-cart","ms-1"],["routerLink","/commandes",1,"nav-link"],["routerLink","/profile",1,"nav-link"],["aria-hidden","true",1,"fa","fa-user","ms-1"],["type","button",1,"btn","btn-outline-light"],[1,"d-flex","align-items-center"],[1,"search-container","position-relative","me-2"],["type","text","list","productSuggestions","placeholder","Rechercher des produits","aria-label","Search","name","searchKey",1,"form-control",3,"ngModelChange","ngModel"],[1,"fa","fa-magnifying-glass","position-absolute","end-0","top-50","translate-middle-y","text-light","me-2"],["id","productSuggestions"],[3,"value",4,"ngFor","ngForOf"],["name","selectedCategory",1,"form-control","me-2",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-light",3,"click"],[3,"value"]],template:function(n,r){n&1&&(R(0,"nav",0)(1,"div",1)(2,"a",2),j(3,"ECOM"),x(),R(4,"ul",3)(5,"li",4)(6,"a",5),j(7,"Accueil"),x()(),R(8,"li",6)(9,"a",7),j(10,"Page 1"),x()(),R(11,"li",6)(12,"a",8),j(13," Panier "),Ae(14,"i",9),x()(),R(15,"li",6)(16,"a",10),j(17," Mes commandes "),Ae(18,"i",9),x()(),R(19,"li",6)(20,"a",11),j(21," Profile "),Ae(22,"i",12),x()()(),Ze(23,MU,2,0,"button",13)(24,xU,2,0,"button",13),R(25,"form",14)(26,"div",15)(27,"input",16),gt("ngModelChange",function(o){return xt(r.searchKey,o)||(r.searchKey=o),o}),fe("ngModelChange",function(){return r.onSearchByKey()}),x(),Ae(28,"i",17),R(29,"datalist",18),Ze(30,RU,1,1,"option",19),x()(),R(31,"select",20),gt("ngModelChange",function(o){return xt(r.selectedCategory,o)||(r.selectedCategory=o),o}),Ze(32,NU,2,2,"option",19),x(),R(33,"button",21),fe("click",function(){return r.search()}),j(34," Rechercher "),x()()()()),n&2&&(H(23),Nd(r.loggedIn?24:23),H(4),mt("ngModel",r.searchKey),H(3),ie("ngForOf",r.filteredProducts),H(),mt("ngModel",r.selectedCategory),H(),ie("ngForOf",r.categories))},dependencies:[ar,wi,GS,KS,Zt,kh,Sn,_i,zn,so,Eh,hs],styles:[".navbar[_ngcontent-%COMP%]{background-color:#007bff;padding:1rem 1.5rem}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff;margin-right:1.5rem;font-size:1.1rem;transition:color .3s ease}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fc0}.fa-shopping-cart[_ngcontent-%COMP%]{margin-right:5px;font-size:1.5rem;vertical-align:middle;color:#fff}.badge.bg-danger[_ngcontent-%COMP%]{vertical-align:top;margin-left:5px;font-size:.85rem}.search-container[_ngcontent-%COMP%]{position:relative;max-width:250px}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:2rem;border-radius:30px;border:2px solid #fff}.search-container[_ngcontent-%COMP%]   i.fa-magnifying-glass[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);font-size:1.2rem}.form-control[_ngcontent-%COMP%]:focus{border-color:#fc0;box-shadow:0 0 8px #ffcc0080}select.form-control[_ngcontent-%COMP%]{width:auto;border-radius:30px;background-color:#fff;color:#007bff}select.form-control[_ngcontent-%COMP%]:focus{border-color:#fc0}.btn-outline-light[_ngcontent-%COMP%]{color:#fff;border-color:#fff;transition:background-color .3s ease,color .3s ease}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:#fc0;color:#000}"]})};var qh=class t{title="ecom-app";constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ye({type:t,selectors:[["app-root"]],standalone:!0,features:[Je],decls:2,vars:0,template:function(n,r){n&1&&Ae(0,"app-navbar")(1,"router-outlet")},dependencies:[dv,$h]})};var zh=class{produit;quantite;constructor(e,n){this.produit=e,this.quantite=n}};var PU=t=>({color:t});function OU(t,e){if(t&1){let n=ut();R(0,"a",10),fe("click",function(i){Fe(n);let o=Me();return Ve(o.addToPanier(i))}),j(1,"Add To Panier"),x()}}var Hh=class t{constructor(e,n){this.sharedService=e;this.router=n}product;addToPanier(e){e.stopPropagation();let n=new zh(this.product,1);this.sharedService.addProductToCart(n)}getColor(){return this.product.stock>0?"green":"red"}getState(){return this.product.stock>0?"En stock":"En rupture de stock"}onComponentClick(e){this.router.navigate(["/product",e])}static \u0275fac=function(n){return new(n||t)(k(Jt),k(vt))};static \u0275cmp=Ye({type:t,selectors:[["app-product-item"]],inputs:{product:"product"},standalone:!0,features:[Je],decls:14,vars:10,consts:[[1,"clickable-component",3,"click"],[1,"card","h-100","shadow-sm"],[1,"card-img-top","img-fluid","card-img-custom",3,"src","alt"],[1,"card-body","d-flex","flex-column"],[1,"card-title"],[1,"card-text"],[1,"card-title","mt-auto"],[1,"d-flex","justify-content-between","align-items-center"],[3,"ngStyle"],[1,"btn","btn-primary"],[1,"btn","btn-primary",3,"click"]],template:function(n,r){n&1&&(R(0,"div",0),fe("click",function(){return r.onComponentClick(r.product.id)}),R(1,"div",1),Ae(2,"img",2),R(3,"div",3)(4,"h5",4),j(5),x(),R(6,"p",5),j(7),x(),R(8,"h5",6),j(9),x(),R(10,"div",7)(11,"span",8),j(12),x(),Ze(13,OU,2,0,"a",9),x()()()()),n&2&&(H(2),eu("alt",r.product.title),ie("src",r.product.images[0],Mr),H(3),lt(r.product.title),H(2),lt(r.product.description),H(2),Qt("",r.product.price," $"),H(2),ie("ngStyle",Qi(8,PU,r.getColor())),H(),lt(r.getState()),H(),Nd(r.product.stock>0?13:-1))},dependencies:[Xd],styles:[".card[_ngcontent-%COMP%]{border:none;border-radius:10px;transition:transform .3s,box-shadow .3s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 20px #0003}.card-img-custom[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px;width:100%;height:200px;object-fit:cover}.card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.card-text[_ngcontent-%COMP%]{font-size:.9rem;color:#555}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border:none;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 576px){.card-title[_ngcontent-%COMP%]{font-size:1.1rem}.card-text[_ngcontent-%COMP%]{font-size:.85rem}}"]})};function kU(t,e){if(t&1&&(R(0,"div",3),Ae(1,"app-product-item",4),x()),t&2){let n=e.$implicit;H(),ie("product",n)}}var Gh=class t{constructor(e,n){this.produitService=e;this.sharedService=n}items=[];produits=[];ngOnInit(){this.produitService.getProduits().subscribe(e=>{this.produits=e.products}),this.sharedService.searchKey$.subscribe(e=>{e&&this.onSearchedText(e)}),this.sharedService.selectedCategory$.subscribe(e=>{e&&this.onSearch(e)})}onSearch(e){this.produitService.getCategory(e).subscribe(n=>{this.produits=n.products})}onSearchedText(e){this.produitService.getProductByKey(e).subscribe(n=>{this.produits=n.products})}getCartItemCount(){return this.items.reduce((e,n)=>e+n.quantite,0)}static \u0275fac=function(n){return new(n||t)(k(ur),k(Jt))};static \u0275cmp=Ye({type:t,selectors:[["app-list-produits"]],standalone:!0,features:[Je],decls:7,vars:0,consts:[[1,"container","text-center","mt-5","py-5"],[1,"mx-auto"],[1,"row","row-cols-1","row-cols-md-4","g-4"],[1,"col"],[3,"product"]],template:function(n,r){n&1&&(R(0,"div",0)(1,"h3"),j(2,"Our Products"),x(),Ae(3,"hr",1),x(),R(4,"div",2),Od(5,kU,2,1,"div",3,Pd),x()),n&2&&(H(5),kd(r.produits))},dependencies:[Hh],styles:[".card-img-custom[_ngcontent-%COMP%]{height:200px;object-fit:cover}.card[_ngcontent-%COMP%]{height:100%}"]})};var FB="auth";var Wh=class{constructor(){return Bu(FB)}};var gA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yA={};var Di,zv;(function(){var t;function e(E,v){function w(){}w.prototype=v.prototype,E.D=v.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(D,C,S){for(var _=Array(arguments.length-2),vr=2;vr<arguments.length;vr++)_[vr-2]=arguments[vr];return v.prototype[C].apply(D,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,w){w||(w=0);var D=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)D[C]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(C=0;16>C;++C)D[C]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=E.g[0],w=E.g[1],C=E.g[2];var S=E.g[3],_=v+(S^w&(C^S))+D[0]+3614090360&4294967295;v=w+(_<<7&4294967295|_>>>25),_=S+(C^v&(w^C))+D[1]+3905402710&4294967295,S=v+(_<<12&4294967295|_>>>20),_=C+(w^S&(v^w))+D[2]+606105819&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(v^C&(S^v))+D[3]+3250441966&4294967295,w=C+(_<<22&4294967295|_>>>10),_=v+(S^w&(C^S))+D[4]+4118548399&4294967295,v=w+(_<<7&4294967295|_>>>25),_=S+(C^v&(w^C))+D[5]+1200080426&4294967295,S=v+(_<<12&4294967295|_>>>20),_=C+(w^S&(v^w))+D[6]+2821735955&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(v^C&(S^v))+D[7]+4249261313&4294967295,w=C+(_<<22&4294967295|_>>>10),_=v+(S^w&(C^S))+D[8]+1770035416&4294967295,v=w+(_<<7&4294967295|_>>>25),_=S+(C^v&(w^C))+D[9]+2336552879&4294967295,S=v+(_<<12&4294967295|_>>>20),_=C+(w^S&(v^w))+D[10]+4294925233&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(v^C&(S^v))+D[11]+2304563134&4294967295,w=C+(_<<22&4294967295|_>>>10),_=v+(S^w&(C^S))+D[12]+1804603682&4294967295,v=w+(_<<7&4294967295|_>>>25),_=S+(C^v&(w^C))+D[13]+4254626195&4294967295,S=v+(_<<12&4294967295|_>>>20),_=C+(w^S&(v^w))+D[14]+2792965006&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(v^C&(S^v))+D[15]+1236535329&4294967295,w=C+(_<<22&4294967295|_>>>10),_=v+(C^S&(w^C))+D[1]+4129170786&4294967295,v=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(v^w))+D[6]+3225465664&4294967295,S=v+(_<<9&4294967295|_>>>23),_=C+(v^w&(S^v))+D[11]+643717713&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^v&(C^S))+D[0]+3921069994&4294967295,w=C+(_<<20&4294967295|_>>>12),_=v+(C^S&(w^C))+D[5]+3593408605&4294967295,v=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(v^w))+D[10]+38016083&4294967295,S=v+(_<<9&4294967295|_>>>23),_=C+(v^w&(S^v))+D[15]+3634488961&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^v&(C^S))+D[4]+3889429448&4294967295,w=C+(_<<20&4294967295|_>>>12),_=v+(C^S&(w^C))+D[9]+568446438&4294967295,v=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(v^w))+D[14]+3275163606&4294967295,S=v+(_<<9&4294967295|_>>>23),_=C+(v^w&(S^v))+D[3]+4107603335&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^v&(C^S))+D[8]+1163531501&4294967295,w=C+(_<<20&4294967295|_>>>12),_=v+(C^S&(w^C))+D[13]+2850285829&4294967295,v=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(v^w))+D[2]+4243563512&4294967295,S=v+(_<<9&4294967295|_>>>23),_=C+(v^w&(S^v))+D[7]+1735328473&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^v&(C^S))+D[12]+2368359562&4294967295,w=C+(_<<20&4294967295|_>>>12),_=v+(w^C^S)+D[5]+4294588738&4294967295,v=w+(_<<4&4294967295|_>>>28),_=S+(v^w^C)+D[8]+2272392833&4294967295,S=v+(_<<11&4294967295|_>>>21),_=C+(S^v^w)+D[11]+1839030562&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^v)+D[14]+4259657740&4294967295,w=C+(_<<23&4294967295|_>>>9),_=v+(w^C^S)+D[1]+2763975236&4294967295,v=w+(_<<4&4294967295|_>>>28),_=S+(v^w^C)+D[4]+1272893353&4294967295,S=v+(_<<11&4294967295|_>>>21),_=C+(S^v^w)+D[7]+4139469664&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^v)+D[10]+3200236656&4294967295,w=C+(_<<23&4294967295|_>>>9),_=v+(w^C^S)+D[13]+681279174&4294967295,v=w+(_<<4&4294967295|_>>>28),_=S+(v^w^C)+D[0]+3936430074&4294967295,S=v+(_<<11&4294967295|_>>>21),_=C+(S^v^w)+D[3]+3572445317&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^v)+D[6]+76029189&4294967295,w=C+(_<<23&4294967295|_>>>9),_=v+(w^C^S)+D[9]+3654602809&4294967295,v=w+(_<<4&4294967295|_>>>28),_=S+(v^w^C)+D[12]+3873151461&4294967295,S=v+(_<<11&4294967295|_>>>21),_=C+(S^v^w)+D[15]+530742520&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^v)+D[2]+3299628645&4294967295,w=C+(_<<23&4294967295|_>>>9),_=v+(C^(w|~S))+D[0]+4096336452&4294967295,v=w+(_<<6&4294967295|_>>>26),_=S+(w^(v|~C))+D[7]+1126891415&4294967295,S=v+(_<<10&4294967295|_>>>22),_=C+(v^(S|~w))+D[14]+2878612391&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~v))+D[5]+4237533241&4294967295,w=C+(_<<21&4294967295|_>>>11),_=v+(C^(w|~S))+D[12]+1700485571&4294967295,v=w+(_<<6&4294967295|_>>>26),_=S+(w^(v|~C))+D[3]+2399980690&4294967295,S=v+(_<<10&4294967295|_>>>22),_=C+(v^(S|~w))+D[10]+4293915773&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~v))+D[1]+2240044497&4294967295,w=C+(_<<21&4294967295|_>>>11),_=v+(C^(w|~S))+D[8]+1873313359&4294967295,v=w+(_<<6&4294967295|_>>>26),_=S+(w^(v|~C))+D[15]+4264355552&4294967295,S=v+(_<<10&4294967295|_>>>22),_=C+(v^(S|~w))+D[6]+2734768916&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~v))+D[13]+1309151649&4294967295,w=C+(_<<21&4294967295|_>>>11),_=v+(C^(w|~S))+D[4]+4149444226&4294967295,v=w+(_<<6&4294967295|_>>>26),_=S+(w^(v|~C))+D[11]+3174756917&4294967295,S=v+(_<<10&4294967295|_>>>22),_=C+(v^(S|~w))+D[2]+718787259&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~v))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(C+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+S&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var w=v-this.blockSize,D=this.B,C=this.h,S=0;S<v;){if(C==0)for(;S<=w;)i(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<v;)if(D[C++]=E.charCodeAt(S++),C==this.blockSize){i(this,D),C=0;break}}else for(;S<v;)if(D[C++]=E[S++],C==this.blockSize){i(this,D),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var w=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=w&255,w/=256;for(this.u(E),E=Array(16),v=w=0;4>v;++v)for(var D=0;32>D;D+=8)E[w++]=this.g[v]>>>D&255;return E};function o(E,v){var w=a;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=v(E)}function s(E,v){this.h=v;for(var w=[],D=!0,C=E.length-1;0<=C;C--){var S=E[C]|0;D&&S==v||(w[C]=S,D=!1)}this.g=w}var a={};function c(E){return-128<=E&&128>E?o(E,function(v){return new s([v|0],0>v?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return T(l(-E));for(var v=[],w=1,D=0;E>=w;D++)v[D]=E/w|0,w*=4294967296;return new s(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return T(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(v,8)),D=p,C=0;C<E.length;C+=8){var S=Math.min(8,E.length-C),_=parseInt(E.substring(C,C+S),v);8>S?(S=l(Math.pow(v,S)),D=D.j(S).add(l(_))):(D=D.j(w),D=D.add(l(_)))}return D}var p=c(0),g=c(1),y=c(16777216);t=s.prototype,t.m=function(){if(A(this))return-T(this).m();for(var E=0,v=1,w=0;w<this.g.length;w++){var D=this.i(w);E+=(0<=D?D:4294967296+D)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I(this))return"0";if(A(this))return"-"+T(this).toString(E);for(var v=l(Math.pow(E,6)),w=this,D="";;){var C=Q(w,v).g;w=O(w,C.j(v));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=C,I(w))return S+D;for(;6>S.length;)S="0"+S;D=S+D}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function I(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function A(E){return E.h==-1}t.l=function(E){return E=O(this,E),A(E)?-1:I(E)?0:1};function T(E){for(var v=E.g.length,w=[],D=0;D<v;D++)w[D]=~E.g[D];return new s(w,~E.h).add(g)}t.abs=function(){return A(this)?T(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),w=[],D=0,C=0;C<=v;C++){var S=D+(this.i(C)&65535)+(E.i(C)&65535),_=(S>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);D=_>>>16,S&=65535,_&=65535,w[C]=_<<16|S}return new s(w,w[w.length-1]&-2147483648?-1:0)};function O(E,v){return E.add(T(v))}t.j=function(E){if(I(this)||I(E))return p;if(A(this))return A(E)?T(this).j(T(E)):T(T(this).j(E));if(A(E))return T(this.j(T(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,w=[],D=0;D<2*v;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var C=0;C<E.g.length;C++){var S=this.i(D)>>>16,_=this.i(D)&65535,vr=E.i(C)>>>16,ra=E.i(C)&65535;w[2*D+2*C]+=_*ra,$(w,2*D+2*C),w[2*D+2*C+1]+=S*ra,$(w,2*D+2*C+1),w[2*D+2*C+1]+=_*vr,$(w,2*D+2*C+1),w[2*D+2*C+2]+=S*vr,$(w,2*D+2*C+2)}for(D=0;D<v;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=v;D<2*v;D++)w[D]=0;return new s(w,0)};function $(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function F(E,v){this.g=E,this.h=v}function Q(E,v){if(I(v))throw Error("division by zero");if(I(E))return new F(p,p);if(A(E))return v=Q(T(E),v),new F(T(v.g),T(v.h));if(A(v))return v=Q(E,T(v)),new F(T(v.g),v.h);if(30<E.g.length){if(A(E)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var w=g,D=v;0>=D.l(E);)w=le(w),D=le(D);var C=te(w,1),S=te(D,1);for(D=te(D,2),w=te(w,2);!I(D);){var _=S.add(D);0>=_.l(E)&&(C=C.add(w),S=_),D=te(D,1),w=te(w,1)}return v=O(E,C.j(v)),new F(C,v)}for(C=p;0<=E.l(v);){for(w=Math.max(1,Math.floor(E.m()/v.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),S=l(w),_=S.j(v);A(_)||0<_.l(E);)w-=D,S=l(w),_=S.j(v);I(S)&&(S=g),C=C.add(S),E=O(E,_)}return new F(C,E)}t.A=function(E){return Q(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)&E.i(D);return new s(w,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)|E.i(D);return new s(w,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)^E.i(D);return new s(w,this.h^E.h)};function le(E){for(var v=E.g.length+1,w=[],D=0;D<v;D++)w[D]=E.i(D)<<1|E.i(D-1)>>>31;return new s(w,E.h)}function te(E,v){var w=v>>5;v%=32;for(var D=E.g.length-w,C=[],S=0;S<D;S++)C[S]=0<v?E.i(S+w)>>>v|E.i(S+w+1)<<32-v:E.i(S+w);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zv=yA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Di=yA.Integer=s}).apply(typeof gA<"u"?gA:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jr={};var Hv,VB,Rs,Gv,Hu,Qh,Wv,Kv,Qv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,f){return u==Array.prototype||u==Object.prototype||(u[d]=f.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var d=0;d<u.length;++d){var f=u[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(u,d){if(d)e:{var f=r;u=u.split(".");for(var m=0;m<u.length-1;m++){var b=u[m];if(!(b in f))break e;f=f[b]}u=u[u.length-1],m=f[u],d=d(m),d!=m&&d!=null&&e(f,u,{configurable:!0,writable:!0,value:d})}}function o(u,d){u instanceof String&&(u+="");var f=0,m=!1,b={next:function(){if(!m&&f<u.length){var M=f++;return{value:d(M,u[M]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(u){return u||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function l(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function h(u,d,f){return u.call.apply(u.bind,arguments)}function p(u,d,f){if(!u)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),u.apply(d,b)}}return function(){return u.apply(d,arguments)}}function g(u,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(u,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),u.apply(this,m)}}function I(u,d){function f(){}f.prototype=d.prototype,u.aa=d.prototype,u.prototype=new f,u.prototype.constructor=u,u.Qb=function(m,b,M){for(var U=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)U[Pe-2]=arguments[Pe];return d.prototype[b].apply(m,U)}}function A(u){let d=u.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=u[m];return f}return[]}function T(u,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(c(m)){let b=u.length||0,M=m.length||0;u.length=b+M;for(let U=0;U<M;U++)u[b+U]=m[U]}else u.push(m)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(u){return/^[\s\xa0]*$/.test(u)}function F(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function Q(u){return Q[" "](u),u}Q[" "]=function(){};var le=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function te(u,d,f){for(let m in u)d.call(f,u[m],m,u)}function E(u,d){for(let f in u)d.call(void 0,u[f],f,u)}function v(u){let d={};for(let f in u)d[f]=u[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,d){let f,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(f in m)u[f]=m[f];for(let M=0;M<w.length;M++)f=w[M],Object.prototype.hasOwnProperty.call(m,f)&&(u[f]=m[f])}}function C(u){var d=1;u=u.split(":");let f=[];for(;0<d&&u.length;)f.push(u.shift()),d--;return u.length&&f.push(u.join(":")),f}function S(u){a.setTimeout(()=>{throw u},0)}function _(){var u=tp;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class vr{constructor(){this.h=this.g=null}add(d,f){let m=ra.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ra=new O(()=>new Ex,u=>u.reset());class Ex{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ia,oa=!1,tp=new vr,eI=()=>{let u=a.Promise.resolve(void 0);ia=()=>{u.then(Dx)}};var Dx=()=>{for(var u;u=_();){try{u.h.call(u.g)}catch(f){S(f)}var d=ra;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}oa=!1};function Gr(){this.s=this.s,this.C=this.C}Gr.prototype.s=!1,Gr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Gr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function wt(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}wt.prototype.h=function(){this.defaultPrevented=!0};var Cx=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return u}();function sa(u,d){if(wt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var f=this.type=u.type,m=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(le){e:{try{Q(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=u.fromElement:f=="mouseout"&&(d=u.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:bx[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&sa.aa.h.call(this)}}I(sa,wt);var bx={2:"touch",3:"pen",4:"mouse"};sa.prototype.h=function(){sa.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var aa="closure_listenable_"+(1e6*Math.random()|0),Tx=0;function Sx(u,d,f,m,b){this.listener=u,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=b,this.key=++Tx,this.da=this.fa=!1}function pc(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function mc(u){this.src=u,this.g={},this.h=0}mc.prototype.add=function(u,d,f,m,b){var M=u.toString();u=this.g[M],u||(u=this.g[M]=[],this.h++);var U=rp(u,d,m,b);return-1<U?(d=u[U],f||(d.fa=!1)):(d=new Sx(d,this.src,M,!!m,b),d.fa=f,u.push(d)),d};function np(u,d){var f=d.type;if(f in u.g){var m=u.g[f],b=Array.prototype.indexOf.call(m,d,void 0),M;(M=0<=b)&&Array.prototype.splice.call(m,b,1),M&&(pc(d),u.g[f].length==0&&(delete u.g[f],u.h--))}}function rp(u,d,f,m){for(var b=0;b<u.length;++b){var M=u[b];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==m)return b}return-1}var ip="closure_lm_"+(1e6*Math.random()|0),op={};function tI(u,d,f,m,b){if(m&&m.once)return rI(u,d,f,m,b);if(Array.isArray(d)){for(var M=0;M<d.length;M++)tI(u,d[M],f,m,b);return null}return f=cp(f),u&&u[aa]?u.K(d,f,l(m)?!!m.capture:!!m,b):nI(u,d,f,!1,m,b)}function nI(u,d,f,m,b,M){if(!d)throw Error("Invalid event type");var U=l(b)?!!b.capture:!!b,Pe=ap(u);if(Pe||(u[ip]=Pe=new mc(u)),f=Pe.add(d,f,m,U,M),f.proxy)return f;if(m=Ax(),f.proxy=m,m.src=u,m.listener=f,u.addEventListener)Cx||(b=U),b===void 0&&(b=!1),u.addEventListener(d.toString(),m,b);else if(u.attachEvent)u.attachEvent(oI(d.toString()),m);else if(u.addListener&&u.removeListener)u.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Ax(){function u(f){return d.call(u.src,u.listener,f)}let d=Mx;return u}function rI(u,d,f,m,b){if(Array.isArray(d)){for(var M=0;M<d.length;M++)rI(u,d[M],f,m,b);return null}return f=cp(f),u&&u[aa]?u.L(d,f,l(m)?!!m.capture:!!m,b):nI(u,d,f,!0,m,b)}function iI(u,d,f,m,b){if(Array.isArray(d))for(var M=0;M<d.length;M++)iI(u,d[M],f,m,b);else m=l(m)?!!m.capture:!!m,f=cp(f),u&&u[aa]?(u=u.i,d=String(d).toString(),d in u.g&&(M=u.g[d],f=rp(M,f,m,b),-1<f&&(pc(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete u.g[d],u.h--)))):u&&(u=ap(u))&&(d=u.g[d.toString()],u=-1,d&&(u=rp(d,f,m,b)),(f=-1<u?d[u]:null)&&sp(f))}function sp(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[aa])np(d.i,u);else{var f=u.type,m=u.proxy;d.removeEventListener?d.removeEventListener(f,m,u.capture):d.detachEvent?d.detachEvent(oI(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=ap(d))?(np(f,u),f.h==0&&(f.src=null,d[ip]=null)):pc(u)}}}function oI(u){return u in op?op[u]:op[u]="on"+u}function Mx(u,d){if(u.da)u=!0;else{d=new sa(d,this);var f=u.listener,m=u.ha||u.src;u.fa&&sp(u),u=f.call(m,d)}return u}function ap(u){return u=u[ip],u instanceof mc?u:null}var up="__closure_events_fn_"+(1e9*Math.random()>>>0);function cp(u){return typeof u=="function"?u:(u[up]||(u[up]=function(d){return u.handleEvent(d)}),u[up])}function It(){Gr.call(this),this.i=new mc(this),this.M=this,this.F=null}I(It,Gr),It.prototype[aa]=!0,It.prototype.removeEventListener=function(u,d,f,m){iI(this,u,d,f,m)};function Ot(u,d){var f,m=u.F;if(m)for(f=[];m;m=m.F)f.push(m);if(u=u.M,m=d.type||d,typeof d=="string")d=new wt(d,u);else if(d instanceof wt)d.target=d.target||u;else{var b=d;d=new wt(m,u),D(d,b)}if(b=!0,f)for(var M=f.length-1;0<=M;M--){var U=d.g=f[M];b=gc(U,m,!0,d)&&b}if(U=d.g=u,b=gc(U,m,!0,d)&&b,b=gc(U,m,!1,d)&&b,f)for(M=0;M<f.length;M++)U=d.g=f[M],b=gc(U,m,!1,d)&&b}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var f=u.g[d],m=0;m<f.length;m++)pc(f[m]);delete u.g[d],u.h--}}this.F=null},It.prototype.K=function(u,d,f,m){return this.i.add(String(u),d,!1,f,m)},It.prototype.L=function(u,d,f,m){return this.i.add(String(u),d,!0,f,m)};function gc(u,d,f,m){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,M=0;M<d.length;++M){var U=d[M];if(U&&!U.da&&U.capture==f){var Pe=U.listener,ft=U.ha||U.src;U.fa&&np(u.i,U),b=Pe.call(ft,m)!==!1&&b}}return b&&!m.defaultPrevented}function sI(u,d,f){if(typeof u=="function")f&&(u=g(u,f));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(u,d||0)}function aI(u){u.g=sI(()=>{u.g=null,u.i&&(u.i=!1,aI(u))},u.l);let d=u.h;u.h=null,u.m.apply(null,d)}class xx extends Gr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:aI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(u){Gr.call(this),this.h=u,this.g={}}I(ua,Gr);var uI=[];function cI(u){te(u.g,function(d,f){this.g.hasOwnProperty(f)&&sp(d)},u),u.g={}}ua.prototype.N=function(){ua.aa.N.call(this),cI(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lp=a.JSON.stringify,Rx=a.JSON.parse,Nx=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function dp(){}dp.prototype.h=null;function lI(u){return u.h||(u.h=u.i())}function dI(){}var ca={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hp(){wt.call(this,"d")}I(hp,wt);function fp(){wt.call(this,"c")}I(fp,wt);var Ai={},hI=null;function yc(){return hI=hI||new It}Ai.La="serverreachability";function fI(u){wt.call(this,Ai.La,u)}I(fI,wt);function la(u){let d=yc();Ot(d,new fI(d))}Ai.STAT_EVENT="statevent";function pI(u,d){wt.call(this,Ai.STAT_EVENT,u),this.stat=d}I(pI,wt);function kt(u){let d=yc();Ot(d,new pI(d,u))}Ai.Ma="timingevent";function mI(u,d){wt.call(this,Ai.Ma,u),this.size=d}I(mI,wt);function da(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},d)}function ha(){this.g=!0}ha.prototype.xa=function(){this.g=!1};function Px(u,d,f,m,b,M){u.info(function(){if(u.g)if(M)for(var U="",Pe=M.split("&"),ft=0;ft<Pe.length;ft++){var Ie=Pe[ft].split("=");if(1<Ie.length){var Et=Ie[0];Ie=Ie[1];var Dt=Et.split("_");U=2<=Dt.length&&Dt[1]=="type"?U+(Et+"="+Ie+"&"):U+(Et+"=redacted&")}}else U=null;else U=M;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+f+`
`+U})}function Ox(u,d,f,m,b,M,U){u.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+f+`
`+M+" "+U})}function Co(u,d,f,m){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+Fx(u,f)+(m?" "+m:"")})}function kx(u,d){u.info(function(){return"TIMEOUT: "+d})}ha.prototype.info=function(){};function Fx(u,d){if(!u.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(u=0;u<f.length;u++)if(Array.isArray(f[u])){var m=f[u];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var M=b[0];if(M!="noop"&&M!="stop"&&M!="close")for(var U=1;U<b.length;U++)b[U]=""}}}}return lp(f)}catch{return d}}var vc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pp;function _c(){}I(_c,dp),_c.prototype.g=function(){return new XMLHttpRequest},_c.prototype.i=function(){return{}},pp=new _c;function Wr(u,d,f,m){this.j=u,this.i=d,this.l=f,this.R=m||1,this.U=new ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yI}function yI(){this.i=null,this.g="",this.h=!1}var vI={},mp={};function gp(u,d,f){u.L=1,u.v=Dc(_r(d)),u.m=f,u.P=!0,_I(u,null)}function _I(u,d){u.F=Date.now(),wc(u),u.A=_r(u.v);var f=u.A,m=u.R;Array.isArray(m)||(m=[String(m)]),PI(f.i,"t",m),u.C=0,f=u.j.J,u.h=new yI,u.g=ZI(u.j,f?d:null,!u.m),0<u.O&&(u.M=new xx(g(u.Y,u,u.g),u.O)),d=u.U,f=u.g,m=u.ca;var b="readystatechange";Array.isArray(b)||(b&&(uI[0]=b.toString()),b=uI);for(var M=0;M<b.length;M++){var U=tI(f,b[M],m||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),la(),Px(u.i,u.u,u.A,u.l,u.R,u.m)}Wr.prototype.ca=function(u){u=u.target;let d=this.M;d&&wr(u)==3?d.j():this.Y(u)},Wr.prototype.Y=function(u){try{if(u==this.g)e:{let Dt=wr(this.g);var d=this.g.Ba();let So=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||UI(this.g)))){this.J||Dt!=4||d==7||(d==8||0>=So?la(3):la(2)),yp(this);var f=this.g.Z();this.X=f;t:if(wI(this)){var m=UI(this.g);u="";var b=m.length,M=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mi(this),fa(this);var U="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,u+=this.h.i.decode(m[d],{stream:!(M&&d==b-1)});m.length=0,this.h.g+=u,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,Ox(this.i,this.u,this.A,this.l,this.R,Dt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,ft=this.g;if((Pe=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Pe)){var Ie=Pe;break t}}Ie=null}if(f=Ie)Co(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vp(this,f);else{this.o=!1,this.s=3,kt(12),Mi(this),fa(this);break e}}if(this.P){f=!0;let Mn;for(;!this.J&&this.C<U.length;)if(Mn=Vx(this,U),Mn==mp){Dt==4&&(this.s=4,kt(14),f=!1),Co(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==vI){this.s=4,kt(15),Co(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else Co(this.i,this.l,Mn,null),vp(this,Mn);if(wI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||U.length!=0||this.h.h||(this.s=1,kt(16),f=!1),this.o=this.o&&f,!f)Co(this.i,this.l,U,"[Invalid Chunked Response]"),Mi(this),fa(this);else if(0<U.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Cp(Et),Et.M=!0,kt(11))}}else Co(this.i,this.l,U,null),vp(this,U);Dt==4&&Mi(this),this.o&&!this.J&&(Dt==4?WI(this.j,this):(this.o=!1,wc(this)))}else eR(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Mi(this),fa(this)}}}catch{}finally{}};function wI(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Vx(u,d){var f=u.C,m=d.indexOf(`
`,f);return m==-1?mp:(f=Number(d.substring(f,m)),isNaN(f)?vI:(m+=1,m+f>d.length?mp:(d=d.slice(m,m+f),u.C=m+f,d)))}Wr.prototype.cancel=function(){this.J=!0,Mi(this)};function wc(u){u.S=Date.now()+u.I,II(u,u.I)}function II(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=da(g(u.ba,u),d)}function yp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Wr.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(kx(this.i,this.A),this.L!=2&&(la(),kt(17)),Mi(this),this.s=2,fa(this)):II(this,this.S-u)};function fa(u){u.j.G==0||u.J||WI(u.j,u)}function Mi(u){yp(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,cI(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function vp(u,d){try{var f=u.j;if(f.G!=0&&(f.g==u||_p(f.h,u))){if(!u.K&&_p(f.h,u)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<u.F)Ac(f),Tc(f);else break e;Dp(f),kt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=da(g(f.Za,f),6e3));if(1>=CI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ri(f,11)}else if((u.K||f.g==u)&&Ac(f),!$(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let Ie=b[d];if(f.T=Ie[0],Ie=Ie[1],f.G==2)if(Ie[0]=="c"){f.K=Ie[1],f.ia=Ie[2];let Et=Ie[3];Et!=null&&(f.la=Et,f.j.info("VER="+f.la));let Dt=Ie[4];Dt!=null&&(f.Aa=Dt,f.j.info("SVER="+f.Aa));let So=Ie[5];So!=null&&typeof So=="number"&&0<So&&(m=1.5*So,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Mn=u.g;if(Mn){let xc=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xc){var M=m.h;M.g||xc.indexOf("spdy")==-1&&xc.indexOf("quic")==-1&&xc.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(wp(M,M.h),M.h=null))}if(m.D){let bp=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;bp&&(m.ya=bp,Ue(m.I,m.D,bp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-u.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var U=u;if(m.qa=YI(m,m.J?m.ia:null,m.W),U.K){bI(m.h,U);var Pe=U,ft=m.L;ft&&(Pe.I=ft),Pe.B&&(yp(Pe),wc(Pe)),m.g=U}else HI(m);0<f.i.length&&Sc(f)}else Ie[0]!="stop"&&Ie[0]!="close"||Ri(f,7);else f.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Ri(f,7):Ep(f):Ie[0]!="noop"&&f.l&&f.l.ta(Ie),f.v=0)}}la(4)}catch{}}var Lx=class{constructor(u,d){this.g=u,this.map=d}};function EI(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function DI(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function CI(u){return u.h?1:u.g?u.g.size:0}function _p(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function wp(u,d){u.g?u.g.add(d):u.h=d}function bI(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}EI.prototype.cancel=function(){if(this.i=TI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function TI(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(let f of u.g.values())d=d.concat(f.D);return d}return A(u.i)}function jx(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var d=[],f=u.length,m=0;m<f;m++)d.push(u[m]);return d}d=[],f=0;for(m in u)d[f++]=u[m];return d}function Ux(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var d=[];u=u.length;for(var f=0;f<u;f++)d.push(f);return d}d=[],f=0;for(let m in u)d[f++]=m;return d}}}function SI(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var f=Ux(u),m=jx(u),b=m.length,M=0;M<b;M++)d.call(void 0,m[M],f&&f[M],u)}var AI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bx(u,d){if(u){u=u.split("&");for(var f=0;f<u.length;f++){var m=u[f].indexOf("="),b=null;if(0<=m){var M=u[f].substring(0,m);b=u[f].substring(m+1)}else M=u[f];d(M,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function xi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof xi){this.h=u.h,Ic(this,u.j),this.o=u.o,this.g=u.g,Ec(this,u.s),this.l=u.l;var d=u.i,f=new ga;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),MI(this,f),this.m=u.m}else u&&(d=String(u).match(AI))?(this.h=!1,Ic(this,d[1]||"",!0),this.o=pa(d[2]||""),this.g=pa(d[3]||"",!0),Ec(this,d[4]),this.l=pa(d[5]||"",!0),MI(this,d[6]||"",!0),this.m=pa(d[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}xi.prototype.toString=function(){var u=[],d=this.j;d&&u.push(ma(d,xI,!0),":");var f=this.g;return(f||d=="file")&&(u.push("//"),(d=this.o)&&u.push(ma(d,xI,!0),"@"),u.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&u.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&u.push("/"),u.push(ma(f,f.charAt(0)=="/"?zx:qx,!0))),(f=this.i.toString())&&u.push("?",f),(f=this.m)&&u.push("#",ma(f,Gx)),u.join("")};function _r(u){return new xi(u)}function Ic(u,d,f){u.j=f?pa(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function Ec(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function MI(u,d,f){d instanceof ga?(u.i=d,Wx(u.i,u.h)):(f||(d=ma(d,Hx)),u.i=new ga(d,u.h))}function Ue(u,d,f){u.i.set(d,f)}function Dc(u){return Ue(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pa(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ma(u,d,f){return typeof u=="string"?(u=encodeURI(u).replace(d,$x),f&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function $x(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xI=/[#\/\?@]/g,qx=/[#\?:]/g,zx=/[#\?]/g,Hx=/[#\?@]/g,Gx=/#/g;function ga(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function Kr(u){u.g||(u.g=new Map,u.h=0,u.i&&Bx(u.i,function(d,f){u.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ga.prototype,t.add=function(u,d){Kr(this),this.i=null,u=bo(this,u);var f=this.g.get(u);return f||this.g.set(u,f=[]),f.push(d),this.h+=1,this};function RI(u,d){Kr(u),d=bo(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function NI(u,d){return Kr(u),d=bo(u,d),u.g.has(d)}t.forEach=function(u,d){Kr(this),this.g.forEach(function(f,m){f.forEach(function(b){u.call(d,b,m,this)},this)},this)},t.na=function(){Kr(this);let u=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let b=u[m];for(let M=0;M<b.length;M++)f.push(d[m])}return f},t.V=function(u){Kr(this);let d=[];if(typeof u=="string")NI(this,u)&&(d=d.concat(this.g.get(bo(this,u))));else{u=Array.from(this.g.values());for(let f=0;f<u.length;f++)d=d.concat(u[f])}return d},t.set=function(u,d){return Kr(this),this.i=null,u=bo(this,u),NI(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},t.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function PI(u,d,f){RI(u,d),0<f.length&&(u.i=null,u.g.set(bo(u,d),A(f)),u.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let M=encodeURIComponent(String(m)),U=this.V(m);for(m=0;m<U.length;m++){var b=M;U[m]!==""&&(b+="="+encodeURIComponent(String(U[m]))),u.push(b)}}return this.i=u.join("&")};function bo(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function Wx(u,d){d&&!u.j&&(Kr(u),u.i=null,u.g.forEach(function(f,m){var b=m.toLowerCase();m!=b&&(RI(this,m),PI(this,b,f))},u)),u.j=d}function Kx(u,d){let f=new ha;if(a.Image){let m=new Image;m.onload=y(Qr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Qr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Qr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Qr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=u}else d(!1)}function Qx(u,d){let f=new ha,m=new AbortController,b=setTimeout(()=>{m.abort(),Qr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:m.signal}).then(M=>{clearTimeout(b),M.ok?Qr(f,"TestPingServer: ok",!0,d):Qr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Qr(f,"TestPingServer: error",!1,d)})}function Qr(u,d,f,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(f)}catch{}}function Yx(){this.g=new Nx}function Zx(u,d,f){let m=f||"";try{SI(u,function(b,M){let U=b;l(b)&&(U=lp(b)),d.push(m+M+"="+encodeURIComponent(U))})}catch(b){throw d.push(m+"type="+encodeURIComponent("_badmap")),b}}function ya(u){this.l=u.Ub||null,this.j=u.eb||!1}I(ya,dp),ya.prototype.g=function(){return new Cc(this.l,this.j)},ya.prototype.i=function(u){return function(){return u}}({});function Cc(u,d){It.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Cc,It),t=Cc.prototype,t.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,_a(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,_a(this)),this.g&&(this.readyState=3,_a(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;OI(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function OI(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?va(this):_a(this),this.readyState==3&&OI(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,va(this))},t.Qa=function(u){this.g&&(this.response=u,va(this))},t.ga=function(){this.g&&va(this)};function va(u){u.readyState=4,u.l=null,u.j=null,u.v=null,_a(u)}t.setRequestHeader=function(u,d){this.u.append(u,d)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,u.push(f[0]+": "+f[1]),f=d.next();return u.join(`\r
`)};function _a(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kI(u){let d="";return te(u,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Ip(u,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=kI(f),typeof u=="string"?f!=null&&encodeURIComponent(String(f)):Ue(u,d,f))}function We(u){It.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(We,It);var Jx=/^https?$/i,Xx=["POST","PUT"];t=We.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pp.g(),this.v=this.o?lI(this.o):lI(pp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(M){FI(this,M);return}if(u=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)f.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())f.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),b=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Xx,d,void 0))||m||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,U]of f)this.g.setRequestHeader(M,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jI(this),this.u=!0,this.g.send(u),this.u=!1}catch(M){FI(this,M)}};function FI(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,VI(u),bc(u)}function VI(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ot(this,"complete"),Ot(this,"abort"),bc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bc(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?LI(this):this.bb())},t.bb=function(){LI(this)};function LI(u){if(u.h&&typeof s<"u"&&(!u.v[1]||wr(u)!=4||u.Z()!=2)){if(u.u&&wr(u)==4)sI(u.Ea,0,u);else if(Ot(u,"readystatechange"),wr(u)==4){u.h=!1;try{let U=u.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=U===0){var b=String(u.D).match(AI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),m=!Jx.test(b?b.toLowerCase():"")}f=m}if(f)Ot(u,"complete"),Ot(u,"success");else{u.m=6;try{var M=2<wr(u)?u.g.statusText:""}catch{M=""}u.l=M+" ["+u.Z()+"]",VI(u)}}finally{bc(u)}}}}function bc(u,d){if(u.g){jI(u);let f=u.g,m=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||Ot(u,"ready");try{f.onreadystatechange=m}catch{}}}function jI(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function wr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),Rx(d)}};function UI(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function eR(u){let d={};u=(u.g&&2<=wr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<u.length;m++){if($(u[m]))continue;var f=C(u[m]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[b]||[];d[b]=M,M.push(f)}E(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(u,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[u]||d}function BI(u){this.Aa=0,this.i=[],this.j=new ha,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,u),this.cb=wa("retryDelaySeedMs",1e4,u),this.Wa=wa("forwardChannelMaxRetries",2,u),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new EI(u&&u.concurrentRequestLimit),this.Da=new Yx,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=BI.prototype,t.la=8,t.G=1,t.connect=function(u,d,f,m){kt(0),this.W=u,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=YI(this,null,this.W),Sc(this)};function Ep(u){if($I(u),u.G==3){var d=u.U++,f=_r(u.I);if(Ue(f,"SID",u.K),Ue(f,"RID",d),Ue(f,"TYPE","terminate"),Ia(u,f),d=new Wr(u,u.j,d),d.L=2,d.v=Dc(_r(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=ZI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),wc(d)}QI(u)}function Tc(u){u.g&&(Cp(u),u.g.cancel(),u.g=null)}function $I(u){Tc(u),u.u&&(a.clearTimeout(u.u),u.u=null),Ac(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Sc(u){if(!DI(u.h)&&!u.s){u.s=!0;var d=u.Ga;ia||eI(),oa||(ia(),oa=!0),tp.add(d,u),u.B=0}}function tR(u,d){return CI(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=da(g(u.Ga,u,d),KI(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let b=new Wr(this,this.j,u),M=this.o;if(this.S&&(M?(M=v(M),D(M,this.S)):M=this.S),this.m!==null||this.O||(b.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=zI(this,b,d),f=_r(this.I),Ue(f,"RID",u),Ue(f,"CVER",22),this.D&&Ue(f,"X-HTTP-Session-Id",this.D),Ia(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(kI(M)))+"&"+d:this.m&&Ip(f,this.m,M)),wp(this.h,b),this.Ua&&Ue(f,"TYPE","init"),this.P?(Ue(f,"$req",d),Ue(f,"SID","null"),b.T=!0,gp(b,f,null)):gp(b,f,d),this.G=2}}else this.G==3&&(u?qI(this,u):this.i.length==0||DI(this.h)||qI(this))};function qI(u,d){var f;d?f=d.l:f=u.U++;let m=_r(u.I);Ue(m,"SID",u.K),Ue(m,"RID",f),Ue(m,"AID",u.T),Ia(u,m),u.m&&u.o&&Ip(m,u.m,u.o),f=new Wr(u,u.j,f,u.B+1),u.m===null&&(f.H=u.o),d&&(u.i=d.D.concat(u.i)),d=zI(u,f,1e3),f.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),wp(u.h,f),gp(f,m,d)}function Ia(u,d){u.H&&te(u.H,function(f,m){Ue(d,m,f)}),u.l&&SI({},function(f,m){Ue(d,m,f)})}function zI(u,d,f){f=Math.min(u.i.length,f);var m=u.l?g(u.l.Na,u.l,u):null;e:{var b=u.i;let M=-1;for(;;){let U=["count="+f];M==-1?0<f?(M=b[0].g,U.push("ofs="+M)):M=0:U.push("ofs="+M);let Pe=!0;for(let ft=0;ft<f;ft++){let Ie=b[ft].g,Et=b[ft].map;if(Ie-=M,0>Ie)M=Math.max(0,b[ft].g-100),Pe=!1;else try{Zx(Et,U,"req"+Ie+"_")}catch{m&&m(Et)}}if(Pe){m=U.join("&");break e}}}return u=u.i.splice(0,f),d.D=u,m}function HI(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;ia||eI(),oa||(ia(),oa=!0),tp.add(d,u),u.v=0}}function Dp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=da(g(u.Fa,u),KI(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,GI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=da(g(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),Tc(this),GI(this))};function Cp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function GI(u){u.g=new Wr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=_r(u.qa);Ue(d,"RID","rpc"),Ue(d,"SID",u.K),Ue(d,"AID",u.T),Ue(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ue(d,"TO",u.ja),Ue(d,"TYPE","xmlhttp"),Ia(u,d),u.m&&u.o&&Ip(d,u.m,u.o),u.L&&(u.g.I=u.L);var f=u.g;u=u.ia,f.L=1,f.v=Dc(_r(d)),f.m=null,f.P=!0,_I(f,u)}t.Za=function(){this.C!=null&&(this.C=null,Tc(this),Dp(this),kt(19))};function Ac(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function WI(u,d){var f=null;if(u.g==d){Ac(u),Cp(u),u.g=null;var m=2}else if(_p(u.h,d))f=d.D,bI(u.h,d),m=1;else return;if(u.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=u.B;m=yc(),Ot(m,new mI(m,f)),Sc(u)}else HI(u);else if(b=d.s,b==3||b==0&&0<d.X||!(m==1&&tR(u,d)||m==2&&Dp(u)))switch(f&&0<f.length&&(d=u.h,d.i=d.i.concat(f)),b){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function KI(u,d){let f=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(f*=2),f*d}function Ri(u,d){if(u.j.info("Error code "+d),d==2){var f=g(u.fb,u),m=u.Xa;let b=!m;m=new xi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ic(m,"https"),Dc(m),b?Kx(m.toString(),f):Qx(m.toString(),f)}else kt(2);u.G=0,u.l&&u.l.sa(d),QI(u),$I(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function QI(u){if(u.G=0,u.ka=[],u.l){let d=TI(u.h);(d.length!=0||u.i.length!=0)&&(T(u.ka,d),T(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function YI(u,d,f){var m=f instanceof xi?_r(f):new xi(f);if(m.g!="")d&&(m.g=d+"."+m.g),Ec(m,m.s);else{var b=a.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var M=new xi(null);m&&Ic(M,m),d&&(M.g=d),b&&Ec(M,b),f&&(M.l=f),m=M}return f=u.D,d=u.ya,f&&d&&Ue(m,f,d),Ue(m,"VER",u.la),Ia(u,m),m}function ZI(u,d,f){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new We(new ya({eb:f})):new We(u.pa),d.Ha(u.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function JI(){}t=JI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mc(){}Mc.prototype.g=function(u,d){return new en(u,d)};function en(u,d){It.call(this),this.g=new BI(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!$(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new To(this)}I(en,It),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Ep(this.g)},en.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var f={};f.__data__=u,u=f}else this.u&&(f={},f.__data__=lp(u),u=f);d.i.push(new Lx(d.Ya++,u)),d.G==3&&Sc(d)},en.prototype.N=function(){this.g.l=null,delete this.j,Ep(this.g),delete this.g,en.aa.N.call(this)};function XI(u){hp.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(let f in d){u=f;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}I(XI,hp);function eE(){fp.call(this),this.status=1}I(eE,fp);function To(u){this.g=u}I(To,JI),To.prototype.ua=function(){Ot(this.g,"a")},To.prototype.ta=function(u){Ot(this.g,new XI(u))},To.prototype.sa=function(u){Ot(this.g,new eE)},To.prototype.ra=function(){Ot(this.g,"b")},Mc.prototype.createWebChannel=Mc.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,Qv=jr.createWebChannelTransport=function(){return new Mc},Kv=jr.getStatEventTarget=function(){return yc()},Wv=jr.Event=Ai,Qh=jr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vc.NO_ERROR=0,vc.TIMEOUT=8,vc.HTTP_ERROR=6,Hu=jr.ErrorCode=vc,gI.COMPLETE="complete",Gv=jr.EventType=gI,dI.EventType=ca,ca.OPEN="a",ca.CLOSE="b",ca.ERROR="c",ca.MESSAGE="d",It.prototype.listen=It.prototype.K,Rs=jr.WebChannel=dI,VB=jr.FetchXmlHttpFactory=ya,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,Hv=jr.XhrIo=We}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});var vA="@firebase/firestore";var ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");var Js="10.14.0";var go=new Nc("@firebase/firestore");function Gu(){return go.logLevel}function K(t,...e){if(go.logLevel<=Ir.DEBUG){let n=e.map(xw);go.debug(`Firestore (${Js}): ${t}`,...n)}}function Br(t,...e){if(go.logLevel<=Ir.ERROR){let n=e.map(xw);go.error(`Firestore (${Js}): ${t}`,...n)}}function Ls(t,...e){if(go.logLevel<=Ir.WARN){let n=e.map(xw);go.warn(`Firestore (${Js}): ${t}`,...n)}}function xw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ee(t="Unexpected state"){let e=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+t;throw Br(e),new Error(e)}function xe(t,e){t||ee()}function oe(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=class extends lE{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var lr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ef=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},e_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}},t_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},n_=class{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new lr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>L(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new lr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new ef(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new ht(e)}},r_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},i_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new r_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},o_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},s_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){xe(this.o===void 0);let r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new o_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function LB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var tf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=LB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function De(t,e){return t<e?-1:t>e?1:0}function js(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var _t=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ue=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new _t(0,0))}static max(){return new t(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var nf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Xe=class t extends nf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Y(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},jB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mn=class t extends nf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return jB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new Y(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Y(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var X=class t{constructor(e){this.path=e}static fromPath(e){return new t(Xe.fromString(e))}static fromName(e){return new t(Xe.fromString(e).popFirst(5))}static empty(){return new t(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Xe(e.slice()))}};var a_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};a_.UNKNOWN_ID=-1;function UB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new yo(i,X.empty(),e)}function BB(t){return new yo(t.readTime,t.key,-1)}var yo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ue.min(),X.empty(),-1)}static max(){return new t(ue.max(),X.empty(),-1)}};function $B(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}var qB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",u_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function lc(t){return L(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==qB)throw t;K("LocalStore","Unexpectedly lost primary lease")})}var V=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function zB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dc(t){return t.name==="IndexedDbTransactionError"}var YA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Of(t){return t==null}function Ju(t){return t===0&&1/t==-1/0}function HB(t){return typeof t=="number"&&Number.isInteger(t)&&!Ju(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var GB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vK=[...GB,"documentOverlays"],WB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],KB=WB,QB=[...KB,"indexConfiguration","indexState","indexEntries"];var _K=[...QB,"globals"];function _A(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Eo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var et=class t{constructor(e,n){this.comparator=e,this.root=n||dr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ks(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ks(this.root,e,this.comparator,!1)}getReverseIterator(){return new ks(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ks(this.root,e,this.comparator,!0)}},ks=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},dr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};dr.EMPTY=null,dr.RED=!0,dr.BLACK=!1;dr.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new dr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Nt=class t{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rf(this.data.getIterator())}getIteratorFrom(e){return new rf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},rf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var An=class t{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Nt(mn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return js(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var of=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Pt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new of("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Pt.EMPTY_BYTE_STRING=new Pt("");var YB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(t){if(xe(!!t),typeof t=="string"){let e=0,n=YB.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bi(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}function Rw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Nw(t){let e=t.mapValue.fields.__previous_value__;return Rw(e)?Nw(e):e}function Xu(t){let e=$r(t.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}var c_=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},sf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Yh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rw(t)?4:XA(t)?9007199254740991:JA(t)?10:11:ee()}function mr(t,e){if(t===e)return!0;let n=vo(t);if(n!==vo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xu(t).isEqual(Xu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=$r(i.timestampValue),a=$r(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return bi(i.bytesValue).isEqual(bi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ze(i.geoPointValue.latitude)===ze(o.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ze(i.integerValue)===ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ze(i.doubleValue),a=ze(o.doubleValue);return s===a?Ju(s)===Ju(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return js(t.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(_A(s)!==_A(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!mr(s[c],a[c])))return!1;return!0}(t,e);default:return ee()}}function ec(t,e){return(t.values||[]).find(n=>mr(n,e))!==void 0}function Us(t,e){if(t===e)return 0;let n=vo(t),r=vo(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ze(o.integerValue||o.doubleValue),c=ze(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return wA(t.timestampValue,e.timestampValue);case 4:return wA(Xu(t),Xu(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(o,s){let a=bi(o),c=bi(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=De(a[l],c[l]);if(h!==0)return h}return De(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=De(ze(o.latitude),ze(s.latitude));return a!==0?a:De(ze(o.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return IA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,I=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=De(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=I?.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:IA(y,I)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Yh.mapValue&&s===Yh.mapValue)return 0;if(o===Yh.mapValue)return 1;if(s===Yh.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let g=De(c[p],h[p]);if(g!==0)return g;let y=Us(a[c[p]],l[h[p]]);if(y!==0)return y}return De(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ee()}}function wA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);let n=$r(t),r=$r(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function IA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Us(n[i],r[i]);if(o)return o}return De(n.length,r.length)}function Bs(t){return l_(t)}function l_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=$r(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=l_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${l_(n.fields[s])}`;return i+"}"}(t.mapValue):ee()}function d_(t){return!!t&&"integerValue"in t}function Pw(t){return!!t&&"arrayValue"in t}function EA(t){return!!t&&"nullValue"in t}function DA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jh(t){return!!t&&"mapValue"in t}function JA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ku(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Eo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ku(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ku(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var pn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ku(n)}setAll(e){let n=mn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ku(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Jh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Eo(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Ku(this.value))}};function eM(t){let e=[];return Eo(t.fields,(n,r)=>{let i=new mn([n]);if(Jh(r)){let o=eM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new An(e)}var Kn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ue.min(),ue.min(),ue.min(),pn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ue.min(),ue.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ue.min(),ue.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var $s=class{constructor(e,n){this.position=e,this.inclusive=n}};function CA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),n.key):r=Us(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mr(t.position[n],e.position[n]))return!1;return!0}var qs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function ZB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var af=class{},ct=class t extends af{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new f_(e,n,r):n==="array-contains"?new g_(e,r):n==="in"?new y_(e,r):n==="not-in"?new v_(e,r):n==="array-contains-any"?new __(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new p_(e,r):new m_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Us(n,this.value)):n!==null&&vo(this.value)===vo(n)&&this.matchesComparison(Us(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gr=class t extends af{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return tM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function tM(t){return t.op==="and"}function nM(t){return JB(t)&&tM(t)}function JB(t){for(let e of t.filters)if(e instanceof gr)return!1;return!0}function h_(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Bs(t.value);if(nM(t))return t.filters.map(e=>h_(e)).join(",");{let e=t.filters.map(n=>h_(n)).join(",");return`${t.op}(${e})`}}function rM(t,e){return t instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&mr(r.value,i.value)}(t,e):t instanceof gr?function(r,i){return i instanceof gr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&rM(s,i.filters[a]),!0):!1}(t,e):void ee()}function iM(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Bs(n.value)}`}(t):t instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(iM).join(" ,")+"}"}(t):"Filter"}var f_=class extends ct{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){let n=X.comparator(e.key,this.key);return this.matchesComparison(n)}},p_=class extends ct{constructor(e,n){super(e,"in",n),this.keys=oM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},m_=class extends ct{constructor(e,n){super(e,"not-in",n),this.keys=oM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function oM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}var g_=class extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Pw(n)&&ec(n.arrayValue,this.value)}},y_=class extends ct{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ec(this.value.arrayValue,n)}},v_=class extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ec(this.value.arrayValue,n)}},__=class extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Pw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ec(this.value.arrayValue,r))}};var w_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function TA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new w_(t,e,n,r,i,o,s)}function Ow(t){let e=oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>h_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bs(r)).join(",")),e.ue=n}return e.ue}function kw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bA(t.startAt,e.startAt)&&bA(t.endAt,e.endAt)}function I_(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zs=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function XB(t,e,n,r,i,o,s,a){return new zs(t,e,n,r,i,o,s,a)}function kf(t){return new zs(t)}function SA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function e$(t){return t.collectionGroup!==null}function Qu(t){let e=oe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Nt(mn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new qs(o,r))}),n.has(mn.keyField().canonicalString())||e.ce.push(new qs(mn.keyField(),r))}return e.ce}function hr(t){let e=oe(t);return e.le||(e.le=t$(e,Qu(t))),e.le}function t$(t,e){if(t.limitType==="F")return TA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new qs(i.field,o)});let n=t.endAt?new $s(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $s(t.startAt.position,t.startAt.inclusive):null;return TA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function E_(t,e,n){return new zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ff(t,e){return kw(hr(t),hr(e))&&t.limitType===e.limitType}function sM(t){return`${Ow(hr(t))}|lt:${t.limitType}`}function Ns(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>iM(i)).join(", ")}]`),Of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bs(i)).join(",")),`Target(${r})`}(hr(t))}; limitType=${t.limitType})`}function Vf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Qu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=CA(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,Qu(r),i)||r.endAt&&!function(s,a,c){let l=CA(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,Qu(r),i))}(t,e)}function n$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aM(t){return(e,n)=>{let r=!1;for(let i of Qu(t)){let o=r$(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function r$(t,e,n){let r=t.field.isKeyField()?X.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Us(c,l):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}var Ti=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Eo(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ZA(this.inner)}size(){return this.innerSize}};var i$=new et(X.comparator);function qr(){return i$}var uM=new et(X.comparator);function Wu(...t){let e=uM;for(let n of t)e=e.insert(n.key,n);return e}function cM(t){let e=uM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fo(){return Yu()}function lM(){return Yu()}function Yu(){return new Ti(t=>t.toString(),(t,e)=>t.isEqual(e))}var o$=new et(X.comparator),s$=new Nt(X.comparator);function _e(...t){let e=s$;for(let n of t)e=e.add(n);return e}var a$=new Nt(De);function u$(){return a$}function Fw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(e)?"-0":e}}function dM(t){return{integerValue:""+t}}function c$(t,e){return HB(e)?dM(e):Fw(t,e)}var Hs=class{constructor(){this._=void 0}};function l$(t,e,n){return t instanceof Gs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Rw(o)&&(o=Nw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof _o?fM(t,e):t instanceof wo?pM(t,e):function(i,o){let s=hM(i,o),a=AA(s)+AA(i.Pe);return d_(s)&&d_(i.Pe)?dM(a):Fw(i.serializer,a)}(t,e)}function d$(t,e,n){return t instanceof _o?fM(t,e):t instanceof wo?pM(t,e):n}function hM(t,e){return t instanceof Ws?function(r){return d_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Gs=class extends Hs{},_o=class extends Hs{constructor(e){super(),this.elements=e}};function fM(t,e){let n=mM(e);for(let r of t.elements)n.some(i=>mr(i,r))||n.push(r);return{arrayValue:{values:n}}}var wo=class extends Hs{constructor(e){super(),this.elements=e}};function pM(t,e){let n=mM(e);for(let r of t.elements)n=n.filter(i=>!mr(i,r));return{arrayValue:{values:n}}}var Ws=class extends Hs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function AA(t){return ze(t.integerValue||t.doubleValue)}function mM(t){return Pw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function h$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof _o&&i instanceof _o||r instanceof wo&&i instanceof wo?js(r.elements,i.elements,mr):r instanceof Ws&&i instanceof Ws?mr(r.Pe,i.Pe):r instanceof Gs&&i instanceof Gs}(t.transform,e.transform)}var D_=class{constructor(e,n){this.version=e,this.transformResults=n}},Ur=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ks=class{};function gM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tc(t.key,Ur.none()):new Io(t.key,t.data,Ur.none());{let n=t.data,r=pn.empty(),i=new Nt(mn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new yr(t.key,r,new An(i.toArray()),Ur.none())}}function f$(t,e,n){t instanceof Io?function(i,o,s){let a=i.value.clone(),c=xA(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yr?function(i,o,s){if(!Xh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=xA(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(yM(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Zu(t,e,n,r){return t instanceof Io?function(o,s,a,c){if(!Xh(o.precondition,s))return a;let l=o.value.clone(),h=RA(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof yr?function(o,s,a,c){if(!Xh(o.precondition,s))return a;let l=RA(o.fieldTransforms,c,s),h=s.data;return h.setAll(yM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Xh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function p$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=hM(r.transform,i||null);o!=null&&(n===null&&(n=pn.empty()),n.set(r.field,o))}return n||null}function MA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&js(r,i,(o,s)=>h$(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Io=class extends Ks{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},yr=class extends Ks{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function yM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function xA(t,e,n){let r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,d$(s,a,n[i]))}return r}function RA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,l$(o,s,e))}return r}var tc=class extends Ks{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},C_=class extends Ks{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var b_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&f$(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Zu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=lM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=gM(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&js(this.mutations,e.mutations,(n,r)=>MA(n,r))&&js(this.baseMutations,e.baseMutations,(n,r)=>MA(n,r))}},T_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return o$}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var S_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var A_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var it,we;function m$(t){switch(t){default:return ee();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function vM(t){if(t===void 0)return Br("GRPC error has no .code"),N.UNKNOWN;switch(t){case it.OK:return N.OK;case it.CANCELLED:return N.CANCELLED;case it.UNKNOWN:return N.UNKNOWN;case it.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case it.INTERNAL:return N.INTERNAL;case it.UNAVAILABLE:return N.UNAVAILABLE;case it.UNAUTHENTICATED:return N.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case it.NOT_FOUND:return N.NOT_FOUND;case it.ALREADY_EXISTS:return N.ALREADY_EXISTS;case it.PERMISSION_DENIED:return N.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case it.ABORTED:return N.ABORTED;case it.OUT_OF_RANGE:return N.OUT_OF_RANGE;case it.UNIMPLEMENTED:return N.UNIMPLEMENTED;case it.DATA_LOSS:return N.DATA_LOSS;default:return ee()}}(we=it||(it={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";var NA=null;function g$(){return new TextEncoder}var y$=new Di([4294967295,4294967295],0);function PA(t){let e=g$().encode(t),n=new zv;return n.update(e),new Uint8Array(n.digest())}function OA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Di([n,r],0),new Di([i,o],0)]}var M_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new po(`Invalid padding: ${n}`);if(r<0)throw new po(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new po(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new po(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Di.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Di.fromNumber(r)));return i.compare(y$)===1&&(i=new Di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=PA(e),[r,i]=OA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=PA(e),[r,i]=OA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},po=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var uf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ue.min(),i,new et(De),qr(),_e())}},nc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var Fs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},cf=class{constructor(e,n){this.targetId=e,this.me=n}},lf=class{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},df=class{constructor(){this.fe=0,this.ge=FA(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new nc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=FA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},x_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=qr(),this.qe=kA(),this.Qe=new et(De)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(I_(o))if(r===0){let s=new X(o.path);this.Ue(n,s,Kn.newNoDocument(s,ue.min()))}else xe(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}NA?.et(function(h,p,g,y,I){var A,T,O,$,F,Q;let le={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},te=p.unchangedNames;return te&&(le.bloomFilter={applied:I===0,hashCount:(A=te?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:($=(O=(T=te?.bits)===null||T===void 0?void 0:T.bitmap)===null||O===void 0?void 0:O.length)!==null&&$!==void 0?$:0,padding:(Q=(F=te?.bits)===null||F===void 0?void 0:F.padding)!==null&&Q!==void 0?Q:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),le}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=bi(r).toUint8Array()}catch(c){if(c instanceof of)return Ls("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new M_(s,i,o)}catch(c){return Ls(c instanceof po?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&I_(a.target)){let c=new X(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Kn.newNoDocument(c,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=_e();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new uf(e,n,this.Qe,this.ke,r);return this.ke=qr(),this.qe=kA(),this.Qe=new et(De),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new df,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Nt(De),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new df),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function kA(){return new et(X.comparator)}function FA(){return new et(X.comparator)}var v$={asc:"ASCENDING",desc:"DESCENDING"},_$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w$={and:"AND",or:"OR"},R_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function N_(t,e){return t.useProto3Json||Of(e)?e:{value:e}}function hf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _M(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I$(t,e){return hf(t,e.toTimestamp())}function fr(t){return xe(!!t),ue.fromTimestamp(function(n){let r=$r(n);return new _t(r.seconds,r.nanos)}(t))}function Vw(t,e){return P_(t,e).canonicalString()}function P_(t,e){let n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wM(t){let e=Xe.fromString(t);return xe(bM(e)),e}function O_(t,e){return Vw(t.databaseId,e.path)}function Yv(t,e){let n=wM(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(EM(n))}function IM(t,e){return Vw(t.databaseId,e)}function E$(t){let e=wM(t);return e.length===4?Xe.emptyPath():EM(e)}function k_(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EM(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function VA(t,e,n){return{name:O_(t,e),fields:n.value.mapValue.fields}}function D$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(xe(h===void 0||typeof h=="string"),Pt.fromBase64String(h||"")):(xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Pt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?N.UNKNOWN:vM(l.code);return new Y(h,l.message||"")}(s);n=new lf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Yv(t,r.document.name),o=fr(r.document.updateTime),s=r.document.createTime?fr(r.document.createTime):ue.min(),a=new pn({mapValue:{fields:r.document.fields}}),c=Kn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Fs(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Yv(t,r.document),o=r.readTime?fr(r.readTime):ue.min(),s=Kn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Fs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Yv(t,r.document),o=r.removedTargetIds||[];n=new Fs([],o,i,null)}else{if(!("filter"in e))return ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new A_(i,o),a=r.targetId;n=new cf(a,s)}}return n}function C$(t,e){let n;if(e instanceof Io)n={update:VA(t,e.key,e.value)};else if(e instanceof tc)n={delete:O_(t,e.key)};else if(e instanceof yr)n={update:VA(t,e.key,e.data),updateMask:P$(e.fieldMask)};else{if(!(e instanceof C_))return ee();n={verify:O_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Gs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _o)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ws)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:I$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee()}(t,e.precondition)),n}function b$(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?fr(i.updateTime):fr(o);return s.isEqual(ue.min())&&(s=fr(o)),new D_(s,i.transformResults||[])}(n,e))):[]}function T$(t,e){return{documents:[IM(t,e.path)]}}function S$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IM(t,i);let o=function(l){if(l.length!==0)return CM(gr.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Ps(g.field),direction:x$(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=N_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function A$(t){let e=E$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xe(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=DM(p);return g instanceof gr&&nM(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(I){return new qs(Os(I.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Of(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(p){let g=!!p.before,y=p.values||[];return new $s(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new $s(y,g)}(n.endAt)),XB(e,i,s,o,a,"F",c,l)}function M$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Os(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Os(n.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Os(n.unaryFilter.field);return ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Os(n.unaryFilter.field);return ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return ct.create(Os(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(r=>DM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function x$(t){return v$[t]}function R$(t){return _$[t]}function N$(t){return w$[t]}function Ps(t){return{fieldPath:t.canonicalString()}}function Os(t){return mn.fromServerFormat(t.fieldPath)}function CM(t){return t instanceof ct?function(n){if(n.op==="=="){if(DA(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NAN"}};if(EA(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DA(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NAN"}};if(EA(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(n.field),op:R$(n.op),value:n.value}}}(t):t instanceof gr?function(n){let r=n.getFilters().map(i=>CM(i));return r.length===1?r[0]:{compositeFilter:{op:N$(n.op),filters:r}}}(t):ee()}function P$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var rc=class t{constructor(e,n,r,i,o=ue.min(),s=ue.min(),a=Pt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var F_=class{constructor(e){this.ct=e}};function O$(t){let e=A$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?E_(e,e.limit,"L"):e}var ff=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ze(e.integerValue));else if("doubleValue"in e){let r=ze(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Ju(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=$r(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(bi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?XA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):JA(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ee()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ze(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),X.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};ff.vt=new ff;var V_=class{constructor(){this.un=new L_}addToCollectionParentIndex(e,n){return this.un.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(yo.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}},L_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nt(Xe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(Xe.comparator)).toArray()}};var IK=new Uint8Array(0);var cr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(41943040,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);var ic=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var j_=class{constructor(){this.changes=new Ti(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var U_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var B_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Zu(r.mutation,i,An.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=fo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Wu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=fo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=qr(),s=Yu(),a=function(){return Yu()}();return n.forEach((c,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof yr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Zu(h.mutation,l,h.mutation.getFieldMask(),_t.now())):s.set(l.key,An.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new U_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Yu(),i=new et((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let h=r.get(c)||An.empty();h=a.applyToLocalView(l,h),r.set(c,h);let p=(i.get(a.batchId)||_e()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,p=lM();h.forEach(g=>{if(!o.has(g)){let y=gM(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):e$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):V.resolve(fo()),a=-1,c=o;return s.next(l=>V.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,_e())).next(h=>({batchId:a,changes:cM(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=Wu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Wu();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,c=>{let l=function(p,g){return new zs(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Kn.newInvalidDocument(h)))});let a=Wu();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&Zu(h.mutation,l,An.empty(),_t.now()),Vf(n,l)&&(a=a.insert(c,l))}),a})}};var $_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return V.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fr(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:O$(i.bundledQuery),readTime:fr(i.readTime)}}(n)),V.resolve()}};var q_=class{constructor(){this.overlays=new et(X.comparator),this.Ir=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){let r=fo();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){let i=fo(),o=n.length+1,s=new X(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new et((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=fo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=fo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return V.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new S_(n,r));let o=this.Ir.get(n);o===void 0&&(o=_e(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var z_=class{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}};var oc=class{constructor(){this.Tr=new Nt(ot.Er),this.dr=new Nt(ot.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new ot(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ot(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new X(new Xe([])),r=new ot(n,e),i=new ot(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new X(new Xe([])),r=new ot(n,e),i=new ot(n,e+1),o=_e();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ot(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ot=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return X.comparator(e.key,n.key)||De(e.wr,n.wr)}static Ar(e,n){return De(e.wr,n.wr)||X.comparator(e.key,n.key)}};var H_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Nt(ot.Er)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new b_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new ot(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(De);return n.forEach(i=>{let o=new ot(i,0),s=new ot(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),V.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;X.isDocumentKey(o)||(o=o.child(""));let s=new ot(new X(o),0),a=new Nt(De);return this.br.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.wr)),!0)},s),V.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return V.forEach(n.mutations,i=>{let o=new ot(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new ot(n,0),i=this.br.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var G_=class{constructor(e){this.Mr=e,this.docs=function(){return new et(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let r=qr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kn.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=qr(),s=n.path,a=new X(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||$B(BB(h),r)<=0||(i.has(h.key)||Vf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ee()}Or(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new W_(this)}getSize(e){return V.resolve(this.size)}},W_=class extends j_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var K_=class{constructor(e){this.persistence=e,this.Nr=new Ti(n=>Ow(n),kw),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new oc,this.targetCount=0,this.kr=ic.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),V.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ic(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Kn(n),V.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),V.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Br.containsKey(n))}};var Q_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new YA(0),this.Kr=!1,this.Kr=!0,this.$r=new z_,this.referenceDelegate=e(this),this.Ur=new K_(this),this.indexManager=new V_,this.remoteDocumentCache=function(i){return new G_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new F_(n),this.Gr=new $_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new H_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);let i=new Y_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return V.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Y_=class extends u_{constructor(e){super(),this.currentSequenceNumber=e}},Z_=class t{constructor(e){this.persistence=e,this.Jr=new oc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Xr,r=>{let i=X.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return V.or([()=>V.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var J_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var X_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ew=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return cE()?8:zB(uE())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new X_;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Gu()<=Ir.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),V.resolve()):(Gu()<=Ir.DEBUG&&K("QueryEngine","Query:",Ns(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Gu()<=Ir.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):V.resolve())}Yi(e,n){if(SA(n))return V.resolve(null);let r=hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=E_(n,null,"F"),r=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.ts(n,a);return this.ns(n,l,s,c.readTime)?this.Yi(e,E_(n,null,"F")):this.rs(e,l,n,c)}))})))}Zi(e,n,r,i){return SA(n)||i.isEqual(ue.min())?V.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?V.resolve(null):(Gu()<=Ir.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(n)),this.rs(e,s,n,UB(i,-1)).next(a=>a))})}ts(e,n){let r=new Nt(aM(e));return n.forEach((i,o)=>{Vf(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Gu()<=Ir.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Ns(n)),this.Ji.getDocumentsMatchingQuery(e,n,yo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var tw=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new et(De),this._s=new Ti(o=>Ow(o),kw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function k$(t,e,n,r){return new tw(t,e,n,r)}function TM(t,e){return L(this,null,function*(){let n=oe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=_e();for(let l of i){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function F$(t,e){let n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){let p=l.batch,g=p.keys(),y=V.resolve();return g.forEach(I=>{y=y.next(()=>h.getEntry(c,I)).next(A=>{let T=l.docVersions.get(I);xe(T!==null),A.version.compareTo(T)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),h.addEntry(A)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SM(t){let e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function V$(t,e){let n=oe(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Pt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(A,T,O){return A.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(g,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let c=qr(),l=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(L$(o,s,e.documentUpdates).next(h=>{c=h.Ps,l=h.Is})),!r.isEqual(ue.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.os=i,o))}function L$(t,e,n){let r=_e(),i=_e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=qr();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ue.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function j$(t,e){let n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U$(t,e){let n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new rc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function nw(t,e,n){return L(this,null,function*(){let r=oe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!dc(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function LA(t,e,n){let r=oe(t),i=ue.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){let p=oe(c),g=p._s.get(h);return g!==void 0?V.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,s,hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ue.min(),n?o:_e())).next(a=>(B$(r,n$(e),a),{documents:a,Ts:o})))}function B$(t,e,n){let r=t.us.get(e)||ue.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var pf=class{constructor(){this.activeTargetIds=u$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var rw=class{constructor(){this.so=new pf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new pf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var iw=class{_o(e){}shutdown(){}};var mf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Zh=null;function Zv(){return Zh===null?Zh=function(){return 268435456+Math.round(2147483648*Math.random())}():Zh++,"0x"+Zh.toString(16)}var $$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var ow=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Rt="WebChannelConnection",sw=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=Zv(),c=this.xo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,c,l,i).then(h=>(K("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ls("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=$$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Zv();return new Promise((s,a)=>{let c=new Hv;c.setWithCredentials(!0),c.listenOnce(Gv.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Hu.NO_ERROR:let h=c.getResponseJson();K(Rt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Hu.TIMEOUT:K(Rt,`RPC '${e}' ${o} timed out`),a(new Y(N.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:let p=c.getStatus();if(K(Rt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let I=function(T){let O=T.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(O)>=0?O:N.UNKNOWN}(y.status);a(new Y(I,y.message))}else a(new Y(N.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Y(N.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{K(Rt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);K(Rt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Zv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Qv(),a=Kv(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let h=o.join("");K(Rt,`Creating RPC '${e}' stream ${i}: ${h}`,c);let p=s.createWebChannel(h,c),g=!1,y=!1,I=new ow({Io:T=>{y?K(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(g||(K(Rt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),K(Rt,`RPC '${e}' stream ${i} sending:`,T),p.send(T))},To:()=>p.close()}),A=(T,O,$)=>{T.listen(O,F=>{try{$(F)}catch(Q){setTimeout(()=>{throw Q},0)}})};return A(p,Rs.EventType.OPEN,()=>{y||(K(Rt,`RPC '${e}' stream ${i} transport opened.`),I.yo())}),A(p,Rs.EventType.CLOSE,()=>{y||(y=!0,K(Rt,`RPC '${e}' stream ${i} transport closed`),I.So())}),A(p,Rs.EventType.ERROR,T=>{y||(y=!0,Ls(Rt,`RPC '${e}' stream ${i} transport errored:`,T),I.So(new Y(N.UNAVAILABLE,"The operation could not be completed")))}),A(p,Rs.EventType.MESSAGE,T=>{var O;if(!y){let $=T.data[0];xe(!!$);let F=$,Q=F.error||((O=F[0])===null||O===void 0?void 0:O.error);if(Q){K(Rt,`RPC '${e}' stream ${i} received error:`,Q);let le=Q.status,te=function(w){let D=it[w];if(D!==void 0)return vM(D)}(le),E=Q.message;te===void 0&&(te=N.INTERNAL,E="Unknown error status: "+le+" with message "+Q.message),y=!0,I.So(new Y(te,E)),p.close()}else K(Rt,`RPC '${e}' stream ${i} received:`,$),I.bo($)}}),A(a,Wv.STAT_EVENT,T=>{T.stat===Qh.PROXY?K(Rt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Qh.NOPROXY&&K(Rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}};function Jv(){return typeof document<"u"?document:null}function Lf(t){return new R_(t,!0)}var gf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var yf=class{constructor(e,n,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new gf(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return L(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return L(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return L(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Br(n.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new Y(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>L(this,null,function*(){this.state=0,this.start()}))}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},aw=class extends yf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=D$(this.serializer,e),r=function(o){if(!("targetChange"in o))return ue.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?fr(s.readTime):ue.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=k_(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=I_(c)?{documents:T$(o,c)}:{query:S$(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=_M(o,s.resumeToken);let l=N_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ue.min())>0){a.readTime=hf(o,s.snapshotVersion.toTimestamp());let l=N_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=M$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=k_(this.serializer),n.removeTarget=e,this.a_(n)}},uw=class extends yf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=b$(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=k_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>C$(this.serializer,r))};this.a_(n)}};var cw=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Y(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,P_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(N.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,P_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},lw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Br(n),this.D_=!1):K("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var dw=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>L(this,null,function*(){Do(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(c){return L(this,null,function*(){let l=oe(c);l.L_.add(4),yield hc(l),l.q_.set("Unknown"),l.L_.delete(4),yield jf(l)})}(this))}))}),this.q_=new lw(r,i)}};function jf(t){return L(this,null,function*(){if(Do(t))for(let e of t.B_)yield e(!0)})}function hc(t){return L(this,null,function*(){for(let e of t.B_)yield e(!1)})}function AM(t,e){let n=oe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Bw(n)?Uw(n):Xs(n).r_()&&jw(n,e))}function Lw(t,e){let n=oe(t),r=Xs(n);n.N_.delete(e),r.r_()&&MM(n,e),n.N_.size===0&&(r.r_()?r.o_():Do(n)&&n.q_.set("Unknown"))}function jw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(t).A_(e)}function MM(t,e){t.Q_.xe(e),Xs(t).R_(e)}function Uw(t){t.Q_=new x_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Xs(t).start(),t.q_.v_()}function Bw(t){return Do(t)&&!Xs(t).n_()&&t.N_.size>0}function Do(t){return oe(t).L_.size===0}function xM(t){t.Q_=void 0}function q$(t){return L(this,null,function*(){t.q_.set("Online")})}function z$(t){return L(this,null,function*(){t.N_.forEach((e,n)=>{jw(t,e)})})}function H$(t,e){return L(this,null,function*(){xM(t),Bw(t)?(t.q_.M_(e),Uw(t)):t.q_.set("Unknown")})}function G$(t,e,n){return L(this,null,function*(){if(t.q_.set("Online"),e instanceof lf&&e.state===2&&e.cause)try{yield function(i,o){return L(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vf(t,r)}else if(e instanceof Fs?t.Q_.Ke(e):e instanceof cf?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ue.min()))try{let r=yield SM(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.N_.get(c);if(!h)return;o.N_.set(c,h.withResumeToken(Pt.EMPTY_BYTE_STRING,h.snapshotVersion)),MM(o,c);let p=new rc(h.target,c,l,h.sequenceNumber);jw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){K("RemoteStore","Failed to raise snapshot:",r),yield vf(t,r)}})}function vf(t,e,n){return L(this,null,function*(){if(!dc(e))throw e;t.L_.add(1),yield hc(t),t.q_.set("Offline"),n||(n=()=>SM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>L(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield jf(t)}))})}function RM(t,e){return e().catch(n=>vf(t,n,e))}function Uf(t){return L(this,null,function*(){let e=oe(t),n=Si(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;W$(e);)try{let i=yield j$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,K$(e,i)}catch(i){yield vf(e,i)}NM(e)&&PM(e)})}function W$(t){return Do(t)&&t.O_.length<10}function K$(t,e){t.O_.push(e);let n=Si(t);n.r_()&&n.V_&&n.m_(e.mutations)}function NM(t){return Do(t)&&!Si(t).n_()&&t.O_.length>0}function PM(t){Si(t).start()}function Q$(t){return L(this,null,function*(){Si(t).p_()})}function Y$(t){return L(this,null,function*(){let e=Si(t);for(let n of t.O_)e.m_(n.mutations)})}function Z$(t,e,n){return L(this,null,function*(){let r=t.O_.shift(),i=T_.from(r,e,n);yield RM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Uf(t)})}function J$(t,e){return L(this,null,function*(){e&&Si(t).V_&&(yield function(r,i){return L(this,null,function*(){if(function(s){return m$(s)&&s!==N.ABORTED}(i.code)){let o=r.O_.shift();Si(r).s_(),yield RM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Uf(r)}})}(t,e)),NM(t)&&PM(t)})}function jA(t,e){return L(this,null,function*(){let n=oe(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let r=Do(n);n.L_.add(3),yield hc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield jf(n)})}function X$(t,e){return L(this,null,function*(){let n=oe(t);e?(n.L_.delete(2),yield jf(n)):e||(n.L_.add(2),yield hc(n),n.q_.set("Unknown"))})}function Xs(t){return t.K_||(t.K_=function(n,r,i){let o=oe(n);return o.w_(),new aw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:q$.bind(null,t),Ro:z$.bind(null,t),mo:H$.bind(null,t),d_:G$.bind(null,t)}),t.B_.push(e=>L(this,null,function*(){e?(t.K_.s_(),Bw(t)?Uw(t):t.q_.set("Unknown")):(yield t.K_.stop(),xM(t))}))),t.K_}function Si(t){return t.U_||(t.U_=function(n,r,i){let o=oe(n);return o.w_(),new uw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Q$.bind(null,t),mo:J$.bind(null,t),f_:Y$.bind(null,t),g_:Z$.bind(null,t)}),t.B_.push(e=>L(this,null,function*(){e?(t.U_.s_(),yield Uf(t)):(yield t.U_.stop(),t.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var hw=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function $w(t,e){if(Br("AsyncQueue",`${e}: ${t}`),dc(t))return new Y(N.UNAVAILABLE,`${e}: ${t}`);throw t}var _f=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Wu(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var wf=class{constructor(){this.W_=new et(X.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Qs=class t{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,_f.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var fw=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},pw=class{constructor(){this.queries=UA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=oe(n),o=i.queries;i.queries=UA(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(r)})})(this,new Y(N.ABORTED,"Firestore shutting down"))}};function UA(){return new Ti(t=>sM(t),Ff)}function OM(t,e){return L(this,null,function*(){let n=oe(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new fw,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=$w(s,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&qw(n)})}function kM(t,e){return L(this,null,function*(){let n=oe(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function e4(t,e){let n=oe(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&qw(n)}function t4(t,e,n){let r=oe(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function qw(t){t.Y_.forEach(e=>{e.next()})}var mw,BA;(BA=mw||(mw={})).ea="default",BA.Cache="cache";var If=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Qs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==mw.Cache}};var Ef=class{constructor(e){this.key=e}},Df=class{constructor(e){this.key=e}},gw=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=aM(e),this.Ra=new _f(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new wf,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Vf(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),T=!1;g&&y?g.data.isEqual(y.data)?I!==A&&(r.track({type:3,doc:y}),T=!0):this.ga(g,y)||(r.track({type:2,doc:y}),T=!0,(c&&this.Aa(y,c)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),T=!0):g&&!y&&(r.track({type:1,doc:g}),T=!0,(c||l)&&(a=!0)),T&&(y?(s=s.add(y),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,I){let A=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return A(y)-A(I)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,l=c!==this.Ea;return this.Ea=c,s.length!==0||l?{snapshot:new Qs(this.query,e.Ra,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new wf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Df(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Ef(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Qs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},yw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},vw=class{constructor(e){this.key=e,this.va=!1}},_w=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ti(a=>sM(a),Ff),this.Ma=new Map,this.xa=new Set,this.Oa=new et(X.comparator),this.Na=new Map,this.La=new oc,this.Ba={},this.ka=new Map,this.qa=ic.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function n4(t,e,n=!0){return L(this,null,function*(){let r=BM(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield FM(r,e,n,!0),i})}function r4(t,e){return L(this,null,function*(){let n=BM(t);yield FM(n,e,!0,!1)})}function FM(t,e,n,r){return L(this,null,function*(){let i=yield U$(t.localStore,hr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield i4(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&AM(t.remoteStore,i),a})}function i4(t,e,n,r,i){return L(this,null,function*(){t.Ka=(p,g,y)=>function(A,T,O,$){return L(this,null,function*(){let F=T.view.ma(O);F.ns&&(F=yield LA(A.localStore,T.query,!1).then(({documents:E})=>T.view.ma(E,F)));let Q=$&&$.targetChanges.get(T.targetId),le=$&&$.targetMismatches.get(T.targetId)!=null,te=T.view.applyChanges(F,A.isPrimaryClient,Q,le);return qA(A,T.targetId,te.wa),te.snapshot})}(t,p,g,y);let o=yield LA(t.localStore,e,!0),s=new gw(e,o.Ts),a=s.ma(o.documents),c=nc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,c);qA(t,n,l.wa);let h=new yw(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function o4(t,e,n){return L(this,null,function*(){let r=oe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Ff(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield nw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Lw(r.remoteStore,i.targetId),ww(r,i.targetId)}).catch(lc))):(ww(r,i.targetId),yield nw(r.localStore,i.targetId,!0))})}function s4(t,e){return L(this,null,function*(){let n=oe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lw(n.remoteStore,r.targetId))})}function a4(t,e,n){return L(this,null,function*(){let r=p4(t);try{let i=yield function(s,a){let c=oe(s),l=_t.now(),h=a.reduce((y,I)=>y.add(I.key),_e()),p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let I=qr(),A=_e();return c.cs.getEntries(y,h).next(T=>{I=T,I.forEach((O,$)=>{$.isValidDocument()||(A=A.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,I)).next(T=>{p=T;let O=[];for(let $ of a){let F=p$($,p.get($.key).overlayedDocument);F!=null&&O.push(new yr($.key,F,eM(F.value.mapValue),Ur.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,O,a)}).next(T=>{g=T;let O=T.applyToLocalDocumentSet(p,A);return c.documentOverlayCache.saveOverlays(y,T.batchId,O)})}).then(()=>({batchId:g.batchId,changes:cM(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Ba[s.currentUser.toKey()];l||(l=new et(De)),l=l.insert(a,c),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield fc(r,i.changes),yield Uf(r.remoteStore)}catch(i){let o=$w(i,"Failed to persist write");n.reject(o)}})}function VM(t,e){return L(this,null,function*(){let n=oe(t);try{let r=yield V$(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?xe(s.va):i.removedDocuments.size>0&&(xe(s.va),s.va=!1))}),yield fc(n,r,e)}catch(r){yield lc(r)}})}function $A(t,e,n){let r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=oe(s);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(l=!0)}),l&&qw(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function u4(t,e,n){return L(this,null,function*(){let r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new et(X.comparator);s=s.insert(o,Kn.newNoDocument(o,ue.min()));let a=_e().add(o),c=new uf(ue.min(),new Map,new et(De),s,a);yield VM(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),zw(r)}else yield nw(r.localStore,e,!1).then(()=>ww(r,e,n)).catch(lc)})}function c4(t,e){return L(this,null,function*(){let n=oe(t),r=e.batch.batchId;try{let i=yield F$(n.localStore,e);jM(n,r,null),LM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield fc(n,i)}catch(i){yield lc(i)}})}function l4(t,e,n){return L(this,null,function*(){let r=oe(t);try{let i=yield function(s,a){let c=oe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(xe(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);jM(r,e,n),LM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield fc(r,i)}catch(i){yield lc(i)}})}function LM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function jM(t,e,n){let r=oe(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ww(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||UM(t,r)})}function UM(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Lw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),zw(t))}function qA(t,e,n){for(let r of n)r instanceof Ef?(t.La.addReference(r.key,e),d4(t,r)):r instanceof Df?(K("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||UM(t,r.key)):ee()}function d4(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(K("SyncEngine","New document in limbo: "+n),t.xa.add(r),zw(t))}function zw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new X(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new vw(n)),t.Oa=t.Oa.insert(n,r),AM(t.remoteStore,new rc(hr(kf(n.path)),r,"TargetPurposeLimboResolution",YA.oe))}}function fc(t,e,n){return L(this,null,function*(){let r=oe(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(l){i.push(l);let p=J_.Wi(c.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(c,l){return L(this,null,function*(){let h=oe(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>V.forEach(l,g=>V.forEach(g.$i,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>V.forEach(g.Ui,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!dc(p))throw p;K("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.os.get(g),I=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(I);h.os=h.os.insert(g,A)}}})}(r.localStore,o))})}function h4(t,e){return L(this,null,function*(){let n=oe(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let r=yield TM(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new Y(N.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fc(n,r.hs)}})}function f4(t,e){let n=oe(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function BM(t){let e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u4.bind(null,e),e.Ca.d_=e4.bind(null,e.eventManager),e.Ca.$a=t4.bind(null,e.eventManager),e}function p4(t){let e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l4.bind(null,e),e}var zA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return L(this,null,function*(){this.serializer=Lf(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return k$(this.persistence,new ew,n.initialUser,this.serializer)}Ga(n){return new Q_(Z_.Zr,this.serializer)}Wa(n){return new rw}terminate(){return L(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var m4=(()=>{class t{initialize(n,r){return L(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$A(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=h4.bind(null,this.syncEngine),yield X$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new pw}()}createDatastore(n){let r=Lf(n.databaseInfo.databaseId),i=function(s){return new sw(s)}(n.databaseInfo);return function(s,a,c,l){return new cw(s,a,c,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,c){return new dw(i,o,s,a,c)}(this.localStore,this.datastore,n.asyncQueue,r=>$A(this.syncEngine,r,0),function(){return mf.D()?new mf:new iw}())}createSyncEngine(n,r){return function(o,s,a,c,l,h,p){let g=new _w(o,s,a,c,l,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return L(this,null,function*(){var n,r;yield function(o){return L(this,null,function*(){let s=oe(o);K("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield hc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Cf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Iw=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=tf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>L(this,null,function*(){K("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>L(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=$w(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Xv(t,e){return L(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>L(this,null,function*(){r.isEqual(i)||(yield TM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function HA(t,e){return L(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield g4(t);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>jA(e.remoteStore,i)),t._onlineComponents=e})}function g4(t){return L(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Xv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ls("Error using user provided cache. Falling back to memory cache: "+n),yield Xv(t,new zA)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield Xv(t,new zA);return t._offlineComponents})}function $M(t){return L(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield HA(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield HA(t,new m4))),t._onlineComponents})}function y4(t){return $M(t).then(e=>e.syncEngine)}function Ew(t){return L(this,null,function*(){let e=yield $M(t),n=e.eventManager;return n.onListen=n4.bind(null,e.syncEngine),n.onUnlisten=o4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=r4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=s4.bind(null,e.syncEngine),n})}function v4(t,e,n={}){let r=new lr;return t.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return function(o,s,a,c,l){let h=new Cf({next:g=>{h.Za(),s.enqueueAndForget(()=>kM(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new Y(N.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?l.reject(new Y(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new If(kf(a.path),h,{includeMetadataChanges:!0,_a:!0});return OM(o,p)}(yield Ew(t),t.asyncQueue,e,n,r)})),r.promise}function qM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var GA=new Map;function zM(t,e,n){if(!n)throw new Y(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _4(t,e,n,r){if(e===!0&&r===!0)throw new Y(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WA(t){if(!X.isDocumentKey(t))throw new Y(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KA(t){if(X.isDocumentKey(t))throw new Y(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Hw(t);throw new Y(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var bf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Y(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Y(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Y(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ys=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new e_;switch(r.type){case"firstParty":return new i_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return L(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=GA.get(n);r&&(K("ComponentProvider","Removing Datastore"),GA.delete(n),r.terminate())}(this),Promise.resolve()}};function HM(t,e,n,r={}){var i;let o=(t=pr(t,Ys))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=ht.MOCK_USER;else{a=aE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Y(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ht(l)}t._authCredentials=new t_(new ef(a,c))}}var Tf=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Xt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ci=class t extends Tf{constructor(e,n,r){super(e,n,kf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new X(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function GM(t,e,...n){if(t=xn(t),zM("collection","path",e),t instanceof Ys){let r=Xe.fromString(e,...n);return KA(r),new Ci(t,null,r)}{if(!(t instanceof Xt||t instanceof Ci))throw new Y(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Xe.fromString(e,...n));return KA(r),new Ci(t.firestore,null,r)}}function Gw(t,e,...n){if(t=xn(t),arguments.length===1&&(e=tf.newId()),zM("doc","path",e),t instanceof Ys){let r=Xe.fromString(e,...n);return WA(r),new Xt(t,null,new X(r))}{if(!(t instanceof Xt||t instanceof Ci))throw new Y(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Xe.fromString(e,...n));return WA(r),new Xt(t.firestore,t instanceof Ci?t.converter:null,new X(r))}}var Sf=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new gf(this,"async_queue_retry"),this.Vu=()=>{let r=Jv();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Jv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Jv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new lr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return L(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!dc(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Br("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=hw.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ee()}verifyOperationInProgress(){}wu(){return L(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function QA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var zr=class extends Ys{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Sf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return L(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Sf(e),this._firestoreClient=void 0,yield e}})}};function WM(t,e){let n=typeof t=="object"?t:Ca(),r=typeof t=="string"?t:e||"(default)",i=Ap(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=sE("firestore");o&&HM(i,...o)}return i}function Ww(t){if(t._terminated)throw new Y(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||w4(t),t._firestoreClient}function w4(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,h){return new c_(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,qM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Iw(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}var sc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Pt.fromBase64String(e))}catch(n){throw new Y(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Zs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ac=class{constructor(e){this._methodName=e}};var uc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}};var cc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var I4=/^__.*__$/,Dw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Io(e,this.data,n,this.fieldTransforms)}},Af=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function KM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var Cw=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return xf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(KM(this.Cu)&&I4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},bw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lf(e)}Qu(e,n,r,i=!1){return new Cw({Cu:e,methodName:n,qu:r,path:mn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function QM(t){let e=t._freezeSettings(),n=Lf(t._databaseId);return new bw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function E4(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Kw("Data must be an object, but it was:",s,r);let a=YM(r,s),c,l;if(o.merge)c=new An(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=Tw(e,p,n);if(!s.contains(g))throw new Y(N.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);JM(h,g)||h.push(g)}c=new An(h),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new Dw(new pn(a),c,l)}var Mf=class t extends ac{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function D4(t,e,n,r){let i=t.Qu(1,e,n);Kw("Data must be an object, but it was:",i,r);let o=[],s=pn.empty();Eo(r,(c,l)=>{let h=Qw(e,c,n);l=xn(l);let p=i.Nu(h);if(l instanceof Mf)o.push(h);else{let g=Bf(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new An(o);return new Af(s,a,i.fieldTransforms)}function C4(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[Tw(e,r,n)],c=[i];if(o.length%2!=0)throw new Y(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(Tw(e,o[g])),c.push(o[g+1]);let l=[],h=pn.empty();for(let g=a.length-1;g>=0;--g)if(!JM(l,a[g])){let y=a[g],I=c[g];I=xn(I);let A=s.Nu(y);if(I instanceof Mf)l.push(y);else{let T=Bf(I,A);T!=null&&(l.push(y),h.set(y,T))}}let p=new An(l);return new Af(h,p,s.fieldTransforms)}function Bf(t,e){if(ZM(t=xn(t)))return Kw("Unsupported field value:",e,t),YM(t,e);if(t instanceof ac)return function(r,i){if(!KM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=Bf(a,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return c$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=_t.fromDate(r);return{timestampValue:hf(i.serializer,o)}}if(r instanceof _t){let o=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hf(i.serializer,o)}}if(r instanceof uc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sc)return{bytesValue:_M(i.serializer,r._byteString)};if(r instanceof Xt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Vw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return Fw(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Hw(r)}`)}(t,e)}function YM(t,e){let n={};return ZA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Eo(t,(r,i)=>{let o=Bf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ZM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof uc||t instanceof sc||t instanceof Xt||t instanceof ac||t instanceof cc)}function Kw(t,e,n){if(!ZM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Hw(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Tw(t,e,n){if((e=xn(e))instanceof Zs)return e._internalPath;if(typeof e=="string")return Qw(t,e);throw xf("Field path arguments must be of type string or ",t,!1,void 0,n)}var b4=new RegExp("[~\\*/\\[\\]]");function Qw(t,e,n){if(e.search(b4)>=0)throw xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zs(...e.split("."))._internalPath}catch{throw xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Y(N.INVALID_ARGUMENT,a+t+c)}function JM(t,e){return t.some(n=>n.isEqual(e))}var Rf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Sw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(XM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Sw=class extends Rf{data(){return super.data()}};function XM(t,e){return typeof e=="string"?Qw(t,e):e instanceof Zs?e._internalPath:e._delegate._internalPath}function T4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Aw=class{convertValue(e,n="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Eo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ze(s.doubleValue));return new cc(o)}convertGeoPoint(e){return new uc(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Nw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){let n=$r(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Xe.fromString(e);xe(bM(r));let i=new sf(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(n)||Br(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function S4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var mo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Nf=class extends Rf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Vs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(XM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Vs=class extends Nf{data(e={}){return super.data(e)}},Mw=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vs(this._firestore,this._userDataWriter,r.key,r,new mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Vs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Vs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:A4(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function A4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function ex(t){t=pr(t,Xt);let e=pr(t.firestore,zr);return v4(Ww(e),t._key).then(n=>ix(e,t,n))}var Pf=class extends Aw{constructor(e){super(),this.firestore=e}convertBytes(e){return new sc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}};function tx(t,e,n,...r){t=pr(t,Xt);let i=pr(t.firestore,zr),o=QM(i),s;return s=typeof(e=xn(e))=="string"||e instanceof Zs?C4(o,"updateDoc",t._key,e,n,r):D4(o,"updateDoc",t._key,e),Zw(i,[s.toMutation(t._key,Ur.exists(!0))])}function nx(t){return Zw(pr(t.firestore,zr),[new tc(t._key,Ur.none())])}function rx(t,e){let n=pr(t.firestore,zr),r=Gw(t),i=S4(t.converter,e);return Zw(n,[E4(QM(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ur.exists(!1))]).then(()=>r)}function Yw(t,...e){var n,r,i;t=xn(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||QA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(QA(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,l,h;if(t instanceof Xt)l=pr(t.firestore,zr),h=kf(t._key.path),c={next:p=>{e[s]&&e[s](ix(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=pr(t,Tf);l=pr(p.firestore,zr),h=p._query;let g=new Pf(l);c={next:y=>{e[s]&&e[s](new Mw(l,g,p,y))},error:e[s+1],complete:e[s+2]},T4(t._query)}return function(g,y,I,A){let T=new Cf(A),O=new If(y,T,I);return g.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return OM(yield Ew(g),O)})),()=>{T.Za(),g.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return kM(yield Ew(g),O)}))}}(Ww(l),h,a,c)}function Zw(t,e){return function(r,i){let o=new lr;return r.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return a4(yield y4(r),i,o)})),o.promise}(Ww(t),e)}function ix(t,e,n){let r=n.docs.get(e._key),i=new Pf(t);return new Nf(t,i,e._key,r,new mo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Js=i})(hE),Da(new Ea("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new zr(new n_(r.getProvider("auth-internal")),new s_(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Y(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ft(vA,"4.7.3",e),Ft(vA,"4.7.3","esm2017")})();var $f=function(){return $f=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},$f.apply(this,arguments)};var R4={includeMetadataChanges:!1};function ox(t,e){return e===void 0&&(e=R4),new ae(function(n){var r=Yw(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function sx(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:$f($f({},r),(n={},n[e.idField]=t.id,n))}function ax(t){return ox(t,{includeMetadataChanges:!0}).pipe(Z(function(e){return e.docs}))}function ux(t,e){return e===void 0&&(e={}),ax(t).pipe(Z(function(n){return n.map(function(r){return sx(r,e)})}))}var Hr=class{constructor(e){return e}},cx="firestore",Jw=class{constructor(){return Bu(cx)}};var Xw=new q("angularfire2.firestore-instances");function N4(t,e){let n=Ov(cx,t,e);return n&&new Hr(n)}function P4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Hr(r)}}var O4={provide:Jw,deps:[[new Wt,Xw]]},k4={provide:Hr,useFactory:N4,deps:[[new Wt,Xw],lo]};function lx(t,...e){return Ft("angularfire",Hn.full,"fst"),wn([k4,O4,{provide:Xw,useFactory:P4(t),multi:!0,deps:[Ee,Ht,co,$u,[new Wt,Wh],[new Wt,Ii],...e]}])}var qf=Gn(ux,!0);var dx=Gn(rx,!0);var ea=Gn(GM,!0);var hx=Gn(nx,!0);var zf=Gn(Gw,!0);var fx=Gn(ex,!0);var px=Gn(WM,!0);var mx=Gn(tx,!0);var ta=class t{constructor(e){this.fireStore=e}products;addCommande(e,n,r){let i={userid:e,montant:n,dateCommande:new Date,details:r},o=ea(this.fireStore,"orders");dx(o,i).then(()=>console.log("data saved successfully !")).catch(s=>console.log(s))}getAllOrders(){let e=ea(this.fireStore,"orders");return qf(e,{idField:"id"})}getOrderId(e){let n=ea(this.fireStore,"orders"),r=zf(this.fireStore,"orders",e);return fx(r)}updateOrder(e){let n=zf(this.fireStore,"products",e);mx(n,{name:"updated name",montant:1e3}).then(()=>console.log(`Order with ${e} updated successfully ! `)).catch(i=>console.log(i))}deleteOrder(e){let n=zf(this.fireStore,"orders",e);hx(n).then(()=>console.log("data deleted !")).catch(r=>console.log(r))}static \u0275fac=function(n){return new(n||t)(G(Hr))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};function V4(t,e){if(t&1){let n=ut();R(0,"tr")(1,"td"),Ae(2,"img",6),x(),R(3,"td"),j(4),x(),R(5,"td"),j(6),x(),R(7,"td")(8,"button",7),fe("click",function(){let i=Fe(n).$index,o=Me();return Ve(o.decreaseQuantity(i))}),j(9,"-"),x(),R(10,"input",8),gt("ngModelChange",function(i){let o=Fe(n).$implicit;return xt(o.quantite,i)||(o.quantite=i),Ve(i)}),fe("ngModelChange",function(){let i=Fe(n),o=i.$implicit,s=i.$index,a=Me();return Ve(a.updateQuantite(s,o.quantite))}),x(),R(11,"button",7),fe("click",function(){let i=Fe(n).$index,o=Me();return Ve(o.increaseQuantity(i))}),j(12,"+"),x()(),R(13,"td"),j(14),x(),R(15,"td")(16,"button",9),fe("click",function(){let i=Fe(n).$index,o=Me();return Ve(o.removeItem(i))}),j(17," Supprimer "),x()()()}if(t&2){let n=e.$implicit;H(2),ie("src",n.produit.images[0],Mr),H(2),lt(n.produit.title),H(2),lt(n.produit.price),H(4),mt("ngModel",n.quantite),H(4),lt(n.produit.price*n.quantite)}}var Hf=class t{constructor(e,n,r,i){this.sharedService=e;this.authService=n;this.router=r;this.fireStoreService=i}items=[];ngOnInit(){this.sharedService.cartItems$.subscribe(e=>{this.items=e})}updateQuantite(e,n){n<1?this.items[e].quantite=1:this.items[e].quantite=n}calculateTotal(){return this.items.reduce((e,n)=>e+n.produit.price*n.quantite,0)}removeItem(e){this.items.splice(e,1)}validerPanier(){return L(this,null,function*(){if(this.authService.isLoggedIn()){let e=yield this.authService.getUserId();if(e){let n=this.calculateTotal(),r=this.items;this.fireStoreService.addCommande(e,n,r),alert("Panier valid\xE9 avec succ\xE8s!"),this.items=[]}else console.log("User ID could not be retrieved.")}else this.router.navigate(["/signin"])})}increaseQuantity(e){this.items[e].quantite+=1}decreaseQuantity(e){this.items[e].quantite>1&&(this.items[e].quantite-=1)}static \u0275fac=function(n){return new(n||t)(k(Jt),k(dt),k(vt),k(ta))};static \u0275cmp=Ye({type:t,selectors:[["app-panier"]],inputs:{items:"items"},standalone:!0,features:[Je],decls:26,vars:2,consts:[[1,"container","mt-4"],[1,"table","table-bordered"],[1,"thead-dark"],["scope","col"],[1,"text-end"],[1,"btn","btn-primary",3,"click","disabled"],["alt","product image","width","50",3,"src"],[1,"btn","btn-secondary","btn-sm",3,"click"],["type","number","min","1",1,"form-control","d-inline",2,"width","60px",3,"ngModelChange","ngModel"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(n,r){n&1&&(R(0,"div",0)(1,"h2"),j(2,"Panier"),x(),R(3,"table",1)(4,"thead",2)(5,"tr")(6,"th",3),j(7,"Image"),x(),R(8,"th",3),j(9,"Description"),x(),R(10,"th",3),j(11,"Prix"),x(),R(12,"th",3),j(13,"Quantit\xE9"),x(),R(14,"th",3),j(15,"Total"),x(),R(16,"th",3),j(17,"Actions"),x()()(),R(18,"tbody"),Od(19,V4,18,5,"tr",null,Pd),x()(),R(21,"div",4)(22,"h4"),j(23),x()(),R(24,"button",5),fe("click",function(){return r.validerPanier()}),j(25," Valider le Panier "),x()()),n&2&&(H(19),kd(r.items),H(4),Qt("Total: ",r.calculateTotal(),""),H(),ie("disabled",r.items.length===0))},dependencies:[ar,Zt,Av,Sn,Rv,zn],styles:["@media (max-width: 768px){.table[_ngcontent-%COMP%]{font-size:12px}.btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.8rem}input[type=number][_ngcontent-%COMP%]{width:50px}}"]})};var Gf=class{fullName;email;password;constructor(e,n,r){this.fullName=e,this.email=n,this.password=r}};var Wf=class{user;rating;comment;date;constructor(e,n,r,i){this.user=e,this.rating=n,this.comment=r,this.date=i}};var L4=t=>({color:t}),j4=t=>({active:t}),yx=()=>[1,2,3,4,5],vx=t=>({filled:t});function U4(t,e){if(t&1&&(R(0,"div",18),Ae(1,"img",19),x()),t&2){let n=e.$implicit,r=e.index,i=Me();ie("ngClass",Qi(3,j4,r===0)),H(),eu("alt",i.product.title),ie("src",n,Mr)}}function B4(t,e){if(t&1&&(R(0,"span",25),j(1," \u2605 "),x()),t&2){let n=e.$implicit,r=Me().$implicit;ie("ngClass",Qi(1,vx,n<=r.rating))}}function $4(t,e){if(t&1&&(R(0,"li",22)(1,"div",23)(2,"strong"),j(3),x(),R(4,"span"),j(5),x()(),R(6,"p"),j(7),x(),Ze(8,B4,2,3,"span",24),Ae(9,"br"),x()),t&2){let n=e.$implicit;H(3),lt(n.user.fullName),H(2),tu("",n.date.getFullYear(),"-",n.date.getMonth()+1,"-",n.date.getDate(),""),H(2),lt(n.comment),H(),ie("ngForOf",ty(6,yx))}}function q4(t,e){if(t&1&&(R(0,"div")(1,"ul",20),Ze(2,$4,10,7,"li",21),x()()),t&2){let n=Me();H(2),ie("ngForOf",n.comments)}}function z4(t,e){t&1&&(R(0,"div",26)(1,"p"),j(2,"No comments yet. Be the first to comment!"),x()())}function H4(t,e){if(t&1){let n=ut();R(0,"span",37),fe("click",function(){let i=Fe(n).$implicit,o=Me(2);return Ve(o.setRating(i))}),j(1," \u2605 "),x()}if(t&2){let n=e.$implicit,r=Me(2);ie("ngClass",Qi(1,vx,n<=r.commentForm.controls.rating.value))}}function G4(t,e){if(t&1){let n=ut();R(0,"div",27)(1,"form",28),fe("ngSubmit",function(){Fe(n);let i=Me();return Ve(i.addComment())}),R(2,"div",29)(3,"label",30),j(4,"Your Comment"),x(),Ae(5,"textarea",31),x(),R(6,"div",29)(7,"label",32),j(8,"Rating"),x(),Ae(9,"br"),Ze(10,H4,2,3,"span",33),x(),R(11,"div",29)(12,"label",34),j(13,"Your Name"),x(),Ae(14,"input",35),x(),R(15,"button",36),j(16," Submit Comment "),x()()()}if(t&2){let n=Me();H(),ie("formGroup",n.commentForm),H(9),ie("ngForOf",ty(3,yx)),H(5),ie("disabled",n.commentForm.invalid)}}var Kf=class t{constructor(e,n,r,i,o,s){this.route=e;this.produitService=n;this.sharedService=r;this.authService=o;this.router=s;this.commentForm=i.group({comment:["",yi.required],rating:[0,[yi.required,yi.min(1),yi.max(5)]],user:["",yi.required]})}product;commentForm;comments=[];showForm=!1;isLoggedIn;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.produitService.getProductById(+e).subscribe(r=>{r?this.product=r:console.error("Product not found")},r=>{console.error("Error fetching product:",r)}),this.authService.isAuth$.subscribe(r=>{this.isLoggedIn=r});let n=localStorage.getItem(`comments_${e}`);n&&(this.comments=JSON.parse(n)||[]),this.authService.isAuth$.subscribe(r=>{this.isLoggedIn=r})}addComment(){if(this.commentForm.valid){let e=new Gf(this.commentForm.value.user,"",""),n=this.commentForm.value.rating,r=this.commentForm.value.comment,i=new Date,o=new Wf(e,n,r,new Date);this.comments.push(o);let s=this.route.snapshot.paramMap.get("id");s&&localStorage.setItem(`comments_${s}`,JSON.stringify(this.comments)),this.commentForm.reset(),this.commentForm.patchValue({rating:0})}}getColor(){return this.product?.stock>0?"green":"red"}getState(){return this.product?.stock>0?"En stock":"En rupture de stock"}addToPanier(){this.product&&this.sharedService.addProductToCart({produit:this.product,quantite:1})}toggleForm(){this.isLoggedIn?this.showForm=!this.showForm:this.router.navigate(["/signin"])}setRating(e){this.commentForm.patchValue({rating:e})}static \u0275fac=function(n){return new(n||t)(k(Fr),k(ur),k(Jt),k(ZS),k(dt),k(vt))};static \u0275cmp=Ye({type:t,selectors:[["app-details-produits"]],standalone:!0,features:[Je],decls:35,vars:12,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-md-6"],["id","carouselExample","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExample","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExample","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"text-muted"],[3,"ngStyle"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"mt-4"],["class","mb-4 mt-3",4,"ngIf"],[1,"carousel-item",3,"ngClass"],[1,"d-block","w-100","img-fluid",3,"src","alt"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-between"],["class","star",3,"ngClass",4,"ngFor","ngForOf"],[1,"star",3,"ngClass"],[1,"mt-3"],[1,"mb-4","mt-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","comment",1,"form-label"],["id","comment","formControlName","comment","rows","3","required","",1,"form-control"],[1,"form-label"],["class","star",3,"ngClass","click",4,"ngFor","ngForOf"],["for","user",1,"form-label"],["id","user","type","text","formControlName","user","required","",1,"form-control"],["type","submit",1,"btn","btn-secondary",3,"disabled"],[1,"star",3,"click","ngClass"]],template:function(n,r){n&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),Ze(5,U4,2,5,"div",5),x(),R(6,"button",6),Ae(7,"span",7),R(8,"span",8),j(9,"Previous"),x()(),R(10,"button",9),Ae(11,"span",10),R(12,"span",8),j(13,"Next"),x()()()(),R(14,"div",2)(15,"h2"),j(16),x(),R(17,"p",11),j(18),x(),R(19,"h4"),j(20),x(),R(21,"span",12),j(22),x(),Ae(23,"br"),R(24,"a",13),fe("click",function(){return r.addToPanier()}),j(25,"Add To Panier"),x()(),R(26,"div",2)(27,"h5"),j(28,"User Comments"),x(),Ze(29,q4,3,1,"div",14)(30,z4,3,0,"div",15),R(31,"div",16)(32,"button",13),fe("click",function(){return r.toggleForm()}),j(33),x()(),Ze(34,G4,17,4,"div",17),x()()()),n&2&&(H(5),ie("ngForOf",r.product.images),H(11),lt(r.product.title),H(2),lt(r.product.description),H(2),Qt("",r.product.price," $"),H(),ie("ngStyle",Qi(10,L4,r.getColor())),H(),lt(r.getState()),H(7),ie("ngIf",r.comments.length>0),H(),ie("ngIf",r.comments.length===0),H(3),Qt(" ",r.showForm?"Cancel":"Leave a Comment"," "),H(),ie("ngIf",r.showForm))},dependencies:[Wb,hs,Xd,JS,wi,Zt,Sn,_i,ao,Mv,xv,fs],styles:[".carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{background-color:#00000080;border-radius:50%}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{width:3rem;height:3rem}.carousel-control-prev[_ngcontent-%COMP%]:hover   .carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]:hover   .carousel-control-next-icon[_ngcontent-%COMP%]{background-color:#ffffffb3}textarea[_ngcontent-%COMP%]{resize:none}.list-group-item[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{margin-bottom:10px}.star[_ngcontent-%COMP%]{font-size:1.5rem;cursor:pointer;color:#ddd}.star.filled[_ngcontent-%COMP%]{color:#fc0}"]})};var na=class t{constructor(e,n){this.authService=e;this.router=n}canActivate(e,n){return this.authService.isAuth$.pipe(Z(r=>r?!0:(this.router.navigate(["signin"]),!1)))}static \u0275fac=function(n){return new(n||t)(G(dt),G(vt))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};var Qf=class t{constructor(e,n){this.router=e;this.auth=n}email="";password="";rememberMe=!1;onSubmit(){this.auth.login(this.email,this.password).then(e=>{let n=e.user.multiFactor.user.accessToken;localStorage.setItem("accessToken",n)}),this.router.navigate(["/"])}static \u0275fac=function(n){return new(n||t)(k(vt),k(dt))};static \u0275cmp=Ye({type:t,selectors:[["app-authentification"]],standalone:!0,features:[Je],decls:27,vars:3,consts:[[1,"auth-container"],[1,"auth-form"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","mt-3"],["for","password"],["type","password","id","password","name","password","required","","placeholder","Enter your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-check","mt-3"],["type","checkbox","id","rememberMe","name","rememberMe",1,"form-check-input",3,"ngModelChange","ngModel"],["for","rememberMe",1,"form-check-label"],["type","submit",1,"btn","btn-primary","btn-block","mt-4"],[1,"mt-3"],["routerLink","/signup"],[1,"mt-2"],["routerLink","/forgot-password"]],template:function(n,r){n&1&&(R(0,"div",0)(1,"div",1)(2,"h2"),j(3,"Sign In"),x(),R(4,"form",2),fe("ngSubmit",function(){return r.onSubmit()}),R(5,"div",3)(6,"label",4),j(7,"Email Address"),x(),R(8,"input",5),gt("ngModelChange",function(o){return xt(r.email,o)||(r.email=o),o}),x()(),R(9,"div",6)(10,"label",7),j(11,"Password"),x(),R(12,"input",8),gt("ngModelChange",function(o){return xt(r.password,o)||(r.password=o),o}),x()(),R(13,"div",9)(14,"input",10),gt("ngModelChange",function(o){return xt(r.rememberMe,o)||(r.rememberMe=o),o}),x(),R(15,"label",11),j(16,"Remember Me"),x()(),R(17,"button",12),j(18,"Sign In"),x()(),R(19,"p",13),j(20,"Don't have an account? "),R(21,"a",14),j(22,"Sign up here"),x(),j(23,"."),x(),R(24,"p",15)(25,"a",16),j(26,"Forgot your password?"),x()()()()),n&2&&(H(8),mt("ngModel",r.email),H(4),mt("ngModel",r.password),H(2),mt("ngModel",r.rememberMe))},dependencies:[ar,wi,Zt,Ev,Sn,_i,ao,zn,so,Eh],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.auth-form[_ngcontent-%COMP%]{width:300px;padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-control[_ngcontent-%COMP%], .btn-block[_ngcontent-%COMP%]{width:100%}"]})};function W4(t,e){if(t&1){let n=ut();R(0,"div",13)(1,"input",14),fe("change",function(i){Fe(n);let o=Me();return Ve(o.onFileSelected(i))}),x()()}}function K4(t,e){if(t&1&&(R(0,"h4"),j(1),x()),t&2){let n=Me();H(),lt(n.user.name)}}function Q4(t,e){if(t&1){let n=ut();R(0,"input",15),gt("ngModelChange",function(i){Fe(n);let o=Me();return xt(o.user.name,i)||(o.user.name=i),Ve(i)}),x()}if(t&2){let n=Me();mt("ngModel",n.user.name)}}function Y4(t,e){if(t&1&&(R(0,"p"),j(1),x()),t&2){let n=Me();H(),lt(n.user.email)}}function Z4(t,e){if(t&1){let n=ut();R(0,"input",16),gt("ngModelChange",function(i){Fe(n);let o=Me();return xt(o.user.email,i)||(o.user.email=i),Ve(i)}),x()}if(t&2){let n=Me();mt("ngModel",n.user.email)}}function J4(t,e){if(t&1){let n=ut();R(0,"button",17),fe("click",function(){Fe(n);let i=Me();return Ve(i.toggleEditMode())}),j(1,"Edit Profile"),x()}}function X4(t,e){if(t&1){let n=ut();R(0,"button",18),fe("click",function(){Fe(n);let i=Me();return Ve(i.saveProfile())}),j(1,"Save"),x()}}function e3(t,e){if(t&1){let n=ut();R(0,"button",19),fe("click",function(){Fe(n);let i=Me();return Ve(i.toggleEditMode())}),j(1,"Cancel"),x()}}var Yf=class t{constructor(e){this.auth=e}user={name:"",email:"",profilePicture:""};isEditing=!1;ngOnInit(){this.getUserProfile()}getUserProfile(){let e=this.auth.getUser();e&&(this.user.name=e.name,this.user.email=e.email,this.user.profilePicture=e.profilePicture)}toggleEditMode(){this.isEditing=!this.isEditing}saveProfile(){this.auth.updateUser(this.user),this.isEditing=!1}onFileSelected(e){let n=e.target.files[0];if(n){let r=new FileReader;r.onload=i=>{this.user.profilePicture=i.target.result},r.readAsDataURL(n)}}static \u0275fac=function(n){return new(n||t)(k(dt))};static \u0275cmp=Ye({type:t,selectors:[["app-user-profile"]],standalone:!0,features:[Je],decls:14,vars:9,consts:[[1,"container","mt-5"],[1,"card","mx-auto",2,"max-width","600px"],[1,"card-body","text-center"],[1,"profile-picture","mb-3"],["alt","Profile Picture",1,"rounded-circle","img-fluid",2,"width","150px","height","150px",3,"src"],["class","mb-3",4,"ngIf"],[4,"ngIf"],["class","form-control mb-3","placeholder","Name",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-control mb-3","placeholder","Email","type","email",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-flex","justify-content-center"],["class","btn btn-primary me-2",3,"click",4,"ngIf"],["class","btn btn-success me-2",3,"click",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"mb-3"],["type","file",3,"change"],["placeholder","Name",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["placeholder","Email","type","email",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-success","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(n,r){n&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ae(4,"img",4),x(),Ze(5,W4,2,0,"div",5)(6,K4,2,1,"h4",6)(7,Q4,1,1,"input",7)(8,Y4,2,1,"p",6)(9,Z4,1,1,"input",8),R(10,"div",9),Ze(11,J4,2,0,"button",10)(12,X4,2,0,"button",11)(13,e3,2,0,"button",12),x()()()()),n&2&&(H(4),ie("src",r.user.profilePicture||"assets/default-profile.png",Mr),H(),ie("ngIf",r.isEditing),H(),ie("ngIf",!r.isEditing),H(),ie("ngIf",r.isEditing),H(),ie("ngIf",!r.isEditing),H(),ie("ngIf",r.isEditing),H(2),ie("ngIf",!r.isEditing),H(),ie("ngIf",r.isEditing),H(),ie("ngIf",r.isEditing))},dependencies:[ar,Zt,Sn,zn,fs],styles:[".profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid #ddd;padding:5px}"]})};var Zf=class t{constructor(e,n){this.router=e;this.auth=n}email="";password="";fullName="";onSubmit(){this.auth.signup(this.email,this.password),this.router.navigate(["/signin"])}static \u0275fac=function(n){return new(n||t)(k(vt),k(dt))};static \u0275cmp=Ye({type:t,selectors:[["app-registration"]],standalone:!0,features:[Je],decls:20,vars:4,consts:[["userForm","ngForm"],[1,"auth-container"],[1,"auth-form"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","fullName","name","email","required","","placeholder","Enter your full name",1,"form-control",3,"ngModelChange","ngModel"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","mt-3"],["for","password"],["type","password","id","password","name","password","required","","placeholder","Enter your password",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","btn-block","mt-4",3,"disabled"]],template:function(n,r){if(n&1){let i=ut();R(0,"div",1)(1,"div",2)(2,"h2"),j(3,"Sign In"),x(),R(4,"form",3,0),fe("ngSubmit",function(){return Fe(i),Ve(r.onSubmit())}),R(6,"div",4)(7,"label",5),j(8,"Full Name"),x(),R(9,"input",6),gt("ngModelChange",function(s){return Fe(i),xt(r.fullName,s)||(r.fullName=s),Ve(s)}),x()(),R(10,"div",4)(11,"label",5),j(12,"Email Address"),x(),R(13,"input",7),gt("ngModelChange",function(s){return Fe(i),xt(r.email,s)||(r.email=s),Ve(s)}),x()(),R(14,"div",8)(15,"label",9),j(16,"Password"),x(),R(17,"input",10),gt("ngModelChange",function(s){return Fe(i),xt(r.password,s)||(r.password=s),Ve(s)}),x()(),R(18,"button",11),j(19,"Sign Up"),x()()()()}if(n&2){let i=Fd(5);H(9),mt("ngModel",r.fullName),H(4),mt("ngModel",r.email),H(4),mt("ngModel",r.password),H(),ie("disabled",i.invalid)}},dependencies:[ar,wi,Zt,Sn,_i,ao,zn,so]})};var Jf=class t{constructor(e){this.firestore=e;this.ordersCollection=ea(this.firestore,"orders")}ordersCollection;getValidCommandes(){return qf(this.ordersCollection,{idField:"id"}).pipe(Z(e=>e.map(n=>pe(B({},n),{dateCommande:n.dateCommande.toDate()}))))}static \u0275fac=function(n){return new(n||t)(G(Hr))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};function n3(t,e){if(t&1&&(R(0,"li"),j(1),nu(2,"currency"),x()),t&2){let n=e.$implicit;H(),tu(" Product ID: ",n.produit.id," - Quantity: ",n.quantite," - Price: ",Vd(2,3,n.produit.price)," ")}}function r3(t,e){if(t&1&&(R(0,"div")(1,"p"),j(2),nu(3,"date"),x(),R(4,"p"),j(5),nu(6,"currency"),x(),R(7,"ul"),Ze(8,n3,3,5,"li",2),x()()),t&2){let n=e.$implicit;H(2),Qt("Date: ",yb(3,3,n.dateCommande,"medium"),""),H(3),Qt("Total Amount: ",Vd(6,6,n.montantTotal),""),H(3),ie("ngForOf",n.details)}}function i3(t,e){if(t&1&&(R(0,"div")(1,"h2"),j(2,"Validated Orders"),x(),Ze(3,r3,9,8,"div",2),x()),t&2){let n=e.ngIf;H(3),ie("ngForOf",n)}}function o3(t,e){t&1&&(R(0,"p"),j(1,"Loading orders..."),x())}var Xf=class t{constructor(e){this.commandesService=e}commandes$;ngOnInit(){this.commandes$=this.commandesService.getValidCommandes()}static \u0275fac=function(n){return new(n||t)(k(Jf))};static \u0275cmp=Ye({type:t,selectors:[["app-commandes"]],standalone:!0,features:[Je],decls:4,vars:4,consts:[["loading",""],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"]],template:function(n,r){if(n&1&&(Ze(0,i3,4,1,"div",1),nu(1,"async"),Ze(2,o3,2,0,"ng-template",null,0,_b)),n&2){let i=Fd(3);ie("ngIf",Vd(1,2,r.commandes$))("ngIfElse",i)}},dependencies:[Kb,Qb,Yb,hs,fs]})};var _x=[{path:"",component:Gh},{path:"panier",component:Hf},{path:"product/:id",component:Kf},{path:"signin",component:Qf},{path:"profile",component:Yf,canActivate:[na]},{path:"signup",component:Zf},{path:"commandes",component:Xf}];var ep=class t{isAuth=new Re(!1);isAuth$=this.isAuth.asObservable();defaultUser={name:"EL MEJBAR Otmane",email:"elmejbarotmane@gmail.com",password:"123456",profilePicture:"assets/default-profile.png"};userSubject=new Re(this.defaultUser);user$=this.userSubject.asObservable();constructor(){if(this.isBrowser()){let e=localStorage.getItem("user");e&&this.userSubject.next(JSON.parse(e));let n=localStorage.getItem("isAuth");n&&this.isAuth.next(JSON.parse(n))}}login(e,n){return e===this.defaultUser.email&&n===this.defaultUser.password?(this.isAuth.next(!0),this.isBrowser()&&(localStorage.setItem("isAuth","true"),localStorage.setItem("user",JSON.stringify(this.defaultUser))),console.log("Login successful!"),!0):(console.error("Invalid credentials!"),!1)}logout(){this.isAuth.next(!1),this.isBrowser()&&(localStorage.removeItem("isAuth"),localStorage.removeItem("user"),localStorage.removeItem("cartItems")),this.userSubject.next(this.defaultUser)}isLoggedIn(){return this.isAuth.value}getUser(){return this.userSubject.value}updateUser(e){this.userSubject.next(e),this.isBrowser()&&localStorage.setItem("user",JSON.stringify(e))}isBrowser(){return typeof window<"u"&&typeof localStorage<"u"}static \u0275fac=function(n){return new(n||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};var s3=tn.initializeApp,wx={apiKey:"AIzaSyCU_PjU3kXpaclr3Y7dWisFPXVCB0wwCwE",authDomain:"ecom-82444.firebaseapp.com",projectId:"ecom-82444",storageBucket:"ecom-82444.appspot.com",messagingSenderId:"477797322643",appId:"1:477797322643:web:64838e5f404e8b24ff6266",measurementId:"G-PCN3QWH4KR"},Ix={providers:[Cb({eventCoalescing:!0}),fS(_x),RT(),vT(_T()),ur,Ms,Jt,ep,na,Wa(fA.initializeApp(wx)),Wa(zu),Wa(mA),dt,XS(()=>s3(wx)),lx(()=>px()),ta]};MT(qh,B({},Ix));
